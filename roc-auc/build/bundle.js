var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,e,n){t.$$.on_destroy.push(a(e,n))}function l(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function h(t,e,n,r,i,o){if(i){const a=c(e,n,r,o);t.p(a,i)}}function f(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function _(){return w("")}function $(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function V(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let A,N;function z(){if(void 0===A){A=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){A=!0}}return A}function C(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=v("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=z();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=$(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=$(n.contentWindow,"resize",e)}),p(t,n),()=>{(r||i&&n.contentWindow)&&i(),y(n)}}function R(t,e,n){t.classList[n?"add":"remove"](e)}class T{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=v(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)g(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(y)}}function S(t){N=t}function E(){if(!N)throw new Error("Function called outside component initialization");return N}function P(t){E().$$.on_mount.push(t)}function L(t){return E().$$.context.get(t)}const q=[],O=[],D=[],H=[],j=Promise.resolve();let I=!1;function W(t){D.push(t)}const U=new Set;let F=0;function B(){const t=N;do{for(;F<q.length;){const t=q[F];F++,S(t),X(t.$$)}for(S(null),q.length=0,F=0;O.length;)O.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];U.has(e)||(U.add(e),e())}D.length=0}while(q.length);for(;H.length;)H.pop()();I=!1,U.clear(),S(t)}function X(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const Y=new Set;let G;function Z(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function J(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),G.c.push((()=>{Y.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const K="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(t){t&&t.c()}function tt(t,n,o,a){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,o),a||W((()=>{const n=l.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(W)}function et(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(q.push(t),I||(I=!0,j.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,i,o,a,s,l,c,u=[-1]){const h=N;S(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&nt(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();i.intro&&Z(e.$$.fragment),tt(e,i.target,i.anchor,i.customElement),B()}S(h)}class it{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(e){let n,r,i,o,a,s,l,c,u,h,f,d,m,w,_,$;return{c(){n=v("div"),r=v("a"),i=x("svg"),o=x("g"),a=x("g"),s=x("path"),l=x("path"),c=x("path"),u=x("path"),h=x("g"),f=x("path"),d=x("defs"),m=x("clipPath"),w=x("rect"),_=b(),$=v("h2"),$.innerHTML='MLU-EXPL<span id="ai" class="svelte-14h8icy">AI</span>N',k(s,"id","Vector"),k(s,"d","M90.6641 83.1836C96.8828 83.1836 101.941 78.1289 101.941 71.8906V71.8242C101.941 65.5898 96.8945 60.5312 90.6641 60.5312C84.4453 60.5312 79.3828 65.5898 79.3828 71.8242V71.8906C79.3828 78.1289 84.4336 83.1836 90.6641 83.1836Z"),k(s,"fill",e[1]),k(l,"id","Vector_2"),k(l,"d","M143.305 83.1836C149.523 83.1836 154.586 78.1289 154.586 71.8906V71.8242C154.586 65.5898 149.535 60.5312 143.305 60.5312C137.09 60.5312 132.027 65.5898 132.027 71.8242V71.8906C132.027 78.1289 137.078 83.1836 143.305 83.1836Z"),k(l,"fill",e[1]),k(c,"id","Vector_3"),k(c,"d","M163.586 159.402H173.609V122.641H163.586V159.402Z"),k(c,"fill",e[1]),k(u,"id","Vector_4"),k(u,"d","M60.3594 159.402H70.3867V122.641H60.3594V159.402Z"),k(u,"fill",e[1]),k(f,"id","Vector_5"),k(f,"d","M182.16 30.0781H51.8047V10.0234H182.16V30.0781ZM182.16 103.609H51.8047V40.1055H182.16V103.609ZM144.559 168.789H89.4062V113.641H144.559V168.789ZM0 0V10.0234H15.8789V46.7891H25.9023V10.0234H41.7812V113.641H79.3867V178.816H96.9297V215.578H106.957V178.816H127.016V215.578H137.039V178.816H154.586V113.641H192.188V10.0234H233.969V0"),k(f,"fill",e[1]),k(h,"id","Group"),k(o,"id","mlu_robot 1"),k(o,"clip-path","url(#clip0)"),k(w,"width","233.97"),k(w,"height","215.58"),k(w,"fill","black"),k(m,"id","clip0"),k(i,"width","30"),k(i,"height","30"),k(i,"viewBox","0 0 234 216"),k($,"class","logo svelte-14h8icy"),k(r,"href","https://mlu-explain.github.io"),k(r,"class","svelte-14h8icy"),k(n,"id","intro-icon"),V(n,"--ai-color",e[0]),k(n,"class","svelte-14h8icy")},m(t,e){g(t,n,e),p(n,r),p(r,i),p(i,o),p(o,a),p(a,s),p(a,l),p(a,c),p(a,u),p(a,h),p(h,f),p(i,d),p(d,m),p(m,w),p(r,_),p(r,$)},p(t,[e]){2&e&&k(s,"fill",t[1]),2&e&&k(l,"fill",t[1]),2&e&&k(c,"fill",t[1]),2&e&&k(u,"fill",t[1]),2&e&&k(f,"fill",t[1]),1&e&&V(n,"--ai-color",t[0])},i:t,o:t,d(t){t&&y(n)}}}function at(t,e,n){let{aiLogoColor:r="#c9208a"}=e,{robotLogoColor:i="black"}=e;return t.$$set=t=>{"aiLogoColor"in t&&n(0,r=t.aiLogoColor),"robotLogoColor"in t&&n(1,i=t.robotLogoColor)},[r,i]}class st extends it{constructor(t){super(),rt(this,t,at,ot,o,{aiLogoColor:0,robotLogoColor:1})}}const lt="http://www.w3.org/2000/svg";class ct{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function ut(t,e,n,r,i){return{type:"path",ops:mt(t,e,n,r,i)}}function ht(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let e=0;e<r-1;e++)i.push(...mt(t[e][0],t[e][1],t[e+1][0],t[e+1][1],n));return e&&i.push(...mt(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return 2===r?ut(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function ft(t,e,n,r,i){return function(t,e){return ht(t,!0,e)}([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function dt(t,e,n,r,i){return function(t,e,n,r){const[i,o]=wt(r.increment,t,e,r.rx,r.ry,1,r.increment*gt(.1,gt(.4,1,n),n),n);let a=xt(i,null,n);if(!n.disableMultiStroke){const[i]=wt(r.increment,t,e,r.rx,r.ry,1.5,0,n),o=xt(i,null,n);a=a.concat(o)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}(t,e,i,function(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),o=2*Math.PI/i;let a=Math.abs(t/2),s=Math.abs(e/2);const l=1-n.curveFitting;return a+=yt(a*l,n),s+=yt(s*l,n),{increment:o,rx:a,ry:s}}(n,r,i)).opset}function pt(t){return t.randomizer||(t.randomizer=new ct(t.seed||0)),t.randomizer.next()}function gt(t,e,n,r=1){return n.roughness*r*(pt(n)*(e-t)+t)}function yt(t,e,n=1){return gt(-t,t,e,n)}function mt(t,e,n,r,i,o=!1){const a=o?i.disableMultiStrokeFill:i.disableMultiStroke,s=vt(t,e,n,r,i,!0,!1);if(a)return s;const l=vt(t,e,n,r,i,!0,!0);return s.concat(l)}function vt(t,e,n,r,i,o,a){const s=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(s);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>s&&(u=l/10);const h=u/2,f=.2+.2*pt(i);let d=i.bowing*i.maxRandomnessOffset*(r-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-n)/200;d=yt(d,i,c),p=yt(p,i,c);const g=[],y=()=>yt(h,i,c),m=()=>yt(u,i,c);return o&&(a?g.push({op:"move",data:[t+y(),e+y()]}):g.push({op:"move",data:[t+yt(u,i,c),e+yt(u,i,c)]})),a?g.push({op:"bcurveTo",data:[d+t+(n-t)*f+y(),p+e+(r-e)*f+y(),d+t+2*(n-t)*f+y(),p+e+2*(r-e)*f+y(),n+y(),r+y()]}):g.push({op:"bcurveTo",data:[d+t+(n-t)*f+m(),p+e+(r-e)*f+m(),d+t+2*(n-t)*f+m(),p+e+2*(r-e)*f+m(),n+m(),r+m()]}),g}function xt(t,e,n){const r=t.length,i=[];if(r>3){const o=[],a=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<r;e++){const n=t[e];o[0]=[n[0],n[1]],o[1]=[n[0]+(a*t[e+1][0]-a*t[e-1][0])/6,n[1]+(a*t[e+1][1]-a*t[e-1][1])/6],o[2]=[t[e+1][0]+(a*t[e][0]-a*t[e+2][0])/6,t[e+1][1]+(a*t[e][1]-a*t[e+2][1])/6],o[3]=[t[e+1][0],t[e+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){const t=n.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+yt(t,n),e[1]+yt(t,n)]})}}else 3===r?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===r&&i.push(...mt(t[0][0],t[0][1],t[1][0],t[1][1],n));return i}function wt(t,e,n,r,i,o,a,s){const l=[],c=[],u=yt(.5,s)-Math.PI/2;c.push([yt(o,s)+e+.9*r*Math.cos(u-t),yt(o,s)+n+.9*i*Math.sin(u-t)]);for(let a=u;a<2*Math.PI+u-.01;a+=t){const t=[yt(o,s)+e+r*Math.cos(a),yt(o,s)+n+i*Math.sin(a)];l.push(t),c.push(t)}return c.push([yt(o,s)+e+r*Math.cos(u+2*Math.PI+.5*a),yt(o,s)+n+i*Math.sin(u+2*Math.PI+.5*a)]),c.push([yt(o,s)+e+.98*r*Math.cos(u+a),yt(o,s)+n+.98*i*Math.sin(u+a)]),c.push([yt(o,s)+e+.9*r*Math.cos(u+.5*a),yt(o,s)+n+.9*i*Math.sin(u+.5*a)]),[c,l]}function bt(t,e){return{maxRandomnessOffset:2,roughness:"highlight"===t?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:"double"!==t,disableMultiStrokeFill:!1,seed:e}}function _t(t,e,n,r,i,o){const a=[];let s=n.strokeWidth||2;const l=function(t){const e=t.padding;if(e||0===e){if("number"==typeof e)return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}(n),c=void 0===n.animate||!!n.animate,u=n.iterations||2,h=bt("single",o);switch(n.type){case"underline":{const t=e.y+e.h+l[2];for(let n=0;n<u;n++)n%2?a.push(ut(e.x+e.w,t,e.x,t,h)):a.push(ut(e.x,t,e.x+e.w,t,h));break}case"strike-through":{const t=e.y+e.h/2;for(let n=0;n<u;n++)n%2?a.push(ut(e.x+e.w,t,e.x,t,h)):a.push(ut(e.x,t,e.x+e.w,t,h));break}case"box":{const t=e.x-l[3],n=e.y-l[0],r=e.w+(l[1]+l[3]),i=e.h+(l[0]+l[2]);for(let e=0;e<u;e++)a.push(ft(t,n,r,i,h));break}case"bracket":{const t=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],r=e.x-2*l[3],i=e.x+e.w+2*l[1],o=e.y-2*l[0],s=e.y+e.h+2*l[2];for(const n of t){let t;switch(n){case"bottom":t=[[r,e.y+e.h],[r,s],[i,s],[i,e.y+e.h]];break;case"top":t=[[r,e.y],[r,o],[i,o],[i,e.y]];break;case"left":t=[[e.x,o],[r,o],[r,s],[e.x,s]];break;case"right":t=[[e.x+e.w,o],[i,o],[i,s],[e.x+e.w,s]]}t&&a.push(ht(t,!1,h))}break}case"crossed-off":{const t=e.x,n=e.y,r=t+e.w,i=n+e.h;for(let e=0;e<u;e++)e%2?a.push(ut(r,i,t,n,h)):a.push(ut(t,n,r,i,h));for(let e=0;e<u;e++)e%2?a.push(ut(t,i,r,n,h)):a.push(ut(r,n,t,i,h));break}case"circle":{const t=bt("double",o),n=e.w+(l[1]+l[3]),r=e.h+(l[0]+l[2]),i=e.x-l[3]+n/2,s=e.y-l[0]+r/2,c=Math.floor(u/2),f=u-2*c;for(let e=0;e<c;e++)a.push(dt(i,s,n,r,t));for(let t=0;t<f;t++)a.push(dt(i,s,n,r,h));break}case"highlight":{const t=bt("highlight",o);s=.95*e.h;const n=e.y+e.h/2;for(let r=0;r<u;r++)r%2?a.push(ut(e.x+e.w,n,e.x,n,t)):a.push(ut(e.x,n,e.x+e.w,n,t));break}}if(a.length){const e=function(t){const e=[];for(const n of t){let t="";for(const r of n.ops){const n=r.data;switch(r.op){case"move":t.trim()&&e.push(t.trim()),t=`M${n[0]} ${n[1]} `;break;case"bcurveTo":t+=`C${n[0]} ${n[1]}, ${n[2]} ${n[3]}, ${n[4]} ${n[5]} `;break;case"lineTo":t+=`L${n[0]} ${n[1]} `}}t.trim()&&e.push(t.trim())}return e}(a),o=[],l=[];let u=0;const h=(t,e,n)=>t.setAttribute(e,n);for(const r of e){const e=document.createElementNS(lt,"path");if(h(e,"d",r),h(e,"fill","none"),h(e,"stroke",n.color||"currentColor"),h(e,"stroke-width",""+s),c){const t=e.getTotalLength();o.push(t),u+=t}t.appendChild(e),l.push(e)}if(c){let t=0;for(let e=0;e<l.length;e++){const n=l[e],a=o[e],s=u?i*(a/u):0,c=r+t,h=n.style;h.strokeDashoffset=""+a,h.strokeDasharray=""+a,h.animation=`rough-notation-dash ${s}ms ease-out ${c}ms forwards`,t+=s}}}}class $t{constructor(t,e){this._state="unattached",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout((()=>{this._resizing=!1,"showing"===this._state&&this.haveRectsChanged()&&this.show()}),400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if("unattached"===this._state&&this._e.parentElement){!function(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}();const t=this._svg=document.createElementNS(lt,"svg");t.setAttribute("class","rough-annotation");const e=t.style;e.position="absolute",e.top="0",e.left="0",e.overflow="visible",e.pointerEvents="none",e.width="100px",e.height="100px";const n="highlight"===this._config.type;if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",t),this._state="not-showing",n){const t=window.getComputedStyle(this._e).position;(!t||"static"===t)&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver((t=>{for(const e of t)e.contentRect&&this._resizeListener()}))),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1}isSameRect(t,e){const n=(t,e)=>Math.round(t)===Math.round(e);return n(t.x,e.x)&&n(t.y,e.y)&&n(t.w,e.w)&&n(t.h,e.h)}isShowing(){return"not-showing"!==this._state}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then((()=>{this.isShowing()&&this.show(),delete this.pendingRefresh})))}show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}render(t,e){let n=this._config;e&&(n=JSON.parse(JSON.stringify(this._config)),n.animate=!1);const r=this.rects();let i=0;r.forEach((t=>i+=t.w));const o=n.animationDuration||800;let a=0;for(let e=0;e<r.length;e++){const s=o*(r[e].w/i);_t(t,r[e],n,a+this._animationDelay,s,this._seed),a+=s}this._lastSizes=r,this._state="showing"}rects(){const t=[];if(this._svg)if(this._config.multiline){const e=this._e.getClientRects();for(let n=0;n<e.length;n++)t.push(this.svgRect(this._svg,e[n]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,e){const n=t.getBoundingClientRect(),r=e;return{x:(r.x||r.left)-(n.x||n.left),y:(r.y||r.top)-(n.y||n.top),w:r.width,h:r.height}}}function kt(t,e){return new $t(t,e)}function Mt(e){let n;return{c(){n=v("section"),n.innerHTML='<h1 id="intro-hed" class="svelte-xj49ws"><span id="title-roc">R.O.C.</span>  <br/>&amp; <br/><span id="title-auc">A.U.C.</span></h1> \n  <h1 class="intro-sub svelte-xj49ws">A Visual Explanation of Receiver Operating Characteristic Curves and\n    Area-Under-the-Curve</h1> \n  <h3 id="intro__date" class="svelte-xj49ws"><a href="https://twitter.com/jdwlbr" class="svelte-xj49ws">Jared Wilber</a>, April 2022</h3>',k(n,"id","intro"),k(n,"class","svelte-xj49ws")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}function Vt(t){return P((()=>{const t=document.querySelector("#title-roc"),e=document.querySelector("#title-auc"),n=kt(t,{type:"highlight",color:"rgba(201, 32, 138, 0.7)",strokeWidth:1,iterations:1,multiline:!0,animationDuration:1e3}),r=kt(e,{type:"highlight",color:"rgba(124, 209, 234, 0.7)",strokeWidth:1,iterations:1,multiline:!0,animationDuration:1e3});setTimeout((()=>{n.show(),r.show()}),450)})),[]}class At extends it{constructor(t){super(),rt(this,t,Vt,Mt,o,{})}}function Nt(e){let n,r,i,o,a,s,l,c,u,h,f,d,m;return{c(){n=v("section"),r=v("p"),r.innerHTML='In our <a href="https://mlu-explain.github.io/precision-recall/">previous article discussing evaluating classification models</a>, we discussed the importance of decomposing and understanding your model&#39;s\n    outputs (e.g. the consequences of favoring False Positives over False\n    Negatives, or vice versa). Left unmentioned were two closely-related\n    concepts, the Receiver Operating Characteristic Curve (the\n    <span class="bold">ROC Curve</span>) and the Area under the ROC Curve (<span class="bold">AUC</span>, or <span class="bold">AUROC</span>).\n    <br/><br/>\n    ROC curves were first employed during World War 2 to analyze radar signals: After\n    missing the Japanese aircraft that carried out the attack on Pearl Harbor, the\n    US wanted their radar receiver operators to better identify aircraft from signal\n    noise (e.g. clouds). The operator&#39;s ability to identify as many true positives\n    as possible while minimizing false positives was named the\n    <i>Receiver Operating Characteristic</i>, and the curve analyzing their\n    predictive abilities was called the ROC Curve. Today, ROC curves are used in\n    a number of contexts, including clinical settings (to assess the diagnostic\n    accuracy of a test) and machine learning (the focus of this article).\n\n    <br/><br/>\n    In machine learning, we use ROC Curves to analyze the predictive power of a classifier:\n    they provide a visual way to observe how changes in our model’s classification\n    thresholds affect our model’s performance. Similar to their original use in the\n    1940&#39;s, the curves allow us to select for classification thresholds that allow\n    our model to identify as many true positives as possible while minimizing false\n    positives.\n    <br/><br/>\n    In particular, the ROC curve is composed by plotting a model&#39;s\n    <span class="bold">True-Positive Rate (TPR)</span>\n    versus its <span class="bold">False-Positive Rate (FPR)</span> across all possible\n    classification thresholds, where:',i=b(),o=v("ul"),o.innerHTML='<li class="svelte-1q8vckt"><span class="bold">True Positive Rate (TPR)</span>: The probability that a\n      positive sample is correctly predicted in the positive class. E.g., the\n      percentage of radar signals predicted to be airplanes that actually are\n      airplanes.</li> \n\n    <li class="svelte-1q8vckt"><span class="bold">False Positive Rate (FPR)</span>: The probability that\n      a negative sample is incorrectly predicted in the positive class. E.g.,\n      the percentage of radar signals predicted to be airplanes that actually\n      are\n      <i>not</i>\n      airplanes.</li>',a=b(),s=v("br"),l=b(),c=v("p"),u=w("To make the concept as clear as possible, we'll construct an ROC curve for\n    ourselves. Let's pretend that we have our own model to classify radar\n    signals as either airplanes ("),h=new T,f=w(") or noise (e.g. clouds "),d=new T,m=w(").\n    Items greater than our classification threshold will be predicted to be\n    airplanes, and items less than will be predicted to be noise:"),k(r,"class","body-text"),k(o,"class","body-text svelte-1q8vckt"),h.a=f,d.a=m,k(c,"class","body-text")},m(t,y){g(t,n,y),p(n,r),p(n,i),p(n,o),p(n,a),p(n,s),p(n,l),p(n,c),p(c,u),h.m(e[1],c),p(c,f),d.m(e[0],c),p(c,m)},p:t,i:t,o:t,d(t){t&&y(n)}}}function zt(t){return['<svg xmlns="http://www.w3.org/2000/svg" width="35" height="22" viewBox="0 0 35 22" >\n  <path stroke="white" stroke-width="30"  fill="#7cd1ea" transform="translate(2.5, 2.2) scale(0.042)" d="m558.77 267.66c-2.4492-60.551-52.5-109.02-113.57-109.02-7.0859 0-14.176 0.61328-21.086 \n  1.9258-28.613-33.426-71.398-53.375-115.32-53.375-72.363 0-134.05 50.664-148.4 121.19-51.891 8.9219-90.391 54.246-90.391 107.18v8.3984c0 59.938 \n  48.824 108.76 108.85 108.76h357.18c51.801 0 93.977-42.176 93.977-93.977-0.003906-43.223-29.668-80.758-71.23-91.082z"/>\n  </svg>','<svg xmlns="http://www.w3.org/2000/svg" width="35" height="22" viewBox="0 0 35 22" >\n    <path stroke="white" stroke-width="12" fill="#c9208a" transform="translate(1, 0) scale(0.043)" d="m619.85 214.74c0.050782-33.195-102.47-60.727-235.13-65.004-3.4141-35.895-9.3789-68.66-18.395-96.035-4.9453 0.14062-9.9805 0.23047-15.176 0.23047h-0.93359c-3.7812 0-9.5312-0.0625-16.09-0.25781-9.1094 27.344-15.164 60.094-18.691 95.961-132.67 3.9023-235.26 31.113-235.3 64.293-0.074219 32.922 100.84 60.289 232 64.934 2.0312 60.781 8.3086 121.98 16.637 174.63-61.305 9.7656-86.223 60.969-17.91 61.051l29.301 0.042969c1.3477 6.1211 2.7031 12.078 4.0938 17.672 3.3828 14.262 8.0742 15.223 10.504 0l0.027343-0.027344c1.3945-5.6016 2.7656-11.531 4.1211-17.617l29.047 0.054687c68.176 0.066407 43.598-51.012-17.477-61.059 8.4844-52.633 14.953-113.84 17.152-174.64 131.17-4.2422 232.18-31.305 232.22-64.23zm-95.082-35.809c19.719 0 35.637 16.012 35.633 35.695-0.039063 19.719-16.039 35.688-35.734 35.648-19.75-0.035157-35.688-16.012-35.648-35.734 0.007813-19.715 16.035-35.664 35.75-35.609zm-350.31 70.84c-19.75-0.003906-35.672-16.023-35.672-35.734 0.0625-19.738 16.031-35.648 35.789-35.617 19.68 0.011719 35.598 16.023 35.598 35.734-0.003906 19.66-16.02 35.637-35.715 35.617z"/>\n </svg>']}class Ct extends it{constructor(t){super(),rt(this,t,zt,Nt,o,{})}}function Rt(e){let n;return{c(){n=v("section"),n.innerHTML='<h1 class="body-header">Considerations</h1> \n  <p class="body-text">In modern machine learning, ROC and AUC are commonly used tools for\n    evaluating the performance of a classifier. However, as with everything,\n    they’re not perfect! In cases when you desire well-calibrated probability\n    outputs (i.e. when you care about the true likelihood of an event, and not\n    just model performance), ROC/AUC will give us no such information.\n    Additionally, the AUC metric treats all classification errors equally,\n    ignoring the potential consequences of ignoring one type over another. For\n    example, in cancer detection, we’ll probably want to minimize false\n    negatives (even at the risk of increasing false positives). That said, even\n    in these cases plotting the ROC may help in understanding the potential\n    strengths and weaknesses of your model, and where special care should be\n    given.</p> \n  <hr class="svelte-dax2is"/> \n  <p class="body-text">Thanks for reading! We hope that the article is insightful no matter where\n    you are along your Machine Learning journey, and that you came away with a\n    better understanding of ROC and AUC in the context of machine learning.\n    <br/><br/>\n\n    To learn more about Machine Learning, check out our\n    <a class="on-end" href="https://aws.amazon.com/machine-learning/mlu/">self-paced courses</a>, our\n    <a class="on-end" href="https://www.youtube.com/channel/UC12LqyqTQYbXatYS9AA7Nuw">YouTube videos</a>, and the\n    <a class="on-end" href="https://d2l.ai/">Dive into Deep Learning</a>\n    textbook. If you have any comments or ideas related to\n    <a class="on-end" href="https://mlu-explain.github.io/">MLU-Explain articles</a>, feel free to reach out\n    <a class="on-end" href="https://twitter.com/jdwlbr">directly</a>. The code\n    for this article is available\n    <a class="on-end" href="https://github.com/aws-samples/aws-mlu-explain">here</a>.\n    <br/><br/>\n    A special thanks goes out to <span class="bold">Brent Werness</span> for his\n    valuable contributions to the article.</p>',k(n,"id","conclusion")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}class Tt extends it{constructor(t){super(),rt(this,t,null,Rt,o,{})}}function St(e){let n,r,i,o,a,s,l;return{c(){n=v("br"),r=b(),i=v("br"),o=b(),a=v("br"),s=b(),l=v("section"),l.innerHTML='<div id="resource-content" class="svelte-14sfdtx"><br/> \n    <h3 class="body-header">References + Open Source</h3> \n    <p class="body-text svelte-14sfdtx">This article is a product of the following resources + the awesome people\n      who made (and contributed to) them:</p> \n    <br/> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://www.ahajournals.org/doi/10.1161/circulationaha.105.594929">Receiver-Operating Characteristic Analysis for Evaluating Diagnostic\n        Tests and Predictive Models</a><br/>\n      (Kelly H. Zou, A. James O’Malley and Laura Mauri, 2007).</p> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://www.ahajournals.org/doi/10.1161/circulationaha.105.594929">Using the Receiver Operating Characteristic (ROC) curve to analyze a\n        classification model: A final note of historical interest</a><br/>\n      (University of Utah, 2017).</p> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://rmets.onlinelibrary.wiley.com/doi/abs/10.1256/003590002320603584">Areas beneath the relative operating characteristics (ROC) and relative\n        operating levels (ROL) curves: Statistical significance and\n        interpretation</a><br/>\n      (S. J. Mason, N. E. Graham, 2002).</p> \n\n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://d3js.org/">D3.js</a><br/>(Mike Bostock &amp;\n      Philippe Rivière)</p> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://layercake.graphics/">LayerCake</a><br/>(Michael Keller)</p> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://roughnotation.com/">Rough Notation</a><br/>(Preet Shihn)</p> \n    <p class="resource-item svelte-14sfdtx"><a class="on-end svelte-14sfdtx" href="https://svelte.dev/">Svelte</a><br/>(Rich Harris)</p> \n    <br/> \n    <br/> \n    <br/></div>',k(l,"id","resources"),k(l,"class","svelte-14sfdtx")},m(t,e){g(t,n,e),g(t,r,e),g(t,i,e),g(t,o,e),g(t,a,e),g(t,s,e),g(t,l,e)},p:t,i:t,o:t,d(t){t&&y(n),t&&y(r),t&&y(i),t&&y(o),t&&y(a),t&&y(s),t&&y(l)}}}class Et extends it{constructor(t){super(),rt(this,t,null,St,o,{})}}function Pt(t){let e,n;const r=t[7].default,i=l(r,t,t[6],null);return{c(){e=v("div"),i&&i.c()},m(r,o){g(r,e,o),i&&i.m(e,null),t[8](e),n=!0},p(t,[e]){i&&i.p&&(!n||64&e)&&h(i,r,t,t[6],n?u(r,t[6],e,null):f(t[6]),null)},i(t){n||(Z(i,t),n=!0)},o(t){J(i,t),n=!1},d(n){n&&y(e),i&&i.d(n),t[8](null)}}}function Lt(t,e,n){let{$$slots:r={},$$scope:i}=e,{root:o=null}=e,{top:a=0}=e,{bottom:s=0}=e,{increments:l=100}=e,{value:c}=e;const u=[],h=[];let f,d=[],p=[];const g=()=>{d.length&&d.forEach(y)},y=(t,e)=>{const r={root:o,rootMargin:`${a?-1*a:0}px 0px ${s?-1*s:0}px 0px`,threshold:h};p[e]&&p[e].disconnect();const i=new IntersectionObserver((t=>{t[0].isIntersecting;const r=t[0].intersectionRatio;u[e]=r,(()=>{let t=0,e=0;for(let n=0;n<u.length;n++)u[n]>t&&(t=u[n],e=n);n(1,c=t>0?e:void 0)})()}),r);i.observe(t),p[e]=i};return P((()=>{for(let t=0;t<l+1;t++)h.push(t/l);d=f.querySelectorAll(":scope > *"),g()})),t.$$set=t=>{"root"in t&&n(2,o=t.root),"top"in t&&n(3,a=t.top),"bottom"in t&&n(4,s=t.bottom),"increments"in t&&n(5,l=t.increments),"value"in t&&n(1,c=t.value),"$$scope"in t&&n(6,i=t.$$scope)},t.$$.update=()=>{24&t.$$.dirty&&g()},[f,c,o,a,s,l,i,r,function(t){O[t?"unshift":"push"]((()=>{f=t,n(0,f)}))}]}class qt extends it{constructor(t){super(),rt(this,t,Lt,Pt,o,{root:2,top:3,bottom:4,increments:5,value:1})}}var Ot="http://www.w3.org/1999/xhtml",Dt={svg:"http://www.w3.org/2000/svg",xhtml:Ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Dt.hasOwnProperty(e)?{space:Dt[e],local:t}:t}function jt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ot&&e.documentElement.namespaceURI===Ot?e.createElement(t):e.createElementNS(n,t)}}function It(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Wt(t){var e=Ht(t);return(e.local?It:jt)(e)}function Ut(){}function Ft(t){return null==t?Ut:function(){return this.querySelector(t)}}function Bt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Xt(){return[]}function Yt(t){return null==t?Xt:function(){return this.querySelectorAll(t)}}function Gt(t){return function(){return this.matches(t)}}function Zt(t){return function(e){return e.matches(t)}}var Jt=Array.prototype.find;function Kt(){return this.firstElementChild}var Qt=Array.prototype.filter;function te(){return this.children}function ee(t){return new Array(t.length)}function ne(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function re(t){return function(){return t}}function ie(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ne(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function oe(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<f;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new ne(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function ae(t){return t.__data__}function se(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function le(t){return function(){this.removeAttribute(t)}}function ce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ue(t,e){return function(){this.setAttribute(t,e)}}function he(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fe(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function de(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function pe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ge(t){return function(){this.style.removeProperty(t)}}function ye(t,e,n){return function(){this.style.setProperty(t,e,n)}}function me(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ve(t,e){return t.style.getPropertyValue(e)||pe(t).getComputedStyle(t,null).getPropertyValue(e)}function xe(t){return function(){delete this[t]}}function we(t,e){return function(){this[t]=e}}function be(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function _e(t){return t.trim().split(/^|\s+/)}function $e(t){return t.classList||new ke(t)}function ke(t){this._node=t,this._names=_e(t.getAttribute("class")||"")}function Me(t,e){for(var n=$e(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ve(t,e){for(var n=$e(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ae(t){return function(){Me(this,t)}}function Ne(t){return function(){Ve(this,t)}}function ze(t,e){return function(){(e.apply(this,arguments)?Me:Ve)(this,t)}}function Ce(){this.textContent=""}function Re(t){return function(){this.textContent=t}}function Te(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Se(){this.innerHTML=""}function Ee(t){return function(){this.innerHTML=t}}function Pe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Le(){this.nextSibling&&this.parentNode.appendChild(this)}function qe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oe(){return null}function De(){var t=this.parentNode;t&&t.removeChild(this)}function He(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function je(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ie(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function We(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ue(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Fe(t,e,n){var r=pe(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Be(t,e){return function(){return Fe(this,t,e)}}function Xe(t,e){return function(){return Fe(this,t,e.apply(this,arguments))}}ne.prototype={constructor:ne,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ke.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ye=[null];function Ge(t,e){this._groups=t,this._parents=e}function Ze(){return new Ge([[document.documentElement]],Ye)}function Je(t){return"string"==typeof t?new Ge([[document.querySelector(t)]],[document.documentElement]):new Ge([[t]],Ye)}function Ke(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Qe(t){return"string"==typeof t?new Ge([document.querySelectorAll(t)],[document.documentElement]):new Ge([null==t?[]:Bt(t)],Ye)}Ge.prototype=Ze.prototype={constructor:Ge,select:function(t){"function"!=typeof t&&(t=Ft(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Ge(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Bt(e)}}(t):Yt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Ge(r,i)},selectChild:function(t){return this.select(null==t?Kt:function(t){return function(){return Jt.call(this.children,t)}}("function"==typeof t?t:Zt(t)))},selectChildren:function(t){return this.selectAll(null==t?te:function(t){return function(){return Qt.call(this.children,t)}}("function"==typeof t?t:Zt(t)))},filter:function(t){"function"!=typeof t&&(t=Gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ge(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ae);var n=e?oe:ie,r=this._parents,i=this._groups;"function"!=typeof t&&(t=re(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],f=h.length,d=Bt(t.call(u,u&&u.__data__,c,r)),p=d.length,g=s[c]=new Array(p),y=a[c]=new Array(p),m=l[c]=new Array(f);n(u,h,g,y,m,d,e);for(var v,x,w=0,b=0;w<p;++w)if(v=g[w]){for(w>=b&&(b=w+1);!(x=y[b])&&++b<p;);v._next=x||null}}return(a=new Ge(a,r))._enter=s,a._exit=l,a},enter:function(){return new Ge(this._enter||this._groups.map(ee),this._parents)},exit:function(){return new Ge(this._exit||this._groups.map(ee),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Ge))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new Ge(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=se);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Ge(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ht(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ce:le:"function"==typeof e?n.local?de:fe:n.local?he:ue)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ge:"function"==typeof e?me:ye)(t,e,null==n?"":n)):ve(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?xe:"function"==typeof e?be:we)(t,e)):this.node()[t]},classed:function(t,e){var n=_e(t+"");if(arguments.length<2){for(var r=$e(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ze:e?Ae:Ne)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ce:("function"==typeof t?Te:Re)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Se:("function"==typeof t?Pe:Ee)(t)):this.node().innerHTML},raise:function(){return this.each(Le)},lower:function(){return this.each(qe)},append:function(t){var e="function"==typeof t?t:Wt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Wt(t),r=null==e?Oe:"function"==typeof e?e:Ft(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(De)},clone:function(t){return this.select(t?je:He)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Ie(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ue:We,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Xe:Be)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const tn=Math.PI,en=2*tn,nn=1e-6,rn=en-nn;function on(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function an(){return new on}function sn(t){return function(){return t}}function ln(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function cn(t){this._context=t}function un(t){return new cn(t)}function hn(t){return t[0]}function fn(t){return t[1]}function dn(t,e){var n=sn(!0),r=null,i=un,o=null;function a(a){var s,l,c,u=(a=ln(a)).length,h=!1;for(null==r&&(o=i(c=an())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?hn:sn(t),e="function"==typeof e?e:void 0===e?fn:sn(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:sn(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:sn(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:sn(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function pn(t,e){this._context=t,this._t=e}function gn(t){return new pn(t,.5)}function yn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mn(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>yn(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}on.prototype=an.prototype={constructor:on,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>nn)if(Math.abs(u*s-l*c)>nn&&i){var f=n-o,d=r-a,p=s*s+l*l,g=f*f+d*d,y=Math.sqrt(p),m=Math.sqrt(h),v=i*Math.tan((tn-Math.acos((p+h-g)/(2*y*m)))/2),x=v/m,w=v/y;Math.abs(x-1)>nn&&(this._+="L"+(t+x*c)+","+(e+x*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>nn||Math.abs(this._y1-c)>nn)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%en+en),h>rn?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>nn&&(this._+="A"+n+","+n+",0,"+ +(h>=tn)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};const vn=mn(yn).right;mn((function(t){return null===t?NaN:+t})).center;var xn=vn,wn=Math.sqrt(50),bn=Math.sqrt(10),_n=Math.sqrt(2);function $n(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=kn(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function kn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=wn?10:o>=bn?5:o>=_n?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=wn?10:o>=bn?5:o>=_n?2:1)}function Mn(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=wn?i*=10:o>=bn?i*=5:o>=_n&&(i*=2),e<t?-i:i}function Vn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function An(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Nn=Symbol("implicit");function zn(){var t=new Map,e=[],n=[],r=Nn;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Nn)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return zn(e,n).unknown(r)},An.apply(i,arguments),i}function Cn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tn(){}var Sn=.7,En=1/Sn,Pn="\\s*([+-]?\\d+)\\s*",Ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",On=/^#([0-9a-f]{3,8})$/,Dn=new RegExp("^rgb\\("+[Pn,Pn,Pn]+"\\)$"),Hn=new RegExp("^rgb\\("+[qn,qn,qn]+"\\)$"),jn=new RegExp("^rgba\\("+[Pn,Pn,Pn,Ln]+"\\)$"),In=new RegExp("^rgba\\("+[qn,qn,qn,Ln]+"\\)$"),Wn=new RegExp("^hsl\\("+[Ln,qn,qn]+"\\)$"),Un=new RegExp("^hsla\\("+[Ln,qn,qn,Ln]+"\\)$"),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bn(){return this.rgb().formatHex()}function Xn(){return this.rgb().formatRgb()}function Yn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=On.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Gn(e):3===n?new Qn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Zn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Zn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Dn.exec(t))?new Qn(e[1],e[2],e[3],1):(e=Hn.exec(t))?new Qn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jn.exec(t))?Zn(e[1],e[2],e[3],e[4]):(e=In.exec(t))?Zn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wn.exec(t))?rr(e[1],e[2]/100,e[3]/100,1):(e=Un.exec(t))?rr(e[1],e[2]/100,e[3]/100,e[4]):Fn.hasOwnProperty(t)?Gn(Fn[t]):"transparent"===t?new Qn(NaN,NaN,NaN,0):null}function Gn(t){return new Qn(t>>16&255,t>>8&255,255&t,1)}function Zn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qn(t,e,n,r)}function Jn(t){return t instanceof Tn||(t=Yn(t)),t?new Qn((t=t.rgb()).r,t.g,t.b,t.opacity):new Qn}function Kn(t,e,n,r){return 1===arguments.length?Jn(t):new Qn(t,e,n,null==r?1:r)}function Qn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tr(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)}function er(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function nr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function rr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new or(t,e,n,r)}function ir(t){if(t instanceof or)return new or(t.h,t.s,t.l,t.opacity);if(t instanceof Tn||(t=Yn(t)),!t)return new or;if(t instanceof or)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new or(a,s,l,t.opacity)}function or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ar(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Cn(Tn,Yn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Bn,formatHex:Bn,formatHsl:function(){return ir(this).formatHsl()},formatRgb:Xn,toString:Xn}),Cn(Qn,Kn,Rn(Tn,{brighter:function(t){return t=null==t?En:Math.pow(En,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Sn:Math.pow(Sn,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tr,formatHex:tr,formatRgb:er,toString:er})),Cn(or,(function(t,e,n,r){return 1===arguments.length?ir(t):new or(t,e,n,null==r?1:r)}),Rn(Tn,{brighter:function(t){return t=null==t?En:Math.pow(En,t),new or(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Sn:Math.pow(Sn,t),new or(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qn(ar(t>=240?t-240:t+120,i,r),ar(t,i,r),ar(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var sr=t=>()=>t;function lr(t){return 1==(t=+t)?cr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):sr(isNaN(e)?n:e)}}function cr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):sr(isNaN(t)?e:t)}var ur=function t(e){var n=lr(e);function r(t,e){var r=n((t=Kn(t)).r,(e=Kn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=cr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function hr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function fr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=xr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function dr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gr(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=xr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(yr.source,"g");function vr(t,e){var n,r,i,o=yr.lastIndex=mr.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=yr.exec(t))&&(r=mr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:pr(n,r)})),o=mr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function xr(t,e){var n,r=typeof e;return null==e||"boolean"===r?sr(e):("number"===r?pr:"string"===r?(n=Yn(e))?(e=n,ur):vr:e instanceof Yn?ur:e instanceof Date?dr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?hr:Array.isArray(e)?fr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?gr:pr)(t,e)}function wr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var br,_r=180/Math.PI,$r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kr(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*_r,skewX:Math.atan(l)*_r,scaleX:a,scaleY:s}}function Mr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:pr(t,i)},{i:l-2,x:pr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:pr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:pr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:pr(t,n)},{i:s-2,x:pr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Vr=Mr((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$r:kr(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ar=Mr((function(t){return null==t?$r:(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",t),(t=br.transform.baseVal.consolidate())?kr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):$r)}),", ",")",")");function Nr(t){return+t}var zr=[0,1];function Cr(t){return t}function Rr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Tr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Rr(i,r),o=n(a,o)):(r=Rr(r,i),o=n(o,a)),function(t){return o(r(t))}}function Sr(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Rr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=xn(t,e,1,r)-1;return o[n](i[n](e))}}function Er(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pr(){var t,e,n,r,i,o,a=zr,s=zr,l=xr,c=Cr;function u(){var t=Math.min(a.length,s.length);return c!==Cr&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Sr:Tr,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),pr)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Nr),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=wr,u()},h.clamp=function(t){return arguments.length?(c=!!t||Cr,u()):c!==Cr},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Lr(){return Pr()(Cr,Cr)}function qr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Or(t){return(t=qr(Math.abs(t)))?t[1]:NaN}var Dr,Hr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jr(t){if(!(e=Hr.exec(t)))throw new Error("invalid format: "+t);var e;return new Ir({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ir(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wr(t,e){var n=qr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}jr.prototype=Ir.prototype,Ir.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ur={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wr(100*t,e),r:Wr,s:function(t,e){var n=qr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qr(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fr(t){return t}var Br,Xr,Yr,Gr=Array.prototype.map,Zr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Fr:(e=Gr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Fr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Gr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=jr(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Ur[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?l:"",b=Ur[v],_=/[defgprs%]/.test(v);function $(t){var i,o,l,f=x,$=w;if("c"===v)$=b(t)+$,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:c:"-"===h||"("===h?"":h)+f,$=("s"===v?Zr[8+Dr/3]:"")+$+(k&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){$=(46===l?a+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=f.length+t.length+$.length,V=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(V+t,V.length?p-$.length:1/0),V=""),n){case"<":t=f+t+$+V;break;case"=":t=f+V+t+$;break;case"^":t=V.slice(0,M=V.length>>1)+f+t+$+V.slice(M);break;default:t=V+f+t+$}return s(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),$.toString=function(){return t+""},$}return{format:h,formatPrefix:function(t,e){var n=h(((t=jr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3))),i=Math.pow(10,-r),o=Zr[8+r/3];return function(t){return n(i*t)+o}}}}function Kr(t){return Math.max(0,-Or(Math.abs(t)))}function Qr(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3)))-Or(Math.abs(t)))}function ti(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Or(e)-Or(t))+1}function ei(t){var e=t.domain;return t.ticks=function(t){var n=e();return $n(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=Mn(t,e,n);switch((r=jr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Qr(o,a))||(r.precision=i),Yr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ti(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Kr(o))||(r.precision=i-2*("%"===r.type))}return Xr(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=kn(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function ni(){var t=Lr();return t.copy=function(){return Er(t,ni())},An.apply(t,arguments),ei(t)}Br=Jr({thousands:",",grouping:[3],currency:["$",""]}),Xr=Br.format,Yr=Br.formatPrefix;const ri=[];function ii(e,n=t){let r;const i=new Set;function a(t){if(o(e,t)&&(e=t,r)){const t=!ri.length;for(const t of i)t[1](),ri.push(t,e);if(t){for(let t=0;t<ri.length;t+=2)ri[t][0](ri[t+1]);ri.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,s=t){const l=[o,s];return i.add(l),1===i.size&&(r=n(a)||t),o(e),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function oi(e,n,o){const s=!Array.isArray(e),l=s?[e]:e,c=n.length<2;return function(t,e){return{subscribe:ii(t,e).subscribe}}(o,(e=>{let o=!1;const u=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(s?u[0]:u,e);c?e(r):f=i(r)?r:t},p=l.map(((t,e)=>a(t,(t=>{u[e]=t,h&=~(1<<e),o&&d()}),(()=>{h|=1<<e}))));return o=!0,d(),function(){r(p),f()}}))}const ai=ii(0),si=ii(0),li=ii(0),ci=ii(0),ui=ii(0),hi=ii(0),fi=ii(.005),di=ii([]),pi=ii({top:40,bottom:20,left:50,right:10}),gi=ii({top:12,bottom:18,left:50,right:40}),yi=ii(13.5),mi=ii(.04),vi=ii(5);function xi(t,e,n){const r=t.slice();return r[16]=e[n],r}function wi(t,e,n){const r=t.slice();return r[19]=e[n],r}function bi(t,e,n){const r=t.slice();return r[19]=e[n],r}function _i(t){let e,n,r,i,o,a,s=t[19]+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","y-axis-line svelte-n22qs5"),k(n,"x1","0"),k(n,"x2","0"),k(n,"y1","0"),k(n,"y2",r=-t[0]+t[6].bottom+t[6].top),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","error-axis-text svelte-n22qs5"),k(i,"y","15"),k(i,"text-anchor","middle"),k(e,"transform",a=`translate(${t[3](t[19])+0} ${t[0]-t[6].bottom})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){65&i&&r!==(r=-t[0]+t[6].bottom+t[6].top)&&k(n,"y2",r),8&i&&s!==(s=t[19]+"")&&M(o,s),73&i&&a!==(a=`translate(${t[3](t[19])+0} ${t[0]-t[6].bottom})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function $i(t){let e,n,r,i,o,a,s=t[10](t[19])+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","y-axis-line svelte-n22qs5"),k(n,"x1","0"),k(n,"x2",r=t[1]-t[6].right-t[6].left),k(n,"y1","0"),k(n,"y2","0"),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","error-axis-text svelte-n22qs5"),k(i,"y","0"),k(i,"text-anchor","end"),k(i,"dominant-baseline","middle"),k(e,"transform",a=`translate(${t[6].left-5} ${t[2](t[19])+0})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){66&i&&r!==(r=t[1]-t[6].right-t[6].left)&&k(n,"x2",r),68&i&&a!==(a=`translate(${t[6].left-5} ${t[2](t[19])+0})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function ki(t){let e,n,r,i,o;return{c(){e=x("circle"),k(e,"class","roc-circle"),k(e,"fill","#9e1f63"),k(e,"stroke","#fff"),k(e,"stroke-width","1.5"),k(e,"cx",n=t[3](t[16].fpr)),k(e,"cy",r=t[2](t[16].tpr)),k(e,"r",t[9]),k(e,"tpr",i=t[16].tpr),k(e,"fpr",o=t[16].fpr)},m(t,n){g(t,e,n)},p(t,a){264&a&&n!==(n=t[3](t[16].fpr))&&k(e,"cx",n),260&a&&r!==(r=t[2](t[16].tpr))&&k(e,"cy",r),512&a&&k(e,"r",t[9]),256&a&&i!==(i=t[16].tpr)&&k(e,"tpr",i),256&a&&o!==(o=t[16].fpr)&&k(e,"fpr",o)},d(t){t&&y(e)}}}function Mi(e){let n,r,i,o,a,s,l,c,u,h,f,d,b,$,M,V,A,N,z,R,S,E,P,L,q,O,D,H,j,I,U,F,B,X,Y=`TPR: ${e[11](e[5])}`,G=`FPR: ${e[11](e[4])}`,Z=e[3].ticks(),J=[];for(let t=0;t<Z.length;t+=1)J[t]=_i(bi(e,Z,t));let K=[0,.2,.4,.6,.8,1],Q=[];for(let t=0;t<6;t+=1)Q[t]=$i(wi(e,K,t));let tt=e[8],et=[];for(let t=0;t<tt.length;t+=1)et[t]=ki(xi(e,tt,t));return{c(){n=v("div"),r=x("svg");for(let t=0;t<J.length;t+=1)J[t].c();i=_();for(let t=0;t<6;t+=1)Q[t].c();o=x("line"),c=x("line"),b=x("path"),M=x("path");for(let t=0;t<et.length;t+=1)et[t].c();A=x("text"),N=new T,z=x("tspan"),R=x("text"),S=w("Label"),L=x("text"),q=w("False Positive Rate"),H=x("text"),j=w("True Positive Rate"),F=x("circle"),k(o,"class","error-axis-line"),k(o,"y1",a=e[0]-e[6].bottom),k(o,"y2",s=e[0]-e[6].bottom),k(o,"x1",l=e[6].left),k(o,"x2",e[1]),k(o,"stroke","black"),k(o,"stroke-width","0"),k(c,"class","error-axis-line"),k(c,"y1",u=e[6].top),k(c,"y2",h=e[0]-e[6].bottom),k(c,"x1",f=e[6].left),k(c,"x2",d=e[6].left),k(c,"stroke","black"),k(c,"stroke-width","0"),k(b,"class","outline-line svelte-n22qs5"),k(b,"d",$=e[7](e[8])),k(b,"stroke","#9e1f63"),k(M,"class","path-line svelte-n22qs5"),k(M,"d",V=e[7](e[8])),k(M,"stroke","#9e1f63"),N.a=z,k(z,"id","highlight-tspan"),k(z,"dy","16"),k(z,"class","svelte-n22qs5"),k(A,"id","highlight-text"),k(A,"text-anchor","middle"),k(A,"opacity","0"),k(A,"x","0"),k(A,"y","0"),k(A,"class","svelte-n22qs5"),k(R,"id","error-text-accuracy"),k(R,"class","error-text svelte-n22qs5"),k(R,"y",E=e[2](.79)),k(R,"x",P=e[3](9.2)),k(R,"dominant-baseline","middle"),k(L,"class","roc-axis-label svelte-n22qs5"),k(L,"y",O=e[0]+e[6].bottom),k(L,"x",D=(e[1]+e[6].left)/2),k(L,"text-anchor","middle"),k(H,"class","roc-axis-label svelte-n22qs5"),k(H,"y",I=e[6].left/3),k(H,"x",U=-e[0]/2),k(H,"text-anchor","middle"),k(H,"transform","rotate(-90)"),k(F,"class","highlight-circle"),k(F,"fill","#c9208a"),k(F,"stroke","black"),k(F,"stroke-width","1.5"),k(F,"r","7.5"),k(F,"cx","0"),k(F,"cy","0"),k(F,"opacity","0"),k(r,"width",e[1]),k(r,"height",B=e[0]+e[6].top+e[6].bottom),k(n,"id","roc-scatter-chart"),k(n,"class","svelte-n22qs5"),W((()=>e[12].call(n)))},m(t,a){g(t,n,a),p(n,r);for(let t=0;t<J.length;t+=1)J[t].m(r,null);p(r,i);for(let t=0;t<6;t+=1)Q[t].m(r,null);p(r,o),p(r,c),p(r,b),p(r,M);for(let t=0;t<et.length;t+=1)et[t].m(r,null);p(r,A),N.m(Y,A),p(A,z),z.innerHTML=G,p(r,R),p(R,S),p(r,L),p(L,q),p(r,H),p(H,j),p(r,F),X=C(n,e[12].bind(n))},p(t,[e]){if(73&e){let n;for(Z=t[3].ticks(),n=0;n<Z.length;n+=1){const o=bi(t,Z,n);J[n]?J[n].p(o,e):(J[n]=_i(o),J[n].c(),J[n].m(r,i))}for(;n<J.length;n+=1)J[n].d(1);J.length=Z.length}if(1094&e){let n;for(K=[0,.2,.4,.6,.8,1],n=0;n<6;n+=1){const i=wi(t,K,n);Q[n]?Q[n].p(i,e):(Q[n]=$i(i),Q[n].c(),Q[n].m(r,o))}for(;n<6;n+=1)Q[n].d(1)}if(65&e&&a!==(a=t[0]-t[6].bottom)&&k(o,"y1",a),65&e&&s!==(s=t[0]-t[6].bottom)&&k(o,"y2",s),64&e&&l!==(l=t[6].left)&&k(o,"x1",l),2&e&&k(o,"x2",t[1]),64&e&&u!==(u=t[6].top)&&k(c,"y1",u),65&e&&h!==(h=t[0]-t[6].bottom)&&k(c,"y2",h),64&e&&f!==(f=t[6].left)&&k(c,"x1",f),64&e&&d!==(d=t[6].left)&&k(c,"x2",d),384&e&&$!==($=t[7](t[8]))&&k(b,"d",$),384&e&&V!==(V=t[7](t[8]))&&k(M,"d",V),780&e){let n;for(tt=t[8],n=0;n<tt.length;n+=1){const i=xi(t,tt,n);et[n]?et[n].p(i,e):(et[n]=ki(i),et[n].c(),et[n].m(r,A))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}32&e&&Y!==(Y=`TPR: ${t[11](t[5])}`)&&N.p(Y),16&e&&G!==(G=`FPR: ${t[11](t[4])}`)&&(z.innerHTML=G),4&e&&E!==(E=t[2](.79))&&k(R,"y",E),8&e&&P!==(P=t[3](9.2))&&k(R,"x",P),65&e&&O!==(O=t[0]+t[6].bottom)&&k(L,"y",O),66&e&&D!==(D=(t[1]+t[6].left)/2)&&k(L,"x",D),64&e&&I!==(I=t[6].left/3)&&k(H,"y",I),1&e&&U!==(U=-t[0]/2)&&k(H,"x",U),2&e&&k(r,"width",t[1]),65&e&&B!==(B=t[0]+t[6].top+t[6].bottom)&&k(r,"height",B)},i:t,o:t,d(t){t&&y(n),m(J,t),m(Q,t),m(et,t),X()}}}function Vi(t,e,n){let r,i,o,a,l,c,u,h;s(t,hi,(t=>n(4,a=t))),s(t,ui,(t=>n(5,l=t))),s(t,di,(t=>n(8,c=t))),s(t,gi,(t=>n(6,u=t))),s(t,vi,(t=>n(9,h=t))),P((()=>{d(ui,l=1,l),d(hi,a=.975,a)}));const f=Xr(".1f"),p=Xr(".2f");let g=500,y=500;function m(t){const e=c.map((t=>t.id)),n=c.filter((({id:t,tpr:n,fpr:r},i)=>!e.includes(t,i+1))),o=[...n.filter((({id:t,tpr:e,fpr:n},r)=>null!=e)),t];d(di,c=o.sort(((t,e)=>e.tpr-t.tpr)).sort(((t,e)=>e.fpr-t.fpr)),c),function(t){Je(".highlight-circle").style("opacity",1).attr("cx",r(t.fpr)).attr("cy",i(t.tpr)).attr("fill","#c9208a").raise(),Je("#highlight-text").style("opacity",1).attr("x",r(t.fpr)).attr("y",i(t.tpr)).raise(),Je("#highlight-tspan").style("opacity",1).attr("x",r(t.fpr)).attr("y",i(t.tpr)).raise()}(t)}return t.$$.update=()=>{66&t.$$.dirty&&n(3,r=ni().domain([0,1]).range([u.left,y-u.right])),65&t.$$.dirty&&n(2,i=ni().domain([0,1]).range([g-u.bottom,u.top])),12&t.$$.dirty&&n(7,o=dn().x((t=>r(t.fpr))).y((t=>i(t.tpr))).curve(gn)),48&t.$$.dirty&&(isNaN(l)||isNaN(a)||m({id:""+a+l,tpr:l,fpr:a}))},[g,y,i,r,a,l,u,o,c,h,f,p,function(){y=this.offsetWidth,g=this.offsetHeight,n(1,y),n(0,g)}]}class Ai extends it{constructor(t){super(),rt(this,t,Vi,Mi,o,{})}}function Ni(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function zi(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function Ci(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array. If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let o,a,s,l,c,u,h,f;const d=t.length;for(o=0;o<i;o+=1){for(l=r[o],h=e[l],c=null,u=null,a=0;a<d;a+=1)if(f=h(t[a]),Array.isArray(f)){const t=f.length;for(s=0;s<t;s+=1)void 0!==f[s]&&null!==f[s]&&!1===Number.isNaN(f[s])&&((null===c||f[s]<c)&&(c=f[s]),(null===u||f[s]>u)&&(u=f[s]))}else null!=f&&!1===Number.isNaN(f)&&((null===c||f<c)&&(c=f),(null===u||f>u)&&(u=f));n[l]=[c,u]}return n}function Ri(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function Ti(t){return function([e,n]){return e?Ri(e[t],n):n}}function Si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ei(t){return+t}var Pi=[0,1];function Li(t){return t}function qi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Oi(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=qi(i,r),o=n(a,o)):(r=qi(r,i),o=n(o,a)),function(t){return o(r(t))}}function Di(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qi(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=xn(t,e,1,r)-1;return o[n](i[n](e))}}function Hi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ji(){var t,e,n,r,i,o,a=Pi,s=Pi,l=xr,c=Li;function u(){var t=Math.min(a.length,s.length);return c!==Li&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Di:Oi,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),pr)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Ei),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=wr,u()},h.clamp=function(t){return arguments.length?(c=!!t||Li,u()):c!==Li},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Ii(){return ji()(Li,Li)}function Wi(t){var e=t.domain;return t.ticks=function(t){var n=e();return $n(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=Mn(t,e,n);switch((r=jr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Qr(o,a))||(r.precision=i),Yr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ti(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Kr(o))||(r.precision=i-2*("%"===r.type))}return Xr(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=kn(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ui(){var t=Ii();return t.copy=function(){return Hi(t,Ui())},Si.apply(t,arguments),Wi(t)}function Fi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xi(t){return t<0?-t*t:t*t}function Yi(t){var e=t(Li,Li),n=1;function r(){return 1===n?t(Li,Li):.5===n?t(Bi,Xi):t(Fi(n),Fi(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Wi(e)}function Gi(){var t=Yi(ji());return t.copy=function(){return Hi(t,Gi()).exponent(t.exponent())},Si.apply(t,arguments),t}var Zi={x:Ui,y:Ui,z:Ui,r:function(){return Gi.apply(null,arguments).exponent(.5)}};function Ji(t){return t}function Ki(t){return e=>Math.log(t*e)}function Qi(t){return e=>t*Math.exp(e)}function to(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function eo(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function no(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ro(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:Ki(n),ground:Qi(n),scaleType:e}}if("pow"===e){const t=1;return{lift:no(t),ground:no(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:no(t),ground:no(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:to(t),ground:eo(t),scaleType:e}}return{lift:Ji,ground:Ji,scaleType:e}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,h=e[1]||0,f=(s-a)/(Math.abs(c-l)-u-h);return[a-u*f,h*f+s].map((t=>r(o?new Date(t):t)))}function io(t){return function([e,n,r,i,o,a,s,l,c,u]){if(null===n)return null;const h=function(t,e,n,r,i,o){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,o]:[o,a]}(t,e,n,r,o)}(t,s,l,a,c,u),f=e===Zi[t]?e():e.copy();return f.domain(Ri(n[t],r)).range(h),i&&f.domain(ro(f,i)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function oo([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function ao([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var so={x:!1,y:!0,z:!1,r:!1};const lo=t=>({element:4&t[0],width:256&t[0],height:512&t[0],aspectRatio:1024&t[0],containerWidth:128&t[0],containerHeight:64&t[0]}),co=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function uo(t){let e,n,r;const i=t[90].default,o=l(i,t,t[89],co);return{c(){e=v("div"),o&&o.c(),k(e,"class","layercake-container svelte-vhzpsp"),W((()=>t[92].call(e))),V(e,"position",t[5],!1),V(e,"top","absolute"===t[5]?"0":null,!1),V(e,"right","absolute"===t[5]?"0":null,!1),V(e,"bottom","absolute"===t[5]?"0":null,!1),V(e,"left","absolute"===t[5]?"0":null,!1),V(e,"pointer-events",!1===t[4]?"none":null,!1)},m(i,a){g(i,e,a),o&&o.m(e,null),t[91](e),n=C(e,t[92].bind(e)),r=!0},p(t,n){o&&o.p&&(!r||1988&n[0]|134217728&n[2])&&h(o,i,t,t[89],r?u(i,t[89],n,lo):f(t[89]),co),32&n[0]&&V(e,"position",t[5],!1),32&n[0]&&V(e,"top","absolute"===t[5]?"0":null,!1),32&n[0]&&V(e,"right","absolute"===t[5]?"0":null,!1),32&n[0]&&V(e,"bottom","absolute"===t[5]?"0":null,!1),32&n[0]&&V(e,"left","absolute"===t[5]?"0":null,!1),16&n[0]&&V(e,"pointer-events",!1===t[4]?"none":null,!1)},i(t){r||(Z(o,t),r=!0)},o(t){J(o,t),r=!1},d(r){r&&y(e),o&&o.d(r),t[91](null),n()}}}function ho(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&uo(t);return{c(){i&&i.c(),e=_()},m(t,r){i&&i.m(t,r),g(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&Z(i,1)):(i=uo(t),i.c(),Z(i,1),i.m(e.parentNode,e)):i&&(G={r:0,c:[],p:G},J(i,1,1,(()=>{i=null})),G.r||r(G.c),G=G.p)},i(t){n||(Z(i),n=!0)},o(t){J(i),n=!1},d(t){i&&i.d(t),t&&y(e)}}}function fo(t,e,n){let r,i,o,a,l,c,u,h,f,p,g,y,m,v,x,w,b,_,$,k,M,V,A,N,z,C,R,T,S,L,q,D,H,j,I,W,U,F,B,X,Y,{$$slots:G={},$$scope:Z}=e,{ssr:J=!1}=e,{pointerEvents:K=!0}=e,{position:Q="relative"}=e,{percentRange:tt=!1}=e,{width:et}=e,{height:nt}=e,{containerWidth:rt=et||100}=e,{containerHeight:it=nt||100}=e,{element:ot}=e,{x:at}=e,{y:st}=e,{z:lt}=e,{r:ct}=e,{data:ut=[]}=e,{xDomain:ht}=e,{yDomain:ft}=e,{zDomain:dt}=e,{rDomain:pt}=e,{xNice:gt=!1}=e,{yNice:yt=!1}=e,{zNice:mt=!1}=e,{rNice:vt=!1}=e,{xReverse:xt=so.x}=e,{yReverse:wt=so.y}=e,{zReverse:bt=so.z}=e,{rReverse:_t=so.r}=e,{xPadding:$t}=e,{yPadding:kt}=e,{zPadding:Mt}=e,{rPadding:Vt}=e,{xScale:At=Zi.x}=e,{yScale:Nt=Zi.y}=e,{zScale:zt=Zi.z}=e,{rScale:Ct=Zi.r}=e,{xRange:Rt}=e,{yRange:Tt}=e,{zRange:St}=e,{rRange:Et}=e,{padding:Pt={}}=e,{extents:Lt={}}=e,{flatData:qt}=e,{custom:Ot={}}=e,Dt=!1;P((()=>{Dt=!0}));const Ht={},jt=ii(tt);s(t,jt,(t=>n(128,F=t)));const It=ii(rt);s(t,It,(t=>n(7,U=t)));const Wt=ii(it);s(t,Wt,(t=>n(6,W=t)));const Ut=ii(zi(Lt));s(t,Ut,(t=>n(127,I=t)));const Ft=ii(ut);s(t,Ft,(t=>n(126,j=t)));const Bt=ii(qt||ut);s(t,Bt,(t=>n(125,H=t)));const Xt=ii(Pt);s(t,Xt,(t=>n(124,D=t)));const Yt=ii(Ni(at));s(t,Yt,(t=>n(123,q=t)));const Gt=ii(Ni(st));s(t,Gt,(t=>n(122,L=t)));const Zt=ii(Ni(lt));s(t,Zt,(t=>n(121,S=t)));const Jt=ii(Ni(ct));s(t,Jt,(t=>n(120,T=t)));const Kt=ii(ht);s(t,Kt,(t=>n(119,R=t)));const Qt=ii(ft);s(t,Qt,(t=>n(118,C=t)));const te=ii(dt);s(t,te,(t=>n(117,z=t)));const ee=ii(pt);s(t,ee,(t=>n(116,N=t)));const ne=ii(gt);s(t,ne,(t=>n(115,A=t)));const re=ii(yt);s(t,re,(t=>n(114,V=t)));const ie=ii(mt);s(t,ie,(t=>n(113,M=t)));const oe=ii(vt);s(t,oe,(t=>n(112,k=t)));const ae=ii(xt);s(t,ae,(t=>n(111,$=t)));const se=ii(wt);s(t,se,(t=>n(110,_=t)));const le=ii(bt);s(t,le,(t=>n(109,b=t)));const ce=ii(_t);s(t,ce,(t=>n(108,w=t)));const ue=ii($t);s(t,ue,(t=>n(107,x=t)));const he=ii(kt);s(t,he,(t=>n(106,v=t)));const fe=ii(Mt);s(t,fe,(t=>n(105,m=t)));const de=ii(Vt);s(t,de,(t=>n(104,y=t)));const pe=ii(Rt);s(t,pe,(t=>n(103,g=t)));const ge=ii(Tt);s(t,ge,(t=>n(102,p=t)));const ye=ii(St);s(t,ye,(t=>n(101,f=t)));const me=ii(Et);s(t,me,(t=>n(100,h=t)));const ve=ii(At);s(t,ve,(t=>n(99,u=t)));const xe=ii(Nt);s(t,xe,(t=>n(98,c=t)));const we=ii(zt);s(t,we,(t=>n(97,l=t)));const be=ii(Ct);s(t,be,(t=>n(96,a=t)));const _e=ii(Ht);s(t,_e,(t=>n(94,i=t)));const $e=ii(Ot);s(t,$e,(t=>n(95,o=t)));const ke=oi([Yt,Gt,Zt,Jt],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i})),Me=oi([Xt,It,Wt],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ve=oi([It,Wt,Me],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===Dt&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===Dt&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ae=oi([Ve],(([t])=>t.width));s(t,Ae,(t=>n(8,B=t)));const Ne=oi([Ve],(([t])=>t.height));s(t,Ne,(t=>n(9,X=t)));const ze=oi([Bt,ke,Ut],(([t,e,n])=>{const r=zi(e,n);return Object.keys(r).length>0?{...Ci(t,r),...n}:{}})),Ce=oi([ze,Kt],Ti("x")),Re=oi([ze,Qt],Ti("y")),Te=oi([ze,te],Ti("z")),Se=oi([ze,ee],Ti("r")),Ee=oi([ve,ze,Ce,ue,ne,ae,Ae,Ne,pe,jt],io("x")),Pe=oi([Yt,Ee],oo),Le=oi([xe,ze,Re,he,re,se,Ae,Ne,ge,jt],io("y")),qe=oi([Gt,Le],oo),Oe=oi([we,ze,Te,fe,ie,le,Ae,Ne,ye,jt],io("z")),De=oi([Zt,Oe],oo),He=oi([be,ze,Se,de,oe,ce,Ae,Ne,me,jt],io("r")),je=oi([Jt,He],oo),Ie=oi([Ee],ao),We=oi([Le],ao),Ue=oi([Oe],ao),Fe=oi([He],ao),Be=oi([Ae,Ne],(([t,e])=>t/e));return s(t,Be,(t=>n(10,Y=t))),t.$$set=t=>{"ssr"in t&&n(3,J=t.ssr),"pointerEvents"in t&&n(4,K=t.pointerEvents),"position"in t&&n(5,Q=t.position),"percentRange"in t&&n(51,tt=t.percentRange),"width"in t&&n(52,et=t.width),"height"in t&&n(53,nt=t.height),"containerWidth"in t&&n(0,rt=t.containerWidth),"containerHeight"in t&&n(1,it=t.containerHeight),"element"in t&&n(2,ot=t.element),"x"in t&&n(54,at=t.x),"y"in t&&n(55,st=t.y),"z"in t&&n(56,lt=t.z),"r"in t&&n(57,ct=t.r),"data"in t&&n(58,ut=t.data),"xDomain"in t&&n(59,ht=t.xDomain),"yDomain"in t&&n(60,ft=t.yDomain),"zDomain"in t&&n(61,dt=t.zDomain),"rDomain"in t&&n(62,pt=t.rDomain),"xNice"in t&&n(63,gt=t.xNice),"yNice"in t&&n(64,yt=t.yNice),"zNice"in t&&n(65,mt=t.zNice),"rNice"in t&&n(66,vt=t.rNice),"xReverse"in t&&n(67,xt=t.xReverse),"yReverse"in t&&n(68,wt=t.yReverse),"zReverse"in t&&n(69,bt=t.zReverse),"rReverse"in t&&n(70,_t=t.rReverse),"xPadding"in t&&n(71,$t=t.xPadding),"yPadding"in t&&n(72,kt=t.yPadding),"zPadding"in t&&n(73,Mt=t.zPadding),"rPadding"in t&&n(74,Vt=t.rPadding),"xScale"in t&&n(75,At=t.xScale),"yScale"in t&&n(76,Nt=t.yScale),"zScale"in t&&n(77,zt=t.zScale),"rScale"in t&&n(78,Ct=t.rScale),"xRange"in t&&n(79,Rt=t.xRange),"yRange"in t&&n(80,Tt=t.yRange),"zRange"in t&&n(81,St=t.zRange),"rRange"in t&&n(82,Et=t.rRange),"padding"in t&&n(83,Pt=t.padding),"extents"in t&&n(84,Lt=t.extents),"flatData"in t&&n(85,qt=t.flatData),"custom"in t&&n(86,Ot=t.custom),"$$scope"in t&&n(89,Z=t.$$scope)},t.$$.update=()=>{8388608&t.$$.dirty[1]&&at&&n(87,Ht.x=at,Ht),16777216&t.$$.dirty[1]&&st&&n(87,Ht.y=st,Ht),33554432&t.$$.dirty[1]&&lt&&n(87,Ht.z=lt,Ht),67108864&t.$$.dirty[1]&&ct&&n(87,Ht.r=ct,Ht),268435456&t.$$.dirty[1]&&ht&&n(87,Ht.xDomain=ht,Ht),536870912&t.$$.dirty[1]&&ft&&n(87,Ht.yDomain=ft,Ht),1073741824&t.$$.dirty[1]&&dt&&n(87,Ht.zDomain=dt,Ht),1&t.$$.dirty[2]&&pt&&n(87,Ht.rDomain=pt,Ht),131072&t.$$.dirty[2]&&Rt&&n(87,Ht.xRange=Rt,Ht),262144&t.$$.dirty[2]&&Tt&&n(87,Ht.yRange=Tt,Ht),524288&t.$$.dirty[2]&&St&&n(87,Ht.zRange=St,Ht),1048576&t.$$.dirty[2]&&Et&&n(87,Ht.rRange=Et,Ht),1048576&t.$$.dirty[1]&&d(jt,F=tt,F),1&t.$$.dirty[0]&&d(It,U=rt,U),2&t.$$.dirty[0]&&d(Wt,W=it,W),4194304&t.$$.dirty[2]&&d(Ut,I=zi(Lt),I),134217728&t.$$.dirty[1]&&d(Ft,j=ut,j),134217728&t.$$.dirty[1]|8388608&t.$$.dirty[2]&&d(Bt,H=qt||ut,H),2097152&t.$$.dirty[2]&&d(Xt,D=Pt,D),8388608&t.$$.dirty[1]&&d(Yt,q=Ni(at),q),16777216&t.$$.dirty[1]&&d(Gt,L=Ni(st),L),33554432&t.$$.dirty[1]&&d(Zt,S=Ni(lt),S),67108864&t.$$.dirty[1]&&d(Jt,T=Ni(ct),T),268435456&t.$$.dirty[1]&&d(Kt,R=ht,R),536870912&t.$$.dirty[1]&&d(Qt,C=ft,C),1073741824&t.$$.dirty[1]&&d(te,z=dt,z),1&t.$$.dirty[2]&&d(ee,N=pt,N),2&t.$$.dirty[2]&&d(ne,A=gt,A),4&t.$$.dirty[2]&&d(re,V=yt,V),8&t.$$.dirty[2]&&d(ie,M=mt,M),16&t.$$.dirty[2]&&d(oe,k=vt,k),32&t.$$.dirty[2]&&d(ae,$=xt,$),64&t.$$.dirty[2]&&d(se,_=wt,_),128&t.$$.dirty[2]&&d(le,b=bt,b),256&t.$$.dirty[2]&&d(ce,w=_t,w),512&t.$$.dirty[2]&&d(ue,x=$t,x),1024&t.$$.dirty[2]&&d(he,v=kt,v),2048&t.$$.dirty[2]&&d(fe,m=Mt,m),4096&t.$$.dirty[2]&&d(de,y=Vt,y),131072&t.$$.dirty[2]&&d(pe,g=Rt,g),262144&t.$$.dirty[2]&&d(ge,p=Tt,p),524288&t.$$.dirty[2]&&d(ye,f=St,f),1048576&t.$$.dirty[2]&&d(me,h=Et,h),8192&t.$$.dirty[2]&&d(ve,u=At,u),16384&t.$$.dirty[2]&&d(xe,c=Nt,c),32768&t.$$.dirty[2]&&d(we,l=zt,l),65536&t.$$.dirty[2]&&d(be,a=Ct,a),16777216&t.$$.dirty[2]&&d($e,o=Ot,o),33554432&t.$$.dirty[2]&&d(_e,i=Ht,i),67108864&t.$$.dirty[2]&&function(t,e){E().$$.context.set(t,e)}("LayerCake",r)},n(88,r={activeGetters:ke,width:Ae,height:Ne,percentRange:jt,aspectRatio:Be,containerWidth:It,containerHeight:Wt,x:Yt,y:Gt,z:Zt,r:Jt,custom:$e,data:Ft,xNice:ne,yNice:re,zNice:ie,rNice:oe,xReverse:ae,yReverse:se,zReverse:le,rReverse:ce,xPadding:ue,yPadding:he,zPadding:fe,rPadding:de,padding:Me,flatData:Bt,extents:ze,xDomain:Ce,yDomain:Re,zDomain:Te,rDomain:Se,xRange:Ie,yRange:We,zRange:Ue,rRange:Fe,config:_e,xScale:Ee,xGet:Pe,yScale:Le,yGet:qe,zScale:Oe,zGet:De,rScale:He,rGet:je}),[rt,it,ot,J,K,Q,W,U,B,X,Y,jt,It,Wt,Ut,Ft,Bt,Xt,Yt,Gt,Zt,Jt,Kt,Qt,te,ee,ne,re,ie,oe,ae,se,le,ce,ue,he,fe,de,pe,ge,ye,me,ve,xe,we,be,_e,$e,Ae,Ne,Be,tt,et,nt,at,st,lt,ct,ut,ht,ft,dt,pt,gt,yt,mt,vt,xt,wt,bt,_t,$t,kt,Mt,Vt,At,Nt,zt,Ct,Rt,Tt,St,Et,Pt,Lt,qt,Ot,Ht,r,Z,G,function(t){O[t?"unshift":"push"]((()=>{ot=t,n(2,ot)}))},function(){rt=this.clientWidth,it=this.clientHeight,n(0,rt),n(1,it)}]}class po extends it{constructor(t){super(),rt(this,t,fo,ho,o,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xReverse:67,yReverse:68,zReverse:69,rReverse:70,xPadding:71,yPadding:72,zPadding:73,rPadding:74,xScale:75,yScale:76,zScale:77,rScale:78,xRange:79,yRange:80,zRange:81,rRange:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const go=t=>({element:1&t}),yo=t=>({element:t[0]}),mo=t=>({element:1&t}),vo=t=>({element:t[0]});function xo(t){let e,n,r,i,o;const a=t[12].defs,s=l(a,t,t[11],vo),c=t[12].default,d=l(c,t,t[11],yo);return{c(){e=x("svg"),n=x("defs"),s&&s.c(),r=x("g"),d&&d.c(),k(r,"class","layercake-layout-svg_g"),k(r,"transform",i="translate("+t[7].left+", "+t[7].top+")"),k(e,"class","layercake-layout-svg svelte-u84d8d"),k(e,"viewBox",t[4]),k(e,"width",t[5]),k(e,"height",t[6]),V(e,"z-index",t[2],!1),V(e,"pointer-events",!1===t[3]?"none":null,!1)},m(i,a){g(i,e,a),p(e,n),s&&s.m(n,null),p(e,r),d&&d.m(r,null),t[13](r),t[14](e),o=!0},p(t,[n]){s&&s.p&&(!o||2049&n)&&h(s,a,t,t[11],o?u(a,t[11],n,mo):f(t[11]),vo),d&&d.p&&(!o||2049&n)&&h(d,c,t,t[11],o?u(c,t[11],n,go):f(t[11]),yo),(!o||128&n&&i!==(i="translate("+t[7].left+", "+t[7].top+")"))&&k(r,"transform",i),(!o||16&n)&&k(e,"viewBox",t[4]),(!o||32&n)&&k(e,"width",t[5]),(!o||64&n)&&k(e,"height",t[6]),4&n&&V(e,"z-index",t[2],!1),8&n&&V(e,"pointer-events",!1===t[3]?"none":null,!1)},i(t){o||(Z(s,t),Z(d,t),o=!0)},o(t){J(s,t),J(d,t),o=!1},d(n){n&&y(e),s&&s.d(n),d&&d.d(n),t[13](null),t[14](null)}}}function wo(t,e,n){let r,i,o,{$$slots:a={},$$scope:l}=e,{element:c}=e,{innerElement:u}=e,{zIndex:h}=e,{pointerEvents:f}=e,{viewBox:d}=e;const{containerWidth:p,containerHeight:g,padding:y}=L("LayerCake");return s(t,p,(t=>n(5,r=t))),s(t,g,(t=>n(6,i=t))),s(t,y,(t=>n(7,o=t))),t.$$set=t=>{"element"in t&&n(0,c=t.element),"innerElement"in t&&n(1,u=t.innerElement),"zIndex"in t&&n(2,h=t.zIndex),"pointerEvents"in t&&n(3,f=t.pointerEvents),"viewBox"in t&&n(4,d=t.viewBox),"$$scope"in t&&n(11,l=t.$$scope)},[c,u,h,f,d,r,i,o,p,g,y,l,a,function(t){O[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},function(t){O[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class bo extends it{constructor(t){super(),rt(this,t,wo,xo,o,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function _o(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function $o(t){let e,n;return{c(){e=x("line"),k(e,"class","gridline svelte-1vrc33l"),k(e,"y1",n=-1*t[10]),k(e,"y2","0"),k(e,"x1","0"),k(e,"x2","0")},m(t,n){g(t,e,n)},p(t,r){1024&r&&n!==(n=-1*t[10])&&k(e,"y1",n)},d(t){t&&y(e)}}}function ko(t){let e,n,r;return{c(){e=x("line"),k(e,"class","tick-mark svelte-1vrc33l"),k(e,"y1",0),k(e,"y2",6),k(e,"x1",n=t[5]||t[7]?t[8].bandwidth()/2:0),k(e,"x2",r=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,n){g(t,e,n)},p(t,i){416&i&&n!==(n=t[5]||t[7]?t[8].bandwidth()/2:0)&&k(e,"x1",n),416&i&&r!==(r=t[5]||t[7]?t[8].bandwidth()/2:0)&&k(e,"x2",r)},d(t){t&&y(e)}}}function Mo(t){let e,n,r,i,o,a,s,l,c=t[4](t[19])+"",u=!1!==t[0]&&$o(t),h=!0===t[1]&&ko(t);return{c(){e=x("g"),u&&u.c(),n=_(),h&&h.c(),r=x("text"),i=w(c),k(r,"x",o=t[5]||t[7]?t[8].bandwidth()/2:0),k(r,"y",t[6]),k(r,"dx",""),k(r,"dy",""),k(r,"text-anchor",a=t[16](t[21])),k(r,"class","svelte-1vrc33l"),k(e,"class",s="tick tick-"+t[21]+" svelte-1vrc33l"),k(e,"transform",l="translate("+t[8](t[19])+","+(t[9][0]+12)+")")},m(t,o){g(t,e,o),u&&u.m(e,null),p(e,n),h&&h.m(e,null),p(e,r),p(r,i)},p(t,a){!1!==t[0]?u?u.p(t,a):(u=$o(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?h?h.p(t,a):(h=ko(t),h.c(),h.m(e,r)):h&&(h.d(1),h=null),16&a&&c!==(c=t[4](t[19])+"")&&M(i,c),416&a&&o!==(o=t[5]||t[7]?t[8].bandwidth()/2:0)&&k(r,"x",o),64&a&&k(r,"y",t[6]),768&a&&l!==(l="translate("+t[8](t[19])+","+(t[9][0]+12)+")")&&k(e,"transform",l)},d(t){t&&y(e),u&&u.d(),h&&h.d()}}}function Vo(t){let e,n,r;return{c(){e=x("line"),k(e,"class","baseline svelte-1vrc33l"),k(e,"y1",n=t[10]+.5),k(e,"y2",r=t[10]+.5),k(e,"x1","0"),k(e,"x2",t[11])},m(t,n){g(t,e,n)},p(t,i){1024&i&&n!==(n=t[10]+.5)&&k(e,"y1",n),1024&i&&r!==(r=t[10]+.5)&&k(e,"y2",r),2048&i&&k(e,"x2",t[11])},d(t){t&&y(e)}}}function Ao(e){let n,r,i=[0,.2,.4,.6,.8,1],o=[];for(let t=0;t<6;t+=1)o[t]=Mo(_o(e,i,t));let a=!0===e[2]&&Vo(e);return{c(){n=x("g");for(let t=0;t<6;t+=1)o[t].c();r=_(),a&&a.c(),k(n,"class","axis x-axis svelte-1vrc33l"),R(n,"snapTicks",e[3])},m(t,e){g(t,n,e);for(let t=0;t<6;t+=1)o[t].m(n,null);p(n,r),a&&a.m(n,null)},p(t,[e]){if(67571&e){let a;for(i=[0,.2,.4,.6,.8,1],a=0;a<6;a+=1){const s=_o(t,i,a);o[a]?o[a].p(s,e):(o[a]=Mo(s),o[a].c(),o[a].m(n,r))}for(;a<6;a+=1)o[a].d(1)}!0===t[2]?a?a.p(t,e):(a=Vo(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),8&e&&R(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&y(n),m(o,t),a&&a.d()}}}function No(t,e,n){let r,i,o,a,l,c;const{width:u,height:h,xScale:f,yRange:d}=L("LayerCake");s(t,u,(t=>n(11,c=t))),s(t,h,(t=>n(10,l=t))),s(t,f,(t=>n(8,o=t))),s(t,d,(t=>n(9,a=t)));let{gridlines:p=!0}=e,{tickMarks:g=!1}=e,{baseline:y=!1}=e,{snapTicks:m=!1}=e,{formatTick:v=(t=>t)}=e,{ticks:x}=e,{xTick:w=0}=e,{yTick:b=16}=e;return t.$$set=t=>{"gridlines"in t&&n(0,p=t.gridlines),"tickMarks"in t&&n(1,g=t.tickMarks),"baseline"in t&&n(2,y=t.baseline),"snapTicks"in t&&n(3,m=t.snapTicks),"formatTick"in t&&n(4,v=t.formatTick),"ticks"in t&&n(17,x=t.ticks),"xTick"in t&&n(5,w=t.xTick),"yTick"in t&&n(6,b=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&n(7,r="function"==typeof o.bandwidth),131456&t.$$.dirty&&(i=Array.isArray(x)?x:r?o.domain():"function"==typeof x?x(o.ticks()):o.ticks(x))},[p,g,y,m,v,w,b,r,o,a,l,c,u,h,f,d,function(t){if(!0===m){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},x]}class zo extends it{constructor(t){super(),rt(this,t,No,Ao,o,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:17,xTick:5,yTick:6})}}function Co(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,f,d=t._root,p={data:r},g=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+m)/2))?g=o:m=o,(u=n>=(a=(y+v)/2))?y=a:v=a,i=d,!(d=d[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+m)/2))?g=o:m=o,(u=n>=(a=(y+v)/2))?y=a:v=a}while((h=u<<1|c)==(f=(l>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function Ro(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function To(t){return t[0]}function So(t){return t[1]}function Eo(t,e,n){var r=new Po(null==e?To:e,null==n?So:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Po(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Lo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var qo=Eo.prototype=Po.prototype;function Oo(t){return function(){return t}}function Do(t){return 1e-6*(t()-.5)}function Ho(t){return t.x+t.vx}function jo(t){return t.y+t.vy}qo.copy=function(){var t,e,n=new Po(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Lo(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Lo(e));return n},qo.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Co(this.cover(e,n),e,n,t)},qo.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Co(this,a[n],s[n],t[n]);return this},qo.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},qo.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},qo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},qo.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ro(g,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>d||(a=l.x1)<u||(s=l.y1)<h))if(g.length){var y=(i+a)/2,m=(o+s)/2;p.push(new Ro(g[3],y,m,a,s),new Ro(g[2],i,m,y,s),new Ro(g[1],y,o,a,m),new Ro(g[0],i,o,y,m)),(c=(e>=m)<<1|t>=y)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),w=v*v+x*x;if(w<n){var b=Math.sqrt(n=w);u=t-b,h=e-b,f=t+b,d=e+b,r=g.data}}return r},qo.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,f,d=this._root,p=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+y)/2))?p=s:y=s,(u=a>=(l=(g+m)/2))?g=l:m=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},qo.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},qo.root=function(){return this._root},qo.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},qo.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Ro(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Ro(n,c,u,o,a)),(n=l[2])&&s.push(new Ro(n,r,u,c,a)),(n=l[1])&&s.push(new Ro(n,c,i,o,u)),(n=l[0])&&s.push(new Ro(n,r,i,c,u))}return this},qo.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ro(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Ro(o,a,s,u,h)),(o=i[1])&&n.push(new Ro(o,u,s,l,h)),(o=i[2])&&n.push(new Ro(o,a,h,u,c)),(o=i[3])&&n.push(new Ro(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},qo.x=function(t){return arguments.length?(this._x=t,this):this._x},qo.y=function(t){return arguments.length?(this._y=t,this):this._y};var Io={value:()=>{}};function Wo(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Uo(r)}function Uo(t){this._=t}function Fo(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Bo(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Xo(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Io,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Uo.prototype=Wo.prototype={constructor:Uo,on:function(t,e){var n,r=this._,i=Fo(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Xo(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Xo(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Bo(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Uo(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Yo,Go,Zo=0,Jo=0,Ko=0,Qo=0,ta=0,ea=0,na="object"==typeof performance&&performance.now?performance:Date,ra="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ia(){return ta||(ra(oa),ta=na.now()+ea)}function oa(){ta=0}function aa(){this._call=this._time=this._next=null}function sa(t,e,n){var r=new aa;return r.restart(t,e,n),r}function la(){ta=(Qo=na.now())+ea,Zo=Jo=0;try{!function(){ia(),++Zo;for(var t,e=Yo;e;)(t=ta-e._time)>=0&&e._call.call(null,t),e=e._next;--Zo}()}finally{Zo=0,function(){var t,e,n=Yo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yo=e);Go=t,ua(r)}(),ta=0}}function ca(){var t=na.now(),e=t-Qo;e>1e3&&(ea-=e,Qo=t)}function ua(t){Zo||(Jo&&(Jo=clearTimeout(Jo)),t-ta>24?(t<1/0&&(Jo=setTimeout(la,t-na.now()-ea)),Ko&&(Ko=clearInterval(Ko))):(Ko||(Qo=na.now(),Ko=setInterval(ca,1e3)),Zo=1,ra(la)))}function ha(t,e,n){var r=new aa;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}aa.prototype=sa.prototype={constructor:aa,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ia():+n)+(null==e?0:+e),this._next||Go===this||(Go?Go._next=this:Yo=this,Go=this),this._call=t,this._time=n,ua()},stop:function(){this._call&&(this._call=null,this._time=1/0,ua())}};const fa=4294967296;var da=Math.PI*(3-Math.sqrt(5));function pa(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=sa(h),c=Wo("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%fa)/fa}();function h(){f(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*da;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function ga(t,e,n){const r=t.slice();return r[20]=e[n],r}function ya(t){let e,n,r,i,o,a,s,l;return{c(){e=x("path"),r=x("path"),o=x("path"),s=x("path"),k(e,"fill","#c9208a"),k(e,"stroke","white"),k(e,"stroke-width","8"),k(e,"d","m174.44 238.55c13.559 0.003906 24.5-10.93 24.5-24.438 0.015625-13.496-10.891-24.504-24.434-24.477-13.531-0.066406-24.477 10.875-24.5 24.422 0.003907 13.52 10.918 24.492 24.434 24.492z"),k(e,"transform",n=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`),k(r,"fill","#c9208a"),k(r,"stroke","white"),k(r,"stroke-width","8"),k(r,"d",'m524.67 239.07c13.57 0.023438 24.465-10.926 24.512-24.422 0.027343-13.559-10.93-24.512-24.461-24.562-13.512 0.027343-24.473 10.953-24.473 24.445-0.058594 13.547 10.918 24.492 24.422 24.539z"/>\n<path d="m174.44 238.55c13.559 0.003906 24.5-10.93 24.5-24.438 0.015625-13.496-10.891-24.504-24.434-24.477-13.531-0.066406-24.477 10.875-24.5 24.422 0.003907 13.52 10.918 24.492 24.434 24.492z'),k(r,"transform",i=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`),k(o,"fill","#c9208a"),k(o,"stroke","white"),k(o,"stroke-width","4"),k(o,"d","m349.15 36.367c-33.824 0-56.688 3.0312-63.508 5.668 6.8867 2.6875 30.062 5.7773 64.344 5.8008h0.93359c33.77 0 56.594-3.0078 63.426-5.6211-6.8828-2.7109-30.07-5.8242-64.332-5.8477z"),k(o,"transform",a=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`),k(s,"fill","#c9208a"),k(s,"stroke","white"),k(s,"stroke-width","8"),k(s,"d","m619.85 214.74c0.050782-33.195-102.47-60.727-235.13-65.004-3.4141-35.895-9.3789-68.66-18.395-96.035-4.9453 0.14062-9.9805 0.23047-15.176 0.23047h-0.93359c-3.7812 0-9.5312-0.0625-16.09-0.25781-9.1094 27.344-15.164 60.094-18.691 95.961-132.67 3.9023-235.26 31.113-235.3 64.293-0.074219 32.922 100.84 60.289 232 64.934 2.0312 60.781 8.3086 121.98 16.637 174.63-61.305 9.7656-86.223 60.969-17.91 61.051l29.301 0.042969c1.3477 6.1211 2.7031 12.078 4.0938 17.672 3.3828 14.262 8.0742 15.223 10.504 0l0.027343-0.027344c1.3945-5.6016 2.7656-11.531 4.1211-17.617l29.047 0.054687c68.176 0.066407 43.598-51.012-17.477-61.059 8.4844-52.633 14.953-113.84 17.152-174.64 131.17-4.2422 232.18-31.305 232.22-64.23zm-95.082-35.809c19.719 0 35.637 16.012 35.633 35.695-0.039063 19.719-16.039 35.688-35.734 35.648-19.75-0.035157-35.688-16.012-35.648-35.734 0.007813-19.715 16.035-35.664 35.75-35.609zm-350.31 70.84c-19.75-0.003906-35.672-16.023-35.672-35.734 0.0625-19.738 16.031-35.648 35.789-35.617 19.68 0.011719 35.598 16.023 35.598 35.734-0.003906 19.66-16.02 35.637-35.715 35.617z"),k(s,"transform",l=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`)},m(t,n){g(t,e,n),g(t,r,n),g(t,o,n),g(t,s,n)},p(t,c){40&c&&n!==(n=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`)&&k(e,"transform",n),40&c&&i!==(i=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`)&&k(r,"transform",i),40&c&&a!==(a=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`)&&k(o,"transform",a),40&c&&l!==(l=`translate(${t[20].x-10} ${t[20].y-14}) scale(${t[5]})`)&&k(s,"transform",l)},d(t){t&&y(e),t&&y(r),t&&y(o),t&&y(s)}}}function ma(t){let e,n;return{c(){e=x("path"),k(e,"fill","#7cd1ea"),k(e,"stroke","white"),k(e,"stroke-width","20"),k(e,"d","m558.77 267.66c-2.4492-60.551-52.5-109.02-113.57-109.02-7.0859 0-14.176 0.61328-21.086 \n1.9258-28.613-33.426-71.398-53.375-115.32-53.375-72.363 0-134.05 50.664-148.4 121.19-51.891 8.9219-90.391 54.246-90.391 107.18v8.3984c0 59.938 \n48.824 108.76 108.85 108.76h357.18c51.801 0 93.977-42.176 93.977-93.977-0.003906-43.223-29.668-80.758-71.23-91.082z"),k(e,"transform",n=`translate(${t[20].x-12} ${t[20].y-12}) scale(${t[5]})`)},m(t,n){g(t,e,n)},p(t,r){40&r&&n!==(n=`translate(${t[20].x-12} ${t[20].y-12}) scale(${t[5]})`)&&k(e,"transform",n)},d(t){t&&y(e)}}}function va(t){let e,n,r,i,o,a;function s(t,e){return 0===t[20].yVal?ma:ya}let l=s(t),c=l(t);return{c(){e=x("circle"),c.c(),a=_(),k(e,"class","node"),k(e,"outcome",n=t[20].yVal),k(e,"fill",r=t[4](t[20])),k(e,"stroke",t[2]),k(e,"stroke-width",t[1]),k(e,"r",t[0]),k(e,"opacity","0"),k(e,"cx",i=t[20].x),k(e,"cy",o=t[20].y)},m(t,n){g(t,e,n),c.m(t,n),g(t,a,n)},p(t,u){8&u&&n!==(n=t[20].yVal)&&k(e,"outcome",n),24&u&&r!==(r=t[4](t[20]))&&k(e,"fill",r),4&u&&k(e,"stroke",t[2]),2&u&&k(e,"stroke-width",t[1]),1&u&&k(e,"r",t[0]),8&u&&i!==(i=t[20].x)&&k(e,"cx",i),8&u&&o!==(o=t[20].y)&&k(e,"cy",o),l===(l=s(t))&&c?c.p(t,u):(c.d(1),c=l(t),c&&(c.c(),c.m(a.parentNode,a)))},d(t){t&&y(e),c.d(t),t&&y(a)}}}function xa(e){let n,r=e[3].nodes(),i=[];for(let t=0;t<r.length;t+=1)i[t]=va(ga(e,r,t));return{c(){n=x("g");for(let t=0;t<i.length;t+=1)i[t].c();k(n,"class","bee-group")},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(63&e){let o;for(r=t[3].nodes(),o=0;o<r.length;o+=1){const a=ga(t,r,o);i[o]?i[o].p(a,e):(i[o]=va(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&y(n),m(i,t)}}}function wa(t,e,n){let r,i,o,a,l,c,u;s(t,yi,(t=>n(12,i=t))),s(t,mi,(t=>n(5,u=t)));const{data:h,xGet:f,xScale:d,height:p,zGet:g}=L("LayerCake");s(t,h,(t=>n(15,l=t))),s(t,d,(t=>n(14,a=t))),s(t,p,(t=>n(13,o=t))),s(t,g,(t=>n(4,c=t)));const y=l.map((t=>({...t})));let{r:m=7}=e,{strokeWidth:v=1}=e,{stroke:x="#fff"}=e,{xStrength:w=.95}=e,{yStrength:b=.075}=e;return t.$$set=t=>{"r"in t&&n(0,m=t.r),"strokeWidth"in t&&n(1,v=t.strokeWidth),"stroke"in t&&n(2,x=t.stroke),"xStrength"in t&&n(10,w=t.xStrength),"yStrength"in t&&n(11,b=t.yStrength)},t.$$.update=()=>{if(31744&t.$$.dirty&&n(3,r=pa(y).force("x",function(t){var e,n,r,i=Oo(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Oo(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Oo(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Oo(+e),a(),o):t},o}().x((t=>a(t.xVal))).strength(w)).force("y",function(t){var e,n,r,i=Oo(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Oo(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Oo(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Oo(+e),a(),o):t},o}().y(o/2).strength(b)).force("collide",function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,l,c,u,h,f,d=e.length,p=0;p<o;++p)for(a=Eo(e,Ho,jo).visitAfter(s),t=0;t<d;++t)l=e[t],h=n[l.index],f=h*h,c=l.x+l.vx,u=l.y+l.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,d=t.r,p=h+d;if(!s)return e>c+p||o<c-p||n>u+p||a<u-p;if(s.index>l.index){var g=c-s.x-s.vx,y=u-s.y-s.vy,m=g*g+y*y;m<p*p&&(0===g&&(m+=(g=Do(r))*g),0===y&&(m+=(y=Do(r))*y),m=(p-(m=Math.sqrt(m)))/m*i,l.vx+=(g*=m)*(p=(d*=d)/(f+d)),l.vy+=(y*=m)*p,s.vx-=g*(p=1-p),s.vy-=y*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Oo(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Oo(+e),l(),a):t},a}(i)).stop()),8&t.$$.dirty)for(let t=0,e=400;t<e;++t)r.tick()},[m,v,x,r,c,u,h,d,p,g,w,b,i,o,a]}class ba extends it{constructor(t){super(),rt(this,t,wa,xa,o,{r:0,strokeWidth:1,stroke:2,xStrength:10,yStrength:11})}}function _a(t){t.stopImmediatePropagation()}function $a(t){t.preventDefault(),t.stopImmediatePropagation()}var ka=t=>()=>t;function Ma(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Va(t){return!t.ctrlKey&&!t.button}function Aa(){return this.parentNode}function Na(t,e){return null==e?{x:t.x,y:t.y}:e}function za(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ca(){var t,e,n,r,i=Va,o=Aa,a=Na,s=za,l={},c=Wo("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",y).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var l=x(this,o.call(this,a,s),a,s,"mouse");l&&(Je(a.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),function(t){var e=t.document.documentElement,n=Je(t).on("dragstart.drag",$a,!0);"onselectstart"in e?n.on("selectstart.drag",$a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(a.view),_a(a),n=!1,t=a.clientX,e=a.clientY,l("start",a))}}function p(r){if($a(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function g(t){Je(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=Je(t).on("dragstart.drag",null);e&&(r.on("click.drag",$a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),$a(t),l.mouse("end",t)}function y(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),l=a.length;for(n=0;n<l;++n)(r=x(this,s,t,e,a[n].identifier,a[n]))&&(_a(t),r("start",t,a[n]))}}function m(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&($a(t),n("drag",t,r[e]))}function v(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(_a(t),n("end",t,i[e]))}function x(t,e,n,r,i,o){var s,h,d,p=c.copy(),g=Ke(o||n,e);if(null!=(d=a.call(t,new Ma("beforestart",{sourceEvent:n,target:f,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-g[0]||0,h=d.y-g[1]||0,function n(o,a,c){var y,m=g;switch(o){case"start":l[i]=n,y=u++;break;case"end":delete l[i],--u;case"drag":g=Ke(c||a,e),y=u}p.call(o,t,new Ma(o,{sourceEvent:a,subject:d,target:f,identifier:i,active:y,x:g[0]+s,y:g[1]+h,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:ka(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:ka(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:ka(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:ka(!!t),f):s},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}Ma.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ra=Wo("start","end","cancel","interrupt"),Ta=[];function Sa(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,h,f;if(1!==n.state)return l();for(c in i)if((f=i[c]).name===n.name){if(3===f.state)return ha(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(ha((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=sa(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Ra,tween:Ta,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ea(t,e){var n=La(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Pa(t,e){var n=La(t,e);if(n.state>3)throw new Error("too late; already running");return n}function La(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function qa(t,e){var n,r;return function(){var i=Pa(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Oa(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Pa(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Da(t,e,n){var r=t._id;return t.each((function(){var t=Pa(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return La(t,r).value[e]}}function Ha(t,e){var n;return("number"==typeof e?pr:e instanceof Yn?ur:(n=Yn(e))?(e=n,ur):vr)(t,e)}function ja(t){return function(){this.removeAttribute(t)}}function Ia(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wa(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ua(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Fa(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Ba(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Xa(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ya(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ga(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ya(t,i)),n}return i._value=e,i}function Za(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Xa(t,i)),n}return i._value=e,i}function Ja(t,e){return function(){Ea(this,t).delay=+e.apply(this,arguments)}}function Ka(t,e){return e=+e,function(){Ea(this,t).delay=e}}function Qa(t,e){return function(){Pa(this,t).duration=+e.apply(this,arguments)}}function ts(t,e){return e=+e,function(){Pa(this,t).duration=e}}function es(t,e){if("function"!=typeof e)throw new Error;return function(){Pa(this,t).ease=e}}function ns(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ea:Pa;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var rs=Ze.prototype.constructor;function is(t){return function(){this.style.removeProperty(t)}}function os(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function as(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&os(t,o,n)),r}return o._value=e,o}function ss(t){return function(e){this.textContent=t.call(this,e)}}function ls(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ss(r)),e}return r._value=t,r}var cs=0;function us(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function hs(){return++cs}var fs=Ze.prototype;us.prototype={constructor:us,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ft(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=t.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,Sa(h[f],e,n,f,h,La(s,n)));return new us(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Yt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,d=t.call(l,l.__data__,h,c),p=La(l,n),g=0,y=d.length;g<y;++g)(f=d[g])&&Sa(f,e,n,g,d,p);o.push(d),a.push(l)}return new us(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new us(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new us(a,this._parents,this._name,this._id)},selection:function(){return new rs(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=hs(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=La(a,e);Sa(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new us(r,this._parents,t,n)},call:fs.call,nodes:fs.nodes,node:fs.node,size:fs.size,empty:fs.empty,each:fs.each,on:function(t,e){var n=this._id;return arguments.length<2?La(this.node(),n).on.on(t):this.each(ns(n,t,e))},attr:function(t,e){var n=Ht(t),r="transform"===n?Ar:Ha;return this.attrTween(t,"function"==typeof e?(n.local?Ba:Fa)(n,r,Da(this,"attr."+t,e)):null==e?(n.local?Ia:ja)(n):(n.local?Ua:Wa)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ht(t);return this.tween(n,(r.local?Ga:Za)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Vr:Ha;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ve(this,t),a=(this.style.removeProperty(t),ve(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,is(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=ve(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=ve(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Da(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=Pa(this,t),c=l.on,u=null==l.value[a]?o||(o=is(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=ve(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,as(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Da(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,ls(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=La(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?qa:Oa)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ja:Ka)(e,t)):La(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Qa:ts)(e,t)):La(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(es(e,t)):La(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Pa(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Pa(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:fs[Symbol.iterator]};var ds={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ps(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function gs(t,e,n){const r=t.slice();return r[20]=e[n],r}function ys(t,e,n){const r=t.slice();return r[20]=e[n],r}function ms(e){let n,r,i;return{c(){n=x("path"),k(n,"d",r=e[20]),k(n,"style",i="transform: rotate(0deg) scale(0.8)"),k(n,"stroke","#c9208a"),k(n,"stroke-width","3"),k(n,"fill","#c9208a")},m(t,e){g(t,n,e)},p:t,d(t){t&&y(n)}}}function vs(e){let n,r,i;return{c(){n=x("path"),k(n,"d",r=e[20]),k(n,"style",i="transform: rotate(-180deg) scale(0.8)"),k(n,"stroke","#7cd1ea"),k(n,"stroke-width","3"),k(n,"fill","#7cd1ea")},m(t,e){g(t,n,e)},p:t,d(t){t&&y(n)}}}function xs(e){let n,r,i,o,a,s,l,c,u,h,f,d,v,b,_,$,M,V,A,N=e[5],z=[];for(let t=0;t<N.length;t+=1)z[t]=ms(ys(e,N,t));let C=e[5],R=[];for(let t=0;t<C.length;t+=1)R[t]=vs(gs(e,C,t));return{c(){n=x("g"),r=x("g"),i=x("rect"),a=x("g"),s=x("text"),l=w("Classify"),c=x("text"),u=w("Plane"),h=x("g");for(let t=0;t<z.length;t+=1)z[t].c();d=x("g"),v=x("text"),b=w("Classify"),_=x("text"),$=w("Cloud"),M=x("g");for(let t=0;t<R.length;t+=1)R[t].c();k(i,"height",o=e[1][0]-2),k(i,"width",9),k(i,"stroke","whitesmoke"),k(i,"stroke-width","1.4"),k(i,"fill","#232F3E"),k(s,"x","0"),k(s,"y","0"),k(s,"font-size","13"),k(s,"text-anchor","start"),k(s,"dominant-baseline","middle"),k(c,"x","0"),k(c,"y","13"),k(c,"font-size","13"),k(c,"text-anchor","start"),k(c,"dominant-baseline","middle"),k(h,"transform","translate(52 -4.5)"),k(a,"class","arrow-holder svelte-scf6fl"),k(a,"transform",f=`translate(12 ${e[1][0]-20})`),k(v,"x","-14"),k(v,"y","0"),k(v,"font-size","13"),k(v,"text-anchor","start"),k(v,"dominant-baseline","middle"),k(_,"x","0"),k(_,"y","13"),k(_,"font-size","13"),k(_,"text-anchor","start"),k(_,"dominant-baseline","middle"),k(M,"transform","translate(-20 16)"),k(d,"class","arrow-holder svelte-scf6fl"),k(d,"transform",V=`translate(-45 ${e[1][0]-20})`),k(r,"class","decision-boundary-bar svelte-scf6fl"),k(r,"data-id","decision-boundary-bar"),k(r,"transform",A="translate("+(e[0][0]+e[0][0])/2+",10)"),k(n,"class","bar svelte-scf6fl")},m(t,e){g(t,n,e),p(n,r),p(r,i),p(r,a),p(a,s),p(s,l),p(a,c),p(c,u),p(a,h);for(let t=0;t<z.length;t+=1)z[t].m(h,null);p(r,d),p(d,v),p(v,b),p(d,_),p(_,$),p(d,M);for(let t=0;t<R.length;t+=1)R[t].m(M,null)},p(t,[e]){if(2&e&&o!==(o=t[1][0]-2)&&k(i,"height",o),32&e){let n;for(N=t[5],n=0;n<N.length;n+=1){const r=ys(t,N,n);z[n]?z[n].p(r,e):(z[n]=ms(r),z[n].c(),z[n].m(h,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=N.length}if(2&e&&f!==(f=`translate(12 ${t[1][0]-20})`)&&k(a,"transform",f),32&e){let n;for(C=t[5],n=0;n<C.length;n+=1){const r=gs(t,C,n);R[n]?R[n].p(r,e):(R[n]=vs(r),R[n].c(),R[n].m(M,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=C.length}2&e&&V!==(V=`translate(-45 ${t[1][0]-20})`)&&k(d,"transform",V),1&e&&A!==(A="translate("+(t[0][0]+t[0][0])/2+",10)")&&k(r,"transform",A)},i:t,o:t,d(t){t&&y(n),m(z,t),m(R,t)}}}function ws(t,e){}function bs(t,e,n){let r,i,o,a,l,c,u,h,f,p,g,y;s(t,fi,(t=>n(6,i=t))),s(t,vi,(t=>n(14,a=t))),s(t,li,(t=>n(8,l=t))),s(t,si,(t=>n(9,c=t))),s(t,hi,(t=>n(15,u=t))),s(t,ci,(t=>n(10,h=t))),s(t,ai,(t=>n(11,f=t))),s(t,ui,(t=>n(16,p=t)));const{xScale:m,xRange:v,yRange:x}=L("LayerCake");function w(){Je("#dragme").remove(),Je("#dragline").remove()}function b(t,e){Qe(".roc-circle").attr("r",a);let n=o.invert(t.x);n<=0||n>=.99||(Je("g.decision-boundary-bar").raise().attr("transform",`translate(${t.x}, 10)`),r(n))}s(t,m,(t=>n(7,o=t))),s(t,v,(t=>n(0,g=t))),s(t,x,(t=>n(1,y=t))),o.invert(g[0]),P((()=>{Je("g.decision-boundary-bar").call(Ca().on("start",w).on("drag",b).on("end",ws))}));return t.$$.update=()=>{3968&t.$$.dirty&&(r=function(t){let e=Qe("circle"),n=e.filter((function(t){return"1"==Je(this).attr("outcome")})),r=e.filter((function(t){return"0"==Je(this).attr("outcome")}));d(ai,f=n.filter((function(e){return o.invert(Je(this).attr("cx"))>=t})).size(),f),d(si,c=r.filter((function(e){return o.invert(Je(this).attr("cx"))>=t})).size(),c),d(li,l=r.filter((function(e){return o.invert(Je(this).attr("cx"))<t})).size(),l),d(ci,h=n.filter((function(e){return o.invert(Je(this).attr("cx"))<t})).size(),h),d(ui,p=f/(f+h),p),d(hi,u=c/(c+l),u)}),64&t.$$.dirty&&function(t){let e=o(t);Je("g.decision-boundary-bar").attr("transform",`translate(${e}, 10)`),r(t)}(i)},[g,y,m,v,x,["M0.200275 13.2782C0.200275 12.4153 0.89983 11.7157 1.76278 11.7157H23.6378C24.5007 11.7157 25.2003 12.4153 25.2003 13.2782C25.2003 14.1411 24.5007 14.8407 23.6378 14.8407H1.76278C0.89983 14.8407 0.200275 14.1411 0.200275 13.2782Z","M11.5954 1.23584C12.2056 0.62565 13.1949 0.62565 13.8051 1.23584L24.7426 12.1733C25.3528 12.7835 25.3528 13.7729 24.7426 14.3831L13.8051 25.3206C13.1949 25.9307 12.2056 25.9307 11.5954 25.3206C10.9852 24.7104 10.9852 23.721 11.5954 23.1108L21.4281 13.2782L11.5954 3.44555C10.9852 2.83536 10.9852 1.84604 11.5954 1.23584Z","M 11.5954 1.23584 C 12.2056 0.62565 13.1949 0.62565 13.8051 1.23584 L 24.7426 12.1733 C 25.3528 12.7835 25.3528 13.7729 24.7426 14.3831 L 13.8051 25.3206 C 13.1949 25.9307 12.2056 25.9307 11.5954 25.3206 C 10.9852 24.7104 10.9852 23.721 11.5954 23.1108 L 21.4281 13.2782 L 11.5954 3.44555 C 10.9852 2.83536 10.9852 1.84604 11.5954 1.23584 Z"],i,o,l,c,h,f]}Ze.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Ze.prototype.transition=function(t){var e,n;t instanceof us?(e=t._id,t=t._name):(e=hs(),(n=ds).time=ia(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Sa(a,t,e,c,s,n||ps(a,e));return new us(r,this._parents,t,e)};class _s extends it{constructor(t){super(),rt(this,t,bs,xs,o,{})}}const $s=[{xVal:.733,yVal:1},{xVal:.877,yVal:1},{xVal:.53,yVal:1},{xVal:.814,yVal:1},{xVal:.516,yVal:1},{xVal:.486,yVal:1},{xVal:.56,yVal:1},{xVal:.633,yVal:1},{xVal:.382,yVal:1},{xVal:.656,yVal:1},{xVal:.516,yVal:1},{xVal:.395,yVal:1},{xVal:.344,yVal:1},{xVal:.566,yVal:1},{xVal:.369,yVal:1},{xVal:.583,yVal:1},{xVal:.523,yVal:1},{xVal:.952,yVal:1},{xVal:.326,yVal:1},{xVal:.773,yVal:1},{xVal:.499,yVal:1},{xVal:.502,yVal:1},{xVal:.71,yVal:1},{xVal:1,yVal:1},{xVal:.644,yVal:1},{xVal:.34,yVal:1},{xVal:.532,yVal:1},{xVal:.442,yVal:1},{xVal:.241,yVal:1},{xVal:.574,yVal:1},{xVal:.435,yVal:1},{xVal:.932,yVal:1},{xVal:.528,yVal:1},{xVal:.43,yVal:1},{xVal:.859,yVal:1},{xVal:.603,yVal:1},{xVal:.394,yVal:1},{xVal:.268,yVal:1},{xVal:.575,yVal:1},{xVal:.67,yVal:1},{xVal:.488,yVal:0},{xVal:.525,yVal:0},{xVal:.392,yVal:0},{xVal:.274,yVal:0},{xVal:.489,yVal:0},{xVal:.536,yVal:0},{xVal:.201,yVal:0},{xVal:.297,yVal:0},{xVal:.208,yVal:0},{xVal:.219,yVal:0},{xVal:.394,yVal:0},{xVal:.285,yVal:0},{xVal:.234,yVal:0},{xVal:.397,yVal:0},{xVal:.526,yVal:0},{xVal:.574,yVal:0},{xVal:.238,yVal:0},{xVal:0,yVal:0},{xVal:.396,yVal:0},{xVal:.381,yVal:0},{xVal:.326,yVal:0},{xVal:.643,yVal:0},{xVal:.316,yVal:0},{xVal:.357,yVal:0},{xVal:.403,yVal:0},{xVal:.042,yVal:0},{xVal:.277,yVal:0},{xVal:.165,yVal:0},{xVal:.113,yVal:0},{xVal:.276,yVal:0},{xVal:.32,yVal:0},{xVal:.543,yVal:0},{xVal:.297,yVal:0},{xVal:.424,yVal:0},{xVal:.74,yVal:0},{xVal:.506,yVal:0},{xVal:.455,yVal:0},{xVal:.209,yVal:0},{xVal:.268,yVal:0},{xVal:.274,yVal:0}],ks=[{threshold:0,tpr:1,fpr:1,zeros:0,halfs:.5,ones:0},{threshold:0,tpr:1,fpr:.975,zeros:0,halfs:.5,ones:0},{threshold:0,tpr:1,fpr:.975,zeros:0,halfs:.5,ones:1},{threshold:.025,tpr:1,fpr:.975,zeros:0,halfs:.5,ones:1},{threshold:.05,tpr:1,fpr:.95,zeros:0,halfs:.5,ones:1},{threshold:.075,tpr:1,fpr:.95,zeros:0,halfs:.5,ones:1},{threshold:.101,tpr:1,fpr:.95,zeros:0,halfs:.5,ones:1},{threshold:.126,tpr:1,fpr:.925,zeros:0,halfs:.5,ones:1},{threshold:.151,tpr:1,fpr:.925,zeros:0,halfs:.5,ones:1},{threshold:.176,tpr:1,fpr:.9,zeros:0,halfs:.5,ones:1},{threshold:.201,tpr:1,fpr:.875,zeros:0,halfs:.5,ones:1},{threshold:.226,tpr:1,fpr:.8,zeros:0,halfs:.5,ones:1},{threshold:.251,tpr:.975,fpr:.75,zeros:0,halfs:.5,ones:1},{threshold:.276,tpr:.95,fpr:.65,zeros:0,halfs:.5,ones:1},{threshold:.302,tpr:.95,fpr:.55,zeros:0,halfs:.5,ones:1},{threshold:.327,tpr:.925,fpr:.475,zeros:0,halfs:.5,ones:1},{threshold:.352,tpr:.875,fpr:.475,zeros:0,halfs:.5,ones:1},{threshold:.377,tpr:.85,fpr:.45,zeros:0,halfs:.5,ones:1},{threshold:.402,tpr:.775,fpr:.325,zeros:0,halfs:.5,ones:1},{threshold:.427,tpr:.775,fpr:.275,zeros:0,halfs:.5,ones:1},{threshold:.452,tpr:.7,fpr:.275,zeros:0,halfs:.5,ones:1},{threshold:.477,tpr:.7,fpr:.25,zeros:0,halfs:.5,ones:1},{threshold:.503,tpr:.625,fpr:.2,zeros:0,halfs:.5,ones:1},{threshold:.528,tpr:.55,fpr:.125,zeros:0,halfs:.5,ones:1},{threshold:.553,tpr:.475,fpr:.075,zeros:0,halfs:.5,ones:1},{threshold:.578,tpr:.375,fpr:.05,zeros:0,halfs:.5,ones:1},{threshold:.603,tpr:.325,fpr:.05,zeros:0,halfs:.5,ones:1},{threshold:.628,tpr:.325,fpr:.05,zeros:0,halfs:.5,ones:1},{threshold:.653,tpr:.275,fpr:.025,zeros:0,halfs:.5,ones:1},{threshold:.678,tpr:.225,fpr:.025,zeros:0,halfs:.5,ones:1},{threshold:.704,tpr:.225,fpr:.025,zeros:0,halfs:.5,ones:1},{threshold:.729,tpr:.2,fpr:.025,zeros:0,halfs:.5,ones:1},{threshold:.754,tpr:.175,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.779,tpr:.15,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.804,tpr:.15,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.829,tpr:.125,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.854,tpr:.125,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.879,tpr:.075,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.905,tpr:.075,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.93,tpr:.075,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:.955,tpr:.025,fpr:0,zeros:0,halfs:.5,ones:1},{threshold:1,tpr:.025,fpr:0,zeros:0,halfs:.5,ones:1}];function Ms(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function Vs(t){let e,n,r=t[12]+"";return{c(){e=v("div"),n=v("div"),k(n,"class","step-content svelte-v1478k"),k(e,"class","step svelte-v1478k"),R(e,"active",t[0]===t[14])},m(t,i){g(t,e,i),p(e,n),n.innerHTML=r},p(t,i){2&i&&r!==(r=t[12]+"")&&(n.innerHTML=r),1&i&&R(e,"active",t[0]===t[14])},d(t){t&&y(e)}}}function As(t){let e,n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=Vs(Ms(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=b(),n=v("div"),k(n,"class","spacer svelte-v1478k")},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);g(t,e,r),g(t,n,r)},p(t,n){if(3&n){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=Ms(t,r,o);i[o]?i[o].p(a,n):(i[o]=Vs(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},d(t){m(i,t),t&&y(e),t&&y(n)}}}function Ns(t){let e,n,r,i,o,a;return e=new zo({}),r=new ba({props:{r:t[11]<700?5.5:6.5,strokeWidth:1,xStrength:.05,yStrength:.075}}),o=new _s({}),{c(){Q(e.$$.fragment),n=b(),Q(r.$$.fragment),i=b(),Q(o.$$.fragment)},m(t,s){tt(e,t,s),g(t,n,s),tt(r,t,s),g(t,i,s),tt(o,t,s),a=!0},p(t,e){const n={};2048&e&&(n.r=t[11]<700?5.5:6.5),r.$set(n)},i(t){a||(Z(e.$$.fragment,t),Z(r.$$.fragment,t),Z(o.$$.fragment,t),a=!0)},o(t){J(e.$$.fragment,t),J(r.$$.fragment,t),J(o.$$.fragment,t),a=!1},d(t){et(e,t),t&&y(n),et(r,t),t&&y(i),et(o,t)}}}function zs(t){let e,n;return e=new bo({props:{$$slots:{default:[Ns]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};34816&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Cs(t){let e,n,r,i,o,a,s,l,c,u,h,f,d,m,x;function w(e){t[5](e)}let _={$$slots:{default:[As]},$$scope:{ctx:t}};return void 0!==t[0]&&(_.value=t[0]),i=new qt({props:_}),O.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(i,"value",w))),c=new po({props:{padding:{bottom:15},x:Rs,y:"50",z:Ts,zScale:zn(),zDomain:Array.from(t[2]),zRange:t[3],data:t[4],$$slots:{default:[zs,({width:t})=>({11:t}),({width:t})=>t?2048:0]},$$scope:{ctx:t}}}),h=new Ai({}),{c(){e=v("section"),n=v("div"),r=v("div"),Q(i.$$.fragment),a=b(),s=v("div"),l=v("div"),Q(c.$$.fragment),u=b(),Q(h.$$.fragment),f=b(),d=v("br"),m=v("br"),k(r,"class","steps-container svelte-v1478k"),k(l,"class","bs-chart svelte-v1478k"),k(s,"class","charts-container svelte-v1478k"),k(n,"class","section-container svelte-v1478k")},m(t,o){g(t,e,o),p(e,n),p(n,r),tt(i,r,null),p(n,a),p(n,s),p(s,l),tt(c,l,null),p(s,u),tt(h,s,null),p(e,f),p(e,d),p(e,m),x=!0},p(t,[e]){const n={};var r;32771&e&&(n.$$scope={dirty:e,ctx:t}),!o&&1&e&&(o=!0,n.value=t[0],r=()=>o=!1,H.push(r)),i.$set(n);const a={};34816&e&&(a.$$scope={dirty:e,ctx:t}),c.$set(a)},i(t){x||(Z(i.$$.fragment,t),Z(c.$$.fragment,t),Z(h.$$.fragment,t),x=!0)},o(t){J(i.$$.fragment,t),J(c.$$.fragment,t),J(h.$$.fragment,t),x=!1},d(t){t&&y(e),et(i),et(c),et(h)}}}const Rs="xVal",Ts="yVal";function Ss(t,e,n){let r,i,o,a;s(t,vi,(t=>n(7,i=t))),s(t,fi,(t=>n(8,o=t))),s(t,di,(t=>n(9,a=t)));const l=new Set,c=$s.map((t=>(l.add(t[Ts]),{[Ts]:t[Ts],[Rs]:+t[Rs],xx:+t[Rs]})));let u,h=2;const f={0:()=>{d(di,a=[],a),d(fi,o=-.01,o)},1:()=>{h=1;Vn(0,.45,.015).forEach(((t,e)=>{setTimeout((()=>{1===h&&d(fi,o=t,o)}),40*e)}))},2:()=>{h=2,Qe(".roc-circle").transition().attr("r",i);Vn(.45,.98,.015).forEach(((t,e)=>{setTimeout((()=>{2===h&&d(fi,o=t,o)}),40*e)})),Je(".highlight-circle").style("opacity",1),Je("#highlight-text").style("opacity",1),Je("#highlight-tspan").style("opacity",1)},3:()=>{Qe(".roc-circle").transition().attr("r",i+1).transition().attr("r",0),Je(".highlight-circle").style("opacity",0),Je("#highlight-text").style("opacity",0),Je("#highlight-tspan").style("opacity",0)},4:()=>{}};return t.$$.update=()=>{1&t.$$.dirty&&void 0!==u&&f[u]()},n(1,r=["<h3 class='step-title'>Our First Threshold</h3>\n       <p>We'll start with our model's classification threshold at 0,\n        so anything with a probability greater-than-or-equal-to zero of being an airplane,\n         we'll classify as an airplane. In other words, everything will be classified as an airplane!\n         <br><br>\n        While this model will correctly classify every pairplane as an airplane (yielding a perfect <span class='bold'>TPR=1</span>), \n       it will also incorrectly classify every radar noise as an airplane (giving us the worst possible <span class='bold'>FPR=1</span>). \n      </p>","<h3 class='step-title'>Some New Thresholds</h3>\n      <p>Clearly our first model was awful - we can do better! But how much better?\n        <br><br> To find out, let's try some new threshold values.\n        We'll move our threshold more and more to the right, increasing the threshold at which we classify a radar signal as an airplane.\n        To assess the performance, we calculate the TPR and FPR for each new threshold choice, and plot them below.\n    ","<h3 class='step-title'>And More Thresholds</h3>\n      <p>\n        Recall that our goal is to find the classification threshold that best maximizes true positives while minimizing false positives. \n        <br><br>\n        To find that threshold, we'll have to try all possible values for our threshold!\n        <br><br>\n        So that's exactly what we'll do: continue increasing our threshold until we can't any further (i.e. moving it all the way to the right),\n         logging each TPR and FPR along the way.</p>","<h3 class='step-title'>The R.O.C. Curve</h3>\n      <p>After plotting each classification threshold's corresponding TPR and FPR, we obtain our ROC curve! \n        <br><br>This curve gives us a convenient\n        visual of the performance of our classifier. It allows us to understand how that performance changes as a function of the model's classification threshold.\n        <br><br>\n        <span class='bold'>Drag the threshold for yourself to see its corresponding point along our ROC Curve!</span>\n        <br>(Which threshold would you choose?)\n      </p>"]),[u,r,l,["#c9208a","#7cd1ea"],c,function(t){u=t,n(0,u)}]}class Es extends it{constructor(t){super(),rt(this,t,Ss,Cs,o,{})}}function Ps(t,e,n){const r=t.slice();return r[10]=e[n],r}function Ls(t,e,n){const r=t.slice();return r[10]=e[n],r}function qs(t){let e,n,r,i,o,a,s=t[10]+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","axis-line svelte-qs2npk"),k(n,"x1","0"),k(n,"x2","0"),k(n,"y1","0"),k(n,"y2",r=-t[0]+t[4].bottom+t[4].top),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","roc-axis-tick svelte-qs2npk"),k(i,"y","15"),k(i,"text-anchor","middle"),k(e,"transform",a=`translate(${t[3](t[10])+0} ${t[0]-t[4].bottom})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){17&i&&r!==(r=-t[0]+t[4].bottom+t[4].top)&&k(n,"y2",r),8&i&&s!==(s=t[10]+"")&&M(o,s),25&i&&a!==(a=`translate(${t[3](t[10])+0} ${t[0]-t[4].bottom})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function Os(t){let e,n,r,i,o,a,s=t[8](t[10])+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","axis-line svelte-qs2npk"),k(n,"x1","0"),k(n,"x2",r=t[1]-t[4].right-t[4].left),k(n,"y1","0"),k(n,"y2","0"),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","roc-axis-tick svelte-qs2npk"),k(i,"x","-2"),k(i,"y","0"),k(i,"text-anchor","end"),k(i,"dominant-baseline","middle"),k(e,"transform",a=`translate(${t[4].left-5} ${t[2](t[10])+0})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){18&i&&r!==(r=t[1]-t[4].right-t[4].left)&&k(n,"x2",r),20&i&&a!==(a=`translate(${t[4].left-5} ${t[2](t[10])+0})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function Ds(e){let n,r,i,o,a,s,l,c,u,h,f,d,$,M,V,A,N,z,R,T,S,E,P,L,q,O,D,H,j,I,U,F,B,X,Y,G,Z,J,K,Q,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ht,ft,dt,pt,gt,yt,mt,vt,xt,wt,bt=e[3].ticks(),_t=[];for(let t=0;t<bt.length;t+=1)_t[t]=qs(Ls(e,bt,t));let $t=[0,.2,.4,.6,.8,1],kt=[];for(let t=0;t<6;t+=1)kt[t]=Os(Ps(e,$t,t));return{c(){n=v("section"),r=v("h1"),r.textContent="What Makes A Good ROC Curve?",i=b(),o=v("p"),o.innerHTML="The ROC Curve is valuabe not only because it gives us an overview of our\n    model&#39;s performance (and lets us select an optimal classification threshold\n    for that model), but because it also gives us an easy visual to compare the\n    performance of different classifiers to one another.\n\n    <br/><br/>\n    A perfect classifier is one that hugs along the outer-left and top of the chart.\n    This is expected, as ‘perfect’ here implies the classifier will always have a\n    TPR=1, regardless of the FPR. On the other hand, a diagonal line implies that\n    TPR=FPR for every classification threshold - in other words, the classifier is\n    just making random guesses. The model is garbage!",a=b(),s=v("div"),l=x("svg");for(let t=0;t<_t.length;t+=1)_t[t].c();c=_();for(let t=0;t<6;t+=1)kt[t].c();u=x("line"),M=x("line"),R=x("path"),S=x("path"),P=x("path"),q=x("path"),D=x("path"),j=x("path"),U=x("text"),F=w("Perfect Classifier\n      "),X=x("text"),Y=x("textPath"),G=w("Random Classifier"),Z=x("text"),J=w("Our Classifier\n      "),Q=x("text"),tt=w("Label"),rt=x("text"),it=w("Comparing ROC Curves"),st=x("text"),lt=w("False Positive Rate"),ht=x("text"),ft=w("True Positive Rate"),yt=b(),mt=v("br"),vt=v("br"),xt=b(),wt=v("p"),wt.innerHTML="When it comes to comparing models, the rule of thumb is that curves that\n    fall above the ROC Curve of a random classifier (the diagonal line) are good\n    or decent. The higher up they are (i.e. the closer they are to the curve of\n    the elusive perfect classifier), the better. Anything below the diagonal\n    line has worse performance than random guessing, so likely isn&#39;t worth any\n    consideration.\n    <br/><br/>\n    Our model shows something that hangs somewhere between perfect and random. Indeed,\n    this is the kind of result you’d expect to get in the real-world. Obtaining a\n    perfect or exactly random result likely indicates a problem. An exactly random\n    result may indicate that your problem is not well-framed, and may not have a\n    solution without additional data. If the result shows a perfect classifier, make\n    sure that there is no place where the training data is leaking information about\n    the label which would not be available when the model is in deployment, (as such\n    a result likely points to overfitting or data-leakage).",k(r,"class","body-header"),k(o,"class","body-text"),k(u,"class","roc-axis-line"),k(u,"y1",h=e[0]-e[4].bottom),k(u,"y2",f=e[0]-e[4].bottom),k(u,"x1",d=e[4].left),k(u,"x2",$=e[1]-e[4].right),k(u,"stroke","black"),k(u,"stroke-width","2"),k(M,"class","roc-axis-line"),k(M,"y1",V=e[4].top),k(M,"y2",A=e[0]-e[4].bottom),k(M,"x1",N=e[4].left),k(M,"x2",z=e[4].left),k(M,"stroke","black"),k(M,"stroke-width","2"),k(R,"class","outline-line svelte-qs2npk"),k(R,"d",T=e[6](ks)),k(S,"id","perfect-line"),k(S,"class","path-line svelte-qs2npk"),k(S,"d",E=e[6](ks)),k(S,"stroke","#c9208a"),k(P,"class","outline-line svelte-qs2npk"),k(P,"stroke-dasharray","15"),k(P,"d",L=e[5](ks)),k(q,"id","random-line"),k(q,"class","path-line svelte-qs2npk"),k(q,"d",O=e[5](ks)),k(q,"stroke","#232F3E"),k(q,"stroke-dasharray","15"),k(D,"class","outline-line svelte-qs2npk"),k(D,"d",H=e[7](ks)),k(j,"id","our-line"),k(j,"class","path-line svelte-qs2npk"),k(j,"d",I=e[7](ks)),k(j,"stroke","#9e1f63"),k(U,"class","annotation svelte-qs2npk"),k(U,"transform",B=`translate(${e[3](.03)},${e[2](.95)})`),k(U,"text-anchor","start"),k(U,"fill","#c9208a"),k(U,"alignment-baseline","middle"),k(Y,"href","#random-line"),k(Y,"startOffset","50%"),k(Y,"text-anchor","middle"),k(Y,"fill","#232F3E"),k(Y,"dominant-baseline","hanging"),k(X,"dy","5"),k(X,"class","annotation svelte-qs2npk"),k(Z,"class","annotation svelte-qs2npk"),k(Z,"transform",K=`translate(${e[3](.45)},${e[2](.74)}) rotate(-18)`),k(Z,"text-anchor","middle"),k(Z,"fill","#9e1f63"),k(Z,"alignment-baseline","middle"),k(Q,"id","error-text-accuracy"),k(Q,"class","error-text svelte-qs2npk"),k(Q,"y",et=e[2](.79)),k(Q,"x",nt=e[3](9.2)),k(Q,"dominant-baseline","middle"),k(rt,"class","roc-axis-label svelte-qs2npk"),k(rt,"y",ot=e[4].top/2),k(rt,"x",at=(e[1]+e[4].left)/2),k(rt,"text-anchor","middle"),k(st,"class","roc-axis-label svelte-qs2npk"),k(st,"y",ct=e[0]+e[4].bottom),k(st,"x",ut=(e[1]+e[4].left)/2),k(st,"text-anchor","middle"),k(ht,"class","roc-axis-label svelte-qs2npk"),k(ht,"y",15),k(ht,"x",dt=-e[0]/2),k(ht,"text-anchor","middle"),k(ht,"transform","rotate(-90)"),k(l,"width",e[1]),k(l,"height",pt=e[0]+e[4].top+e[4].bottom),k(s,"id","roc-chart"),k(s,"class","svelte-qs2npk"),W((()=>e[9].call(s))),k(wt,"class","body-text"),k(n,"id","roc-section")},m(t,h){g(t,n,h),p(n,r),p(n,i),p(n,o),p(n,a),p(n,s),p(s,l);for(let t=0;t<_t.length;t+=1)_t[t].m(l,null);p(l,c);for(let t=0;t<6;t+=1)kt[t].m(l,null);p(l,u),p(l,M),p(l,R),p(l,S),p(l,P),p(l,q),p(l,D),p(l,j),p(l,U),p(U,F),p(l,X),p(X,Y),p(Y,G),p(l,Z),p(Z,J),p(l,Q),p(Q,tt),p(l,rt),p(rt,it),p(l,st),p(st,lt),p(l,ht),p(ht,ft),gt=C(s,e[9].bind(s)),p(n,yt),p(n,mt),p(n,vt),p(n,xt),p(n,wt)},p(t,[e]){if(25&e){let n;for(bt=t[3].ticks(),n=0;n<bt.length;n+=1){const r=Ls(t,bt,n);_t[n]?_t[n].p(r,e):(_t[n]=qs(r),_t[n].c(),_t[n].m(l,c))}for(;n<_t.length;n+=1)_t[n].d(1);_t.length=bt.length}if(278&e){let n;for($t=[0,.2,.4,.6,.8,1],n=0;n<6;n+=1){const r=Ps(t,$t,n);kt[n]?kt[n].p(r,e):(kt[n]=Os(r),kt[n].c(),kt[n].m(l,u))}for(;n<6;n+=1)kt[n].d(1)}17&e&&h!==(h=t[0]-t[4].bottom)&&k(u,"y1",h),17&e&&f!==(f=t[0]-t[4].bottom)&&k(u,"y2",f),16&e&&d!==(d=t[4].left)&&k(u,"x1",d),18&e&&$!==($=t[1]-t[4].right)&&k(u,"x2",$),16&e&&V!==(V=t[4].top)&&k(M,"y1",V),17&e&&A!==(A=t[0]-t[4].bottom)&&k(M,"y2",A),16&e&&N!==(N=t[4].left)&&k(M,"x1",N),16&e&&z!==(z=t[4].left)&&k(M,"x2",z),64&e&&T!==(T=t[6](ks))&&k(R,"d",T),64&e&&E!==(E=t[6](ks))&&k(S,"d",E),32&e&&L!==(L=t[5](ks))&&k(P,"d",L),32&e&&O!==(O=t[5](ks))&&k(q,"d",O),128&e&&H!==(H=t[7](ks))&&k(D,"d",H),128&e&&I!==(I=t[7](ks))&&k(j,"d",I),12&e&&B!==(B=`translate(${t[3](.03)},${t[2](.95)})`)&&k(U,"transform",B),12&e&&K!==(K=`translate(${t[3](.45)},${t[2](.74)}) rotate(-18)`)&&k(Z,"transform",K),4&e&&et!==(et=t[2](.79))&&k(Q,"y",et),8&e&&nt!==(nt=t[3](9.2))&&k(Q,"x",nt),16&e&&ot!==(ot=t[4].top/2)&&k(rt,"y",ot),18&e&&at!==(at=(t[1]+t[4].left)/2)&&k(rt,"x",at),17&e&&ct!==(ct=t[0]+t[4].bottom)&&k(st,"y",ct),18&e&&ut!==(ut=(t[1]+t[4].left)/2)&&k(st,"x",ut),1&e&&dt!==(dt=-t[0]/2)&&k(ht,"x",dt),2&e&&k(l,"width",t[1]),17&e&&pt!==(pt=t[0]+t[4].top+t[4].bottom)&&k(l,"height",pt)},i:t,o:t,d(t){t&&y(n),m(_t,t),m(kt,t),gt()}}}function Hs(t,e,n){let r,i,o,a,l,c;s(t,pi,(t=>n(4,c=t)));const u=Xr(".1f");let h=500,f=500;return t.$$.update=()=>{18&t.$$.dirty&&n(3,r=ni().domain([0,1]).range([c.left,f-c.right])),17&t.$$.dirty&&n(2,i=ni().domain([0,1]).range([h-c.bottom,c.top])),12&t.$$.dirty&&n(7,o=dn().x((t=>r(t.fpr))).y((t=>i(t.tpr))).curve(gn)),12&t.$$.dirty&&n(6,a=dn().x((t=>r(t.threshold))).y((t=>i(t.ones)))),12&t.$$.dirty&&n(5,l=dn().x((t=>r(t.threshold))).y((t=>i(t.threshold))))},[h,f,i,r,c,l,a,o,u,function(){f=this.offsetWidth,h=this.offsetHeight,n(1,f),n(0,h)}]}class js extends it{constructor(t){super(),rt(this,t,Hs,Ds,o,{})}}function Is(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ws(t,e,n){const r=t.slice();return r[9]=e[n],r}function Us(t){let e,n,r,i,o,a,s=t[9]+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","y-axis-line svelte-1d7vpll"),k(n,"x1","0"),k(n,"x2","0"),k(n,"y1","0"),k(n,"y2",r=-t[0]+t[4].bottom+t[4].top),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","auc-axis-text svelte-1d7vpll"),k(i,"y","15"),k(i,"text-anchor","middle"),k(e,"transform",a=`translate(${t[3](t[9])+0} ${t[0]-t[4].bottom})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){17&i&&r!==(r=-t[0]+t[4].bottom+t[4].top)&&k(n,"y2",r),8&i&&s!==(s=t[9]+"")&&M(o,s),25&i&&a!==(a=`translate(${t[3](t[9])+0} ${t[0]-t[4].bottom})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function Fs(t){let e,n,r,i,o,a,s=t[7](t[9])+"";return{c(){e=x("g"),n=x("line"),i=x("text"),o=w(s),k(n,"class","y-axis-line svelte-1d7vpll"),k(n,"x1","0"),k(n,"x2",r=t[1]-t[4].right-t[4].left),k(n,"y1","0"),k(n,"y2","0"),k(n,"stroke","black"),k(n,"stroke-dasharray","4"),k(i,"class","auc-axis-text svelte-1d7vpll"),k(i,"y","0"),k(i,"text-anchor","end"),k(i,"dominant-baseline","middle"),k(e,"transform",a=`translate(${t[4].left-5} ${t[2](t[9])+0})`)},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,o)},p(t,i){18&i&&r!==(r=t[1]-t[4].right-t[4].left)&&k(n,"x2",r),20&i&&a!==(a=`translate(${t[4].left-5} ${t[2](t[9])+0})`)&&k(e,"transform",a)},d(t){t&&y(e)}}}function Bs(e){let n,r,i,o,a,s,l,c,u,h,f,d,$,M,V,A,N,z,R,T,S,E,P,L,q,O,D,H,j,I,U,F,B,X,Y,G,Z,J,K,Q,tt,et,nt,rt,it,ot,at,st,lt=e[3].ticks(),ct=[];for(let t=0;t<lt.length;t+=1)ct[t]=Us(Ws(e,lt,t));let ut=[0,.2,.4,.6,.8,1],ht=[];for(let t=0;t<6;t+=1)ht[t]=Fs(Is(e,ut,t));return{c(){n=v("section"),r=v("h1"),r.textContent="AUC: Area Under the Curve",i=b(),o=v("p"),o.innerHTML="AUC (sometimes written AUROC) is just the area underneath the entire ROC\n    curve. Think integration from calculus. AUC provides us with a nice, single\n    measure of performance for our classifiers, independent of the exact\n    classification threshold chosen. This allows us to compare models to each\n    other without even looking at their ROC curves (though visualizing the\n    performance of your models is never a bad idea!).\n\n    <br/><br/>AUC ranges in value from 0 to 1, with higher numbers indicating\n    better performance. A perfect classifier will have an AUC of 1, while a\n    perfectly random classifier an AUC of 0.5. A model that always predicts a\n    negative sample is more likely to have a positive label than a positive\n    sample will have AUC of 0, indicating severe failure on the modeling side.\n    Scores in the range [0.5, 1] imply good performance, while anything under\n    0.5 indicates very poor performance.\n    <br/><br/>\n    At 0.73, our model&#39;s AUC isn&#39;t too shabby:",a=b(),s=v("div"),l=x("svg");for(let t=0;t<ct.length;t+=1)ct[t].c();c=_();for(let t=0;t<6;t+=1)ht[t].c();u=x("line"),$=x("line"),z=x("path"),T=x("path"),E=x("path"),L=x("text"),q=w("Label"),H=x("text"),j=w("Area Under The (ROC) Curve"),F=x("text"),B=w("False Positive Rate"),G=x("text"),Z=w("True Positive Rate"),K=x("text"),Q=w("OUR AUC: 0.73"),rt=b(),it=v("br"),ot=v("br"),at=b(),st=v("p"),st.innerHTML="It may be surprising given how ad-hoc the metric appears, but AUC has a\n    deeper-than-expected interpretation. Actually, multiple interpretations\n    exist, but we prefer the probabilistic interpretation:\n\n    <br/><br/> \n    <i>The AUC is the probability that the model will rank a randomly chosen\n      positive example more highly than a randomly chosen negative example.</i> \n    <br/><br/>\n    In other words, if you were to randomly select an observation belonging to the\n    positive class and an observation belonging to the negative class, the AUC tells\n    us the probability that the model will assign a higher score to the positive\n    class. This interpretation helps qualify the AUC: A model that always predicts\n    a negative sample is more likely to have a positive label than a positive sample\n    will have AUC of 0. If the predicted probabilities are random, it will be 0.5.\n    Finally if the model always predicts a positive sample is more likely to have\n    a positive label than a negative sample, then it will have an AUC of 1. This\n    strategy also provides a very easy method to estimate the AUC: simply tally up\n    the proportion of correctly ranked positive-negative pairs! And what&#39;s even coolor,\n    it has been shown that this method of estimating the AUC is equivalent to a popular\n    nonparametric statistical test: the Wilcoxon-Mann-Whitney test (see Mason and\n    Graham in the resources to learn more).",k(r,"class","body-header"),k(o,"class","body-text"),k(u,"class","error-axis-line"),k(u,"y1",h=e[0]-e[4].bottom),k(u,"y2",f=e[0]-e[4].bottom),k(u,"x1",d=e[4].left),k(u,"x2",e[1]),k(u,"stroke","black"),k(u,"stroke-width","2"),k($,"class","error-axis-line"),k($,"y1",M=e[4].top),k($,"y2",V=e[0]-e[4].bottom),k($,"x1",A=e[4].left),k($,"x2",N=e[4].left),k($,"stroke","black"),k($,"stroke-width","2"),k(z,"class","outline-line svelte-1d7vpll"),k(z,"d",R=e[6](ks)),k(T,"class","path-line svelte-1d7vpll"),k(T,"d",S=e[6](ks)),k(T,"stroke","#9e1f63"),k(E,"class","path-area"),k(E,"d",P=e[5](ks)),k(E,"fill","#7cd1ea"),k(E,"fill-opacity","0.4"),k(L,"id","auc-text-accuracy"),k(L,"class","auc-text svelte-1d7vpll"),k(L,"y",O=e[2](.79)),k(L,"x",D=e[3](9.2)),k(L,"dominant-baseline","middle"),k(H,"class","auc-axis-label svelte-1d7vpll"),k(H,"y",I=e[4].top/2),k(H,"x",U=(e[1]+e[4].left)/2),k(H,"text-anchor","middle"),k(F,"class","auc-axis-label svelte-1d7vpll"),k(F,"y",X=e[0]+e[4].bottom),k(F,"x",Y=(e[1]+e[4].left)/2),k(F,"text-anchor","middle"),k(G,"class","auc-axis-label svelte-1d7vpll"),k(G,"y",15),k(G,"x",J=-e[0]/2),k(G,"text-anchor","middle"),k(G,"transform","rotate(-90)"),k(K,"class","annotation svelte-1d7vpll"),k(K,"transform",tt=`translate(${e[3](.5)},${e[2](.55)}) `),k(K,"text-anchor","middle"),k(K,"fill","#9e1f63"),k(K,"alignment-baseline","middle"),k(l,"width",e[1]),k(l,"height",et=e[0]+e[4].top+e[4].bottom),k(s,"id","auc-chart"),k(s,"class","svelte-1d7vpll"),W((()=>e[8].call(s))),k(st,"class","body-text")},m(t,h){g(t,n,h),p(n,r),p(n,i),p(n,o),p(n,a),p(n,s),p(s,l);for(let t=0;t<ct.length;t+=1)ct[t].m(l,null);p(l,c);for(let t=0;t<6;t+=1)ht[t].m(l,null);p(l,u),p(l,$),p(l,z),p(l,T),p(l,E),p(l,L),p(L,q),p(l,H),p(H,j),p(l,F),p(F,B),p(l,G),p(G,Z),p(l,K),p(K,Q),nt=C(s,e[8].bind(s)),p(n,rt),p(n,it),p(n,ot),p(n,at),p(n,st)},p(t,[e]){if(25&e){let n;for(lt=t[3].ticks(),n=0;n<lt.length;n+=1){const r=Ws(t,lt,n);ct[n]?ct[n].p(r,e):(ct[n]=Us(r),ct[n].c(),ct[n].m(l,c))}for(;n<ct.length;n+=1)ct[n].d(1);ct.length=lt.length}if(150&e){let n;for(ut=[0,.2,.4,.6,.8,1],n=0;n<6;n+=1){const r=Is(t,ut,n);ht[n]?ht[n].p(r,e):(ht[n]=Fs(r),ht[n].c(),ht[n].m(l,u))}for(;n<6;n+=1)ht[n].d(1)}17&e&&h!==(h=t[0]-t[4].bottom)&&k(u,"y1",h),17&e&&f!==(f=t[0]-t[4].bottom)&&k(u,"y2",f),16&e&&d!==(d=t[4].left)&&k(u,"x1",d),2&e&&k(u,"x2",t[1]),16&e&&M!==(M=t[4].top)&&k($,"y1",M),17&e&&V!==(V=t[0]-t[4].bottom)&&k($,"y2",V),16&e&&A!==(A=t[4].left)&&k($,"x1",A),16&e&&N!==(N=t[4].left)&&k($,"x2",N),64&e&&R!==(R=t[6](ks))&&k(z,"d",R),64&e&&S!==(S=t[6](ks))&&k(T,"d",S),32&e&&P!==(P=t[5](ks))&&k(E,"d",P),4&e&&O!==(O=t[2](.79))&&k(L,"y",O),8&e&&D!==(D=t[3](9.2))&&k(L,"x",D),16&e&&I!==(I=t[4].top/2)&&k(H,"y",I),18&e&&U!==(U=(t[1]+t[4].left)/2)&&k(H,"x",U),17&e&&X!==(X=t[0]+t[4].bottom)&&k(F,"y",X),18&e&&Y!==(Y=(t[1]+t[4].left)/2)&&k(F,"x",Y),1&e&&J!==(J=-t[0]/2)&&k(G,"x",J),12&e&&tt!==(tt=`translate(${t[3](.5)},${t[2](.55)}) `)&&k(K,"transform",tt),2&e&&k(l,"width",t[1]),17&e&&et!==(et=t[0]+t[4].top+t[4].bottom)&&k(l,"height",et)},i:t,o:t,d(t){t&&y(n),m(ct,t),m(ht,t),nt()}}}function Xs(t,e,n){let r,i,o,a,l;s(t,pi,(t=>n(4,l=t)));const c=Xr(".1f");let u=500,h=500;return t.$$.update=()=>{18&t.$$.dirty&&n(3,r=ni().domain([0,1]).range([l.left,h-l.right])),17&t.$$.dirty&&n(2,i=ni().domain([0,1]).range([u-l.bottom,l.top])),12&t.$$.dirty&&n(6,o=dn().x((t=>r(t.fpr))).y((t=>i(t.tpr))).curve(gn)),12&t.$$.dirty&&n(5,a=function(t,e,n){var r=null,i=sn(!0),o=null,a=un,s=null;function l(l){var c,u,h,f,d,p=(l=ln(l)).length,g=!1,y=new Array(p),m=new Array(p);for(null==o&&(s=a(d=an())),c=0;c<=p;++c){if(!(c<p&&i(f=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=u;--h)s.point(y[h],m[h]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+t(f,c,l),m[c]=+e(f,c,l),s.point(r?+r(f,c,l):y[c],n?+n(f,c,l):m[c]))}if(d)return s=null,d+""||null}function c(){return dn().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?hn:sn(+t),e="function"==typeof e?e:sn(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?fn:sn(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:sn(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:sn(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:sn(+t),l):r},l.y=function(t){return arguments.length?(e="function"==typeof t?t:sn(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:sn(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:sn(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:sn(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}().x((t=>r(t.fpr))).y1((t=>i(t.tpr))).y0(i(0)).curve(gn))},[u,h,i,r,l,a,o,c,function(){h=this.offsetWidth,u=this.offsetHeight,n(1,h),n(0,u)}]}class Ys extends it{constructor(t){super(),rt(this,t,Xs,Bs,o,{})}}const{window:Gs}=K;function Zs(e){let n,r,i,o,a,s,l,c,u,h,f,d,p,m,v,x,w,_;return n=new st({}),i=new At({}),a=new Ct({}),l=new Es({}),u=new js({}),f=new Ys({}),p=new Tt({}),v=new Et({}),{c(){Q(n.$$.fragment),r=b(),Q(i.$$.fragment),o=b(),Q(a.$$.fragment),s=b(),Q(l.$$.fragment),c=b(),Q(u.$$.fragment),h=b(),Q(f.$$.fragment),d=b(),Q(p.$$.fragment),m=b(),Q(v.$$.fragment)},m(t,y){tt(n,t,y),g(t,r,y),tt(i,t,y),g(t,o,y),tt(a,t,y),g(t,s,y),tt(l,t,y),g(t,c,y),tt(u,t,y),g(t,h,y),tt(f,t,y),g(t,d,y),tt(p,t,y),g(t,m,y),tt(v,t,y),x=!0,w||(_=$(Gs,"resize",e[0]),w=!0)},p:t,i(t){x||(Z(n.$$.fragment,t),Z(i.$$.fragment,t),Z(a.$$.fragment,t),Z(l.$$.fragment,t),Z(u.$$.fragment,t),Z(f.$$.fragment,t),Z(p.$$.fragment,t),Z(v.$$.fragment,t),x=!0)},o(t){J(n.$$.fragment,t),J(i.$$.fragment,t),J(a.$$.fragment,t),J(l.$$.fragment,t),J(u.$$.fragment,t),J(f.$$.fragment,t),J(p.$$.fragment,t),J(v.$$.fragment,t),x=!1},d(t){et(n,t),t&&y(r),et(i,t),t&&y(o),et(a,t),t&&y(s),et(l,t),t&&y(c),et(u,t),t&&y(h),et(f,t),t&&y(d),et(p,t),t&&y(m),et(v,t),w=!1,_()}}}function Js(t,e,n){let r,i,o,a,l;return s(t,mi,(t=>n(1,r=t))),s(t,yi,(t=>n(2,i=t))),s(t,vi,(t=>n(3,o=t))),s(t,gi,(t=>n(4,a=t))),s(t,pi,(t=>n(5,l=t))),[function(){const t=window.innerWidth<=700;d(pi,l={top:t?40:50,bottom:t?20:25,left:t?50:70,right:10},l),d(gi,a={top:t?10:12,bottom:t?15:18,left:t?40:50,right:t?15:35},a),d(vi,o=0,o),d(yi,i=t?10:14,i),d(mi,r=t?.032:.4,r)}]}return new class extends it{constructor(t){super(),rt(this,t,Js,Zs,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
