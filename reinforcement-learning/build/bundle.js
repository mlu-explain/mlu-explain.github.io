var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function u(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function l(t){return null==t?"":t}function c(t,e,n){return t.set(n),e}const h="undefined"!=typeof window;let f=h?()=>window.performance.now():()=>Date.now(),d=h?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&d(g)}function m(t){let e;return 0===p.size&&d(g),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}function D(t,e){t.appendChild(e)}function v(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=A("style");return function(t,e){D(t.head||t,e),e.sheet}(v(t),e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function A(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function C(){return F(" ")}function _(){return F("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function B(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}const S=new Map;let T,z=0;function k(t,e,n,r,i,o,u,a=0){const s=16.666/r;let l="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*o(t);l+=100*t+`%{${u(r,1-r)}}\n`}const c=l+`100% {${u(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${a}`,f=v(t),{stylesheet:d,rules:p}=S.get(f)||function(t,e){const n={stylesheet:y(e),rules:{}};return S.set(t,n),n}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${r}ms linear ${i}ms 1 both`,z+=1,h}function O(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),z-=i,z||d((()=>{z||(S.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&x(e)})),S.clear())})))}function q(t){T=t}function I(t){(function(){if(!T)throw new Error("Function called outside component initialization");return T})().$$.on_mount.push(t)}const j=[],P=[],R=[],L=[],W=Promise.resolve();let V=!1;function H(t){R.push(t)}const U=new Set;let Z,Y=0;function X(){const t=T;do{for(;Y<j.length;){const t=j[Y];Y++,q(t),Q(t.$$)}for(q(null),j.length=0,Y=0;P.length;)P.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];U.has(e)||(U.add(e),e())}R.length=0}while(j.length);for(;L.length;)L.pop()();V=!1,U.clear(),q(t)}function Q(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}function J(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(`${e?"intro":"outro"}${n}`))}const G=new Set;let K;function tt(){K={r:0,c:[],p:K}}function et(){K.r||o(K.c),K=K.p}function nt(t,e){t&&t.i&&(G.delete(t),t.i(e))}function rt(t,e,n,r){if(t&&t.o){if(G.has(t))return;G.add(t),K.c.push((()=>{G.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const it={duration:0};function ot(n,r,i,a){let s=r(n,i),l=a?0:1,c=null,h=null,d=null;function p(){d&&O(n,d)}function g(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function D(r){const{delay:i=0,duration:u=300,easing:a=e,tick:D=t,css:v}=s||it,y={start:f()+i,b:r};r||(y.group=K,K.r+=1),c||h?h=y:(v&&(p(),d=k(n,l,r,u,i,a,v)),r&&D(0,1),c=g(y,u),H((()=>J(n,r,"start"))),m((t=>{if(h&&t>h.start&&(c=g(h,u),h=null,J(n,c.b,"start"),v&&(p(),d=k(n,l,c.b,c.duration,0,a,s.css))),c)if(t>=c.end)D(l=c.b,1-l),J(n,c.b,"end"),h||(c.b?p():--c.group.r||o(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;l=c.a+c.d*a(e/c.duration),D(l,1-l)}return!(!c&&!h)})))}return{run(t){u(s)?(Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z).then((()=>{s=s(),D(t)})):D(t)},end(){p(),c=h=null}}}const ut="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function at(t){t&&t.c()}function st(t,e,n,i){const{fragment:a,after_update:s}=t.$$;a&&a.m(e,n),i||H((()=>{const e=t.$$.on_mount.map(r).filter(u);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(H)}function lt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(j.push(t),V||(V=!0,W.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(e,n,r,u,a,s,l,c=[-1]){const h=T;q(e);const f=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:n.target||h.$$.root};l&&l(f.root);let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&ct(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!u&&u(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&nt(e.$$.fragment),st(e,n.target,n.anchor,n.customElement),X()}q(h)}class ft{$destroy(){lt(this,1),this.$destroy=t}$on(e,n){if(!u(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,v;return{c(){n=A("div"),r=A("a"),i=E("svg"),o=E("g"),u=E("g"),a=E("path"),s=E("path"),l=E("path"),c=E("path"),h=E("g"),f=E("path"),d=E("defs"),p=E("clipPath"),g=E("rect"),m=C(),v=A("h2"),v.innerHTML='MLU-EXPL<span id="ai" class="svelte-htd26v">AI</span>N',B(a,"id","Vector"),B(a,"d","M90.6641 83.1836C96.8828 83.1836 101.941 78.1289 101.941 71.8906V71.8242C101.941 65.5898 96.8945 60.5312 90.6641 60.5312C84.4453 60.5312 79.3828 65.5898 79.3828 71.8242V71.8906C79.3828 78.1289 84.4336 83.1836 90.6641 83.1836Z"),B(a,"fill",e[1]),B(s,"id","Vector_2"),B(s,"d","M143.305 83.1836C149.523 83.1836 154.586 78.1289 154.586 71.8906V71.8242C154.586 65.5898 149.535 60.5312 143.305 60.5312C137.09 60.5312 132.027 65.5898 132.027 71.8242V71.8906C132.027 78.1289 137.078 83.1836 143.305 83.1836Z"),B(s,"fill",e[1]),B(l,"id","Vector_3"),B(l,"d","M163.586 159.402H173.609V122.641H163.586V159.402Z"),B(l,"fill",e[1]),B(c,"id","Vector_4"),B(c,"d","M60.3594 159.402H70.3867V122.641H60.3594V159.402Z"),B(c,"fill",e[1]),B(f,"id","Vector_5"),B(f,"d","M182.16 30.0781H51.8047V10.0234H182.16V30.0781ZM182.16 103.609H51.8047V40.1055H182.16V103.609ZM144.559 168.789H89.4062V113.641H144.559V168.789ZM0 0V10.0234H15.8789V46.7891H25.9023V10.0234H41.7812V113.641H79.3867V178.816H96.9297V215.578H106.957V178.816H127.016V215.578H137.039V178.816H154.586V113.641H192.188V10.0234H233.969V0"),B(f,"fill",e[1]),B(h,"id","Group"),B(o,"id","mlu_robot 1"),B(o,"clip-path","url(#clip0)"),B(g,"width","233.97"),B(g,"height","215.58"),B(g,"fill","black"),B(p,"id","clip0"),B(i,"width","30"),B(i,"height","30"),B(i,"viewBox","0 0 234 216"),B(v,"class","logo svelte-htd26v"),B(r,"href","https://mlu-explain.github.io"),B(r,"class","svelte-htd26v"),B(n,"id","intro-icon"),$(n,"--ai-color",e[0]),B(n,"class","svelte-htd26v")},m(t,e){w(t,n,e),D(n,r),D(r,i),D(i,o),D(o,u),D(u,a),D(u,s),D(u,l),D(u,c),D(u,h),D(h,f),D(i,d),D(d,p),D(p,g),D(r,m),D(r,v)},p(t,[e]){2&e&&B(a,"fill",t[1]),2&e&&B(s,"fill",t[1]),2&e&&B(l,"fill",t[1]),2&e&&B(c,"fill",t[1]),2&e&&B(f,"fill",t[1]),1&e&&$(n,"--ai-color",t[0])},i:t,o:t,d(t){t&&x(n)}}}function pt(t,e,n){let{aiLogoColor:r="black"}=e,{robotLogoColor:i="black"}=e;return t.$$set=t=>{"aiLogoColor"in t&&n(0,r=t.aiLogoColor),"robotLogoColor"in t&&n(1,i=t.robotLogoColor)},[r,i]}class gt extends ft{constructor(t){super(),ht(this,t,pt,dt,a,{aiLogoColor:0,robotLogoColor:1})}}function mt(e){let n;return{c(){n=A("section"),n.innerHTML='<h1 id="intro-hed" class="svelte-qiih5n">Reinforcement Learning</h1> \n  <h1 class="intro-sub svelte-qiih5n">A Gentle Introduction To Learning From Decisions</h1> \n  <h3 id="intro__date" class="svelte-qiih5n"><a href="https://erinbugbee.com">Erin Bugbee</a>, <a>Anand Kamat</a>, &amp;\n    <a href="https://twitter.com/jdwlbr">Jared Wilber</a></h3>',B(n,"id","intro"),B(n,"class","svelte-qiih5n")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class Dt extends ft{constructor(t){super(),ht(this,t,null,mt,a,{})}}function vt(e){let n;return{c(){n=A("section"),n.innerHTML='<p class="body-text">In many situations, we learn by interacting with our environment. We observe\n    the current situation, take actions, and observe outcomes, and then reflect\n    on these previous occurrences when we take our next action. The field of\n    psychology has historically studied the human ability to learn from the\n    reinforcement of behaviors, and this influenced the development of an area\n    of machine learning: <span class="bold">reinforcement learning</span>. Reinforcement learning (RL)\n    is an area of machine learning that focuses on how learning from interacting\n    with an environment can occur effectively for intelligent agents.\n    <br/><br/>\n    The goal of RL problems is to learn which actions to take and when to take them\n    to maximize cumulative reward over time. This differs from supervised learning,\n    as the decision maker is not told what is the correct action in the current situation\n    and instead must learn from the consequences of its own actions. It is also different\n    from unsupervised learning, as the goal is not to find structure in unlabeled\n    data but instead to maximize reward.</p>'},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class yt extends ft{constructor(t){super(),ht(this,t,null,vt,a,{})}}function wt(e){let n;return{c(){n=A("section"),n.innerHTML='<h1 class="body-header">Problem Structure</h1> \n\n  <p class="body-text">In reinforcement learning problems, there is an <span class="bold">agent</span>\n    who makes decisions and learns how to achieve a goal. This agent interacts\n    with the <span class="bold">environment</span>\n    by taking <span class="bold">actions</span>. The environment produces\n    <span class="bold">rewards</span>\n    as a result of the actions taken, and these rewards provide insight into the\n    overall <span class="bold">value</span> of taking an action in a particular\n    state. Actions may affect the environment, leading to changes in\n    <span class="bold">state</span>, which the agent observes. This process\n    continues with the agent taking actions and observing the resulting reward.\n    The agent uses this information to learn what actions it should take\n    depending on the circumstance. This mapping from states to actions is called\n    a <span class="bold">policy</span>. The agent also learns a\n    <span class="bold">value function</span> which it uses to predict how\n    desirable states are when behaving according to the policy. The learning in\n    reinforcement learning comes from the agent changing its policy and updating\n    its value function as a result of its experiences in the environment.\n    <br/><br/>\n    Typically, the agent interacts with the environment over time. At each time point,\n    an action is taken based on the agent’s policy, a reward is obtained, and the\n    next state is observed. The sequence of transitions experienced by the agent\n    starting from the intitial state until the final state is called a trial or an\n    episode.</p>'},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class xt extends ft{constructor(t){super(),ht(this,t,null,wt,a,{})}}const bt=Math.PI,At=2*bt,Et=1e-6,Ft=At-Et;function Ct(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _t(){return new Ct}function Mt(t){return function(){return t}}function Bt(t){this._context=t}function Nt(t){return new Bt(t)}function $t(t){return t[0]}function St(t){return t[1]}function Tt(t,e){var n=Mt(!0),r=null,i=Nt,o=null;function u(u){var a,s,l,c=(u=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,h=!1;for(null==r&&(o=i(l=_t())),a=0;a<=c;++a)!(a<c&&n(s=u[a],a,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,a,u),+e(s,a,u));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?$t:Mt(t),e="function"==typeof e?e:void 0===e?St:Mt(e),u.x=function(e){return arguments.length?(t="function"==typeof e?e:Mt(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Mt(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:Mt(!!t),u):n},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}function zt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kt(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>zt(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const u=r(t,n,i,o-1);return u>i&&e(t[u-1],n)>-e(t[u],n)?u-1:u},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}Ct.prototype=_t.prototype={constructor:Ct,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,u=this._y1,a=n-t,s=r-e,l=o-t,c=u-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Et)if(Math.abs(c*a-s*l)>Et&&i){var f=n-o,d=r-u,p=a*a+s*s,g=f*f+d*d,m=Math.sqrt(p),D=Math.sqrt(h),v=i*Math.tan((bt-Math.acos((p+h-g)/(2*m*D)))/2),y=v/D,w=v/m;Math.abs(y-1)>Et&&(this._+="L"+(t+y*l)+","+(e+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+w*a)+","+(this._y1=e+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var u=(n=+n)*Math.cos(r),a=n*Math.sin(r),s=t+u,l=e+a,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>Et||Math.abs(this._y1-l)>Et)&&(this._+="L"+s+","+l),n&&(h<0&&(h=h%At+At),h>Ft?this._+="A"+n+","+n+",0,1,"+c+","+(t-u)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>Et&&(this._+="A"+n+","+n+",0,"+ +(h>=bt)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const Ot=kt(zt).right;kt((function(t){return null===t?NaN:+t})).center;var qt=Ot,It=Math.sqrt(50),jt=Math.sqrt(10),Pt=Math.sqrt(2);function Rt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=It?10:o>=jt?5:o>=Pt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=It?10:o>=jt?5:o>=Pt?2:1)}function Lt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Wt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ht(){}var Ut=.7,Zt=1/Ut,Yt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Kt=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),te=new RegExp("^rgba\\("+[Yt,Yt,Yt,Xt]+"\\)$"),ee=new RegExp("^rgba\\("+[Qt,Qt,Qt,Xt]+"\\)$"),ne=new RegExp("^hsl\\("+[Xt,Qt,Qt]+"\\)$"),re=new RegExp("^hsla\\("+[Xt,Qt,Qt,Xt]+"\\)$"),ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oe(){return this.rgb().formatHex()}function ue(){return this.rgb().formatRgb()}function ae(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?se(e):3===n?new fe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?le(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?le(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gt.exec(t))?new fe(e[1],e[2],e[3],1):(e=Kt.exec(t))?new fe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=te.exec(t))?le(e[1],e[2],e[3],e[4]):(e=ee.exec(t))?le(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ne.exec(t))?me(e[1],e[2]/100,e[3]/100,1):(e=re.exec(t))?me(e[1],e[2]/100,e[3]/100,e[4]):ie.hasOwnProperty(t)?se(ie[t]):"transparent"===t?new fe(NaN,NaN,NaN,0):null}function se(t){return new fe(t>>16&255,t>>8&255,255&t,1)}function le(t,e,n,r){return r<=0&&(t=e=n=NaN),new fe(t,e,n,r)}function ce(t){return t instanceof Ht||(t=ae(t)),t?new fe((t=t.rgb()).r,t.g,t.b,t.opacity):new fe}function he(t,e,n,r){return 1===arguments.length?ce(t):new fe(t,e,n,null==r?1:r)}function fe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function de(){return"#"+ge(this.r)+ge(this.g)+ge(this.b)}function pe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ge(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function me(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ve(t,e,n,r)}function De(t){if(t instanceof ve)return new ve(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=ae(t)),!t)return new ve;if(t instanceof ve)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new ve(u,a,s,t.opacity)}function ve(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ye(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Wt(Ht,ae,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:oe,formatHex:oe,formatHsl:function(){return De(this).formatHsl()},formatRgb:ue,toString:ue}),Wt(fe,he,Vt(Ht,{brighter:function(t){return t=null==t?Zt:Math.pow(Zt,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ut:Math.pow(Ut,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:de,formatHex:de,formatRgb:pe,toString:pe})),Wt(ve,(function(t,e,n,r){return 1===arguments.length?De(t):new ve(t,e,n,null==r?1:r)}),Vt(Ht,{brighter:function(t){return t=null==t?Zt:Math.pow(Zt,t),new ve(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ut:Math.pow(Ut,t),new ve(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fe(ye(t>=240?t-240:t+120,i,r),ye(t,i,r),ye(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var we=t=>()=>t;function xe(t){return 1==(t=+t)?be:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):we(isNaN(e)?n:e)}}function be(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):we(isNaN(t)?e:t)}var Ae=function t(e){var n=xe(e);function r(t,e){var r=n((t=he(t)).r,(e=he(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),u=be(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=u(e),t+""}}return r.gamma=t,r}(1);function Ee(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Fe(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(n=0;n<i;++n)o[n]=Se(t[n],e[n]);for(;n<r;++n)u[n]=e[n];return function(t){for(n=0;n<i;++n)u[n]=o[n](t);return u}}function Ce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _e(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Me(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Se(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ne=new RegExp(Be.source,"g");function $e(t,e){var n,r,i,o=Be.lastIndex=Ne.lastIndex=0,u=-1,a=[],s=[];for(t+="",e+="";(n=Be.exec(t))&&(r=Ne.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(n=n[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:_e(n,r)})),o=Ne.lastIndex;return o<e.length&&(i=e.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)a[(n=s[r]).i]=n.x(t);return a.join("")})}function Se(t,e){var n,r=typeof e;return null==e||"boolean"===r?we(e):("number"===r?_e:"string"===r?(n=ae(e))?(e=n,Ae):$e:e instanceof ae?Ae:e instanceof Date?Ce:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ee:Array.isArray(e)?Fe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Me:_e)(t,e)}function Te(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ze(t){return+t}var ke=[0,1];function Oe(t){return t}function qe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Ie(t,e,n){var r=t[0],i=t[1],o=e[0],u=e[1];return i<r?(r=qe(i,r),o=n(u,o)):(r=qe(r,i),o=n(o,u)),function(t){return o(r(t))}}function je(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=qe(t[u],t[u+1]),o[u]=n(e[u],e[u+1]);return function(e){var n=qt(t,e,1,r)-1;return o[n](i[n](e))}}function Pe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Re(){var t,e,n,r,i,o,u=ke,a=ke,s=Se,l=Oe;function c(){var t,e,n,s=Math.min(u.length,a.length);return l!==Oe&&(t=u[0],e=u[s-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?je:Ie,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(u.map(t),a,s)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(a,u.map(t),_e)))(n)))},h.domain=function(t){return arguments.length?(u=Array.from(t,ze),c()):u.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),s=Te,c()},h.clamp=function(t){return arguments.length?(l=!!t||Oe,c()):l!==Oe},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Le(){return Re()(Oe,Oe)}function We(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ve(t){return(t=We(Math.abs(t)))?t[1]:NaN}var He,Ue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ze(t){if(!(e=Ue.exec(t)))throw new Error("invalid format: "+t);var e;return new Ye({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ye(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Xe(t,e){var n=We(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ze.prototype=Ye.prototype,Ye.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Qe={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Xe(100*t,e),r:Xe,s:function(t,e){var n=We(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(He=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+We(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Je(t){return t}var Ge,Ke,tn,en=Array.prototype.map,nn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Je:(e=en.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=e[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=e[u=(u+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Je:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(en.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ze(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,D=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Qe[v]||(void 0===m&&(m=12),D=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?s:"",x=Qe[v],b=/[defgprs%]/.test(v);function A(t){var i,o,s,f=y,A=w;if("c"===v)A=x(t)+A,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),m),D&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),f=(E?"("===h?h:l:"-"===h||"("===h?"":h)+f,A=("s"===v?nn[8+He/3]:"")+A+(E&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){A=(46===s?u+t.slice(i+1):t.slice(i))+A,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var F=f.length+t.length+A.length,C=F<p?new Array(p-F+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?p-A.length:1/0),C=""),n){case"<":t=f+t+A+C;break;case"=":t=f+C+t+A;break;case"^":t=C.slice(0,F=C.length>>1)+f+t+A+C.slice(F);break;default:t=C+f+t+A}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ze(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ve(e)/3))),i=Math.pow(10,-r),o=nn[8+r/3];return function(t){return n(i*t)+o}}}}function on(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=It?i*=10:o>=jt?i*=5:o>=Pt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Ze(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ve(e)/3)))-Ve(Math.abs(t)))}(o,u))||(r.precision=i),tn(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ve(e)-Ve(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ve(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ke(r)}function un(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,u,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(u=Rt(t,e,n))||!isFinite(u))return[];if(u>0){let n=Math.round(t/u),r=Math.round(e/u);for(n*u<t&&++n,r*u>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*u}else{u=-u;let n=Math.round(t*u),r=Math.round(e*u);for(n/u<t&&++n,r/u>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/u}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return on(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),u=0,a=o.length-1,s=o[u],l=o[a],c=10;for(l<s&&(i=s,s=l,l=i,i=u,u=a,a=i);c-- >0;){if((i=Rt(s,l,n))===r)return o[u]=s,o[a]=l,e(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function an(){var t=Le();return t.copy=function(){return Pe(t,an())},Lt.apply(t,arguments),un(t)}Ge=rn({thousands:",",grouping:[3],currency:["$",""]}),Ke=Ge.format,tn=Ge.formatPrefix;const sn=[];function ln(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!sn.length;for(const t of i)t[1](),sn.push(t,e);if(t){for(let t=0;t<sn.length;t+=2)sn[t][0](sn[t+1]);sn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(u,a=t){const s=[u,a];return i.add(s),1===i.size&&(r=n(o)||t),u(e),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}function cn(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function hn(t){return"[object Date]"===Object.prototype.toString.call(t)}function fn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>fn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(hn(t)&&hn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=fn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function dn(t,r={}){const i=ln(t);let o,u=t;function a(a,s){if(null==t)return i.set(t=a),Promise.resolve();u=a;let l=o,c=!1,{delay:h=0,duration:d=400,easing:p=e,interpolate:g=fn}=n(n({},r),s);if(0===d)return l&&(l.abort(),l=null),i.set(t=u),Promise.resolve();const D=f()+h;let v;return o=m((e=>{if(e<D)return!0;c||(v=g(t,a),"function"==typeof d&&(d=d(t,a)),c=!0),l&&(l.abort(),l=null);const n=e-D;return n>d?(i.set(t=a),!1):(i.set(t=v(p(n/d))),!0)})),o.promise}return{set:a,update:(e,n)=>a(e(u,t),n),subscribe:i.subscribe}}const pn=ln({top:0,bottom:0,left:0,right:0}),gn=ln(.2),mn=ln(.3),Dn=ln(.5),vn=ln(500),yn=ln(500),wn=ln({top:8,bottom:12,left:16,right:0}),xn=ln(125),bn=ln({top:8,bottom:20,left:16,right:0}),An=ln(430),En=ln(200),Fn=ln(.22),Cn=ln(.13),_n=ln(.09),Mn=dn({x:.5,y:.5},{duration:200,easing:cn}),Bn=dn({x:3.5,y:.5},{duration:200,easing:cn}),Nn=dn({x:3.5,y:1.5},{duration:200,easing:cn}),$n=ln([0,0]),Sn=ln([2,3]),Tn=ln([{x:3.5,y:.5}]),zn=ln([{x:3.5,y:1.5}]),kn=ln([{episodeNumber:[1,2,3],left:[2,4,6],right:[1,2,3],maxDirection:[1,1,1]}]),On=ln([{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],left:[],right:[],maxDirection:[]}]),qn=ln([{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]}]);function In(t,e,n){const r=t.slice();return r[9]=e[n],r}function jn(t,e,n){const r=t.slice();return r[9]=e[n],r}function Pn(t){let e,n,r,i,o=(t[9]%2==0?t[6](t[9]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(o),B(n,"class","axis-text svelte-1agyqm6"),B(n,"y","17"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[1](t[9])+0} ${Vn-t[5].bottom})`)},m(t,i){w(t,e,i),D(e,n),D(n,r)},p(t,n){2&n&&o!==(o=(t[9]%2==0?t[6](t[9]):"")+"")&&N(r,o),2&n&&i!==(i=`translate(${t[1](t[9])+0} ${Vn-t[5].bottom})`)&&B(e,"transform",i)},d(t){t&&x(e)}}}function Rn(t){let e,n,r,i,o,u,a=(t[9]%2==0?t[6](t[9]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(a),o=E("line"),u=E("line"),B(n,"class","axis-text svelte-1agyqm6"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[5].left-5} ${t[0](t[9])+0})`),B(o,"class","axis-line svelte-1agyqm6"),B(o,"x1",t[5].left),B(o,"x2",t[5].left),B(o,"y1",t[5].top),B(o,"y2",Vn-t[5].bottom),B(o,"stroke","black"),B(u,"class","axis-line svelte-1agyqm6"),B(u,"x1",t[5].left),B(u,"x2",Wn-t[5].right),B(u,"y1",Vn-t[5].bottom),B(u,"y2",Vn-t[5].bottom),B(u,"stroke","black")},m(t,i){w(t,e,i),D(e,n),D(n,r),w(t,o,i),w(t,u,i)},p(t,n){1&n&&a!==(a=(t[9]%2==0?t[6](t[9]):"")+"")&&N(r,a),1&n&&i!==(i=`translate(${t[5].left-5} ${t[0](t[9])+0})`)&&B(e,"transform",i)},d(t){t&&x(e),t&&x(o),t&&x(u)}}}function Ln(e){let n,r,i,o,u,a,s,l,c,h,f=e[1].ticks(),d=[];for(let t=0;t<f.length;t+=1)d[t]=Pn(jn(e,f,t));let p=e[0].ticks(),g=[];for(let t=0;t<p.length;t+=1)g[t]=Rn(In(e,p,t));return{c(){n=E("svg"),r=E("path"),o=E("path");for(let t=0;t<d.length;t+=1)d[t].c();a=E("text"),s=F("Number of Episodes"),l=E("text"),c=F("Q-Value");for(let t=0;t<g.length;t+=1)g[t].c();B(r,"class","pathLeft-line path svelte-1agyqm6"),B(r,"d",i=e[2](e[4])),B(o,"class","pathRight-line path svelte-1agyqm6"),B(o,"d",u=e[2](e[3])),B(a,"class","bandit-axis-label svelte-1agyqm6"),B(a,"y",Vn-7),B(a,"x",Wn/2),B(a,"text-anchor","middle"),B(l,"class","bandit-axis-label svelte-1agyqm6"),B(l,"y",e[5].left/3),B(l,"x",h=-e[0](1)),B(l,"text-anchor","middle"),B(l,"transform","rotate(-90)"),B(n,"width",Wn),B(n,"height",Vn)},m(t,e){w(t,n,e),D(n,r),D(n,o);for(let t=0;t<d.length;t+=1)d[t].m(n,null);D(n,a),D(a,s),D(n,l),D(l,c);for(let t=0;t<g.length;t+=1)g[t].m(n,null)},p(t,[e]){if(20&e&&i!==(i=t[2](t[4]))&&B(r,"d",i),12&e&&u!==(u=t[2](t[3]))&&B(o,"d",u),98&e){let r;for(f=t[1].ticks(),r=0;r<f.length;r+=1){const i=jn(t,f,r);d[r]?d[r].p(i,e):(d[r]=Pn(i),d[r].c(),d[r].m(n,a))}for(;r<d.length;r+=1)d[r].d(1);d.length=f.length}if(1&e&&h!==(h=-t[0](1))&&B(l,"x",h),97&e){let r;for(p=t[0].ticks(),r=0;r<p.length;r+=1){const i=In(t,p,r);g[r]?g[r].p(i,e):(g[r]=Rn(i),g[r].c(),g[r].m(n,null))}for(;r<g.length;r+=1)g[r].d(1);g.length=p.length}},i:t,o:t,d(t){t&&x(n),b(d,t),b(g,t)}}}let Wn=300,Vn=260;function Hn(t,e,n){let r,i,o,u,a,l,c;s(t,kn,(t=>n(8,c=t)));const h={top:10,right:40,bottom:40,left:40},f=Ke(".2d");return t.$$.update=()=>{256&t.$$.dirty&&n(7,r=c[0].left.length),128&t.$$.dirty&&n(1,i=an().domain([0,r+1]).range([h.left,Wn-h.right])),256&t.$$.dirty&&n(4,u=c[0].left.map(((t,e)=>({x:e,y:t})))),256&t.$$.dirty&&n(3,a=c[0].right.map(((t,e)=>({x:e,y:t})))),3&t.$$.dirty&&n(2,l=Tt().x((t=>i(t.x))).y((t=>o(t.y))))},n(0,o=an().domain([-2,5]).range([Vn-h.bottom,h.top])),[o,i,l,a,u,h,f,r,c]}class Un extends ft{constructor(t){super(),ht(this,t,Hn,Ln,a,{})}}function Zn(e){let n,r;return n=new Un({}),{c(){at(n.$$.fragment)},m(t,e){st(n,t,e),r=!0},p:t,i(t){r||(nt(n.$$.fragment,t),r=!0)},o(t){rt(n.$$.fragment,t),r=!1},d(t){lt(n,t)}}}class Yn extends ft{constructor(t){super(),ht(this,t,null,Zn,a,{})}}var Xn="http://www.w3.org/1999/xhtml",Qn={svg:"http://www.w3.org/2000/svg",xhtml:Xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Qn.hasOwnProperty(e)?{space:Qn[e],local:t}:t}function Gn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xn&&e.documentElement.namespaceURI===Xn?e.createElement(t):e.createElementNS(n,t)}}function Kn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tr(t){var e=Jn(t);return(e.local?Kn:Gn)(e)}function er(){}function nr(t){return null==t?er:function(){return this.querySelector(t)}}function rr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ir(){return[]}function or(t){return function(e){return e.matches(t)}}var ur=Array.prototype.find;function ar(){return this.firstElementChild}var sr=Array.prototype.filter;function lr(){return this.children}function cr(t){return new Array(t.length)}function hr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function fr(t){return function(){return t}}function dr(t,e,n,r,i,o){for(var u,a=0,s=e.length,l=o.length;a<l;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new hr(t,o[a]);for(;a<s;++a)(u=e[a])&&(i[a]=u)}function pr(t,e,n,r,i,o,u){var a,s,l,c=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(s=e[a])&&(d[a]=l=u.call(s,s.__data__,a,e)+"",c.has(l)?i[a]=s:c.set(l,s));for(a=0;a<f;++a)l=u.call(t,o[a],a,o)+"",(s=c.get(l))?(r[a]=s,s.__data__=o[a],c.delete(l)):n[a]=new hr(t,o[a]);for(a=0;a<h;++a)(s=e[a])&&c.get(d[a])===s&&(i[a]=s)}function gr(t){return t.__data__}function mr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Dr(t){return function(){this.removeAttribute(t)}}function vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yr(t,e){return function(){this.setAttribute(t,e)}}function wr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function br(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ar(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Er(t){return function(){this.style.removeProperty(t)}}function Fr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Cr(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _r(t,e){return t.style.getPropertyValue(e)||Ar(t).getComputedStyle(t,null).getPropertyValue(e)}function Mr(t){return function(){delete this[t]}}function Br(t,e){return function(){this[t]=e}}function Nr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $r(t){return t.trim().split(/^|\s+/)}function Sr(t){return t.classList||new Tr(t)}function Tr(t){this._node=t,this._names=$r(t.getAttribute("class")||"")}function zr(t,e){for(var n=Sr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function kr(t,e){for(var n=Sr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Or(t){return function(){zr(this,t)}}function qr(t){return function(){kr(this,t)}}function Ir(t,e){return function(){(e.apply(this,arguments)?zr:kr)(this,t)}}function jr(){this.textContent=""}function Pr(t){return function(){this.textContent=t}}function Rr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Lr(){this.innerHTML=""}function Wr(t){return function(){this.innerHTML=t}}function Vr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Hr(){this.nextSibling&&this.parentNode.appendChild(this)}function Ur(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zr(){return null}function Yr(){var t=this.parentNode;t&&t.removeChild(this)}function Xr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Gr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Kr(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function ti(t,e,n){var r=Ar(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ei(t,e){return function(){return ti(this,t,e)}}function ni(t,e){return function(){return ti(this,t,e.apply(this,arguments))}}hr.prototype={constructor:hr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Tr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ri=[null];function ii(t,e){this._groups=t,this._parents=e}function oi(t){return"string"==typeof t?new ii([[document.querySelector(t)]],[document.documentElement]):new ii([[t]],ri)}function ui(t){return"string"==typeof t?new ii([document.querySelectorAll(t)],[document.documentElement]):new ii([null==t?[]:rr(t)],ri)}ii.prototype={constructor:ii,select:function(t){"function"!=typeof t&&(t=nr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new ii(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:rr(e)}}(t):function(t){return null==t?ir:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new ii(r,i)},selectChild:function(t){return this.select(null==t?ar:function(t){return function(){return ur.call(this.children,t)}}("function"==typeof t?t:or(t)))},selectChildren:function(t){return this.selectAll(null==t?lr:function(t){return function(){return sr.call(this.children,t)}}("function"==typeof t?t:or(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new ii(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,gr);var n=e?pr:dr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=fr(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,d=rr(t.call(c,c&&c.__data__,l,r)),p=d.length,g=a[l]=new Array(p),m=u[l]=new Array(p),D=s[l]=new Array(f);n(c,h,g,m,D,d,e);for(var v,y,w=0,x=0;w<p;++w)if(v=g[w]){for(w>=x&&(x=w+1);!(y=m[x])&&++x<p;);v._next=y||null}}return(u=new ii(u,r))._enter=a,u._exit=s,u},enter:function(){return new ii(this._enter||this._groups.map(cr),this._parents)},exit:function(){return new ii(this._exit||this._groups.map(cr),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof ii))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=e[a],c=n[a],h=l.length,f=u[a]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)u[a]=e[a];return new ii(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=mr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new ii(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,e){var n=Jn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?vr:Dr:"function"==typeof e?n.local?br:xr:n.local?wr:yr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Er:"function"==typeof e?Cr:Fr)(t,e,null==n?"":n)):_r(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Mr:"function"==typeof e?Nr:Br)(t,e)):this.node()[t]},classed:function(t,e){var n=$r(t+"");if(arguments.length<2){for(var r=Sr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ir:e?Or:qr)(n,e))},text:function(t){return arguments.length?this.each(null==t?jr:("function"==typeof t?Rr:Pr)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Lr:("function"==typeof t?Vr:Wr)(t)):this.node().innerHTML},raise:function(){return this.each(Hr)},lower:function(){return this.each(Ur)},append:function(t){var e="function"==typeof t?t:tr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:tr(t),r=null==e?Zr:"function"==typeof e?e:nr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Yr)},clone:function(t){return this.select(t?Qr:Xr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Jr(t+""),u=o.length;if(!(arguments.length<2)){for(a=e?Kr:Gr,r=0;r<u;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?ni:ei)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};const ai=["m350 560-245-245h140v-315h210v315h140z"],si="M0.000 10.526 C 0.000 18.246,3.509 21.053,13.158 21.053 C 25.598 21.053,26.316 22.632,26.316 50.000 C 26.316 75.439,27.592 78.947,36.842 78.947 C 46.093 78.947,47.368 75.439,47.368 50.000 C 47.368 24.561,48.644 21.053,57.895 21.053 C 67.968 21.053,68.421 24.561,68.421 102.632 L 68.421 184.211 100.000 184.211 L 131.579 184.211 131.579 236.842 L 131.579 289.474 147.368 289.474 C 162.998 289.474,163.158 289.766,163.158 318.421 C 163.158 343.860,164.434 347.368,173.684 347.368 C 182.935 347.368,184.211 343.860,184.211 318.421 C 184.211 289.766,184.370 289.474,200.000 289.474 C 215.630 289.474,215.789 289.766,215.789 318.421 C 215.789 343.860,217.065 347.368,226.316 347.368 C 235.566 347.368,236.842 343.860,236.842 318.421 C 236.842 289.766,237.002 289.474,252.632 289.474 L 268.421 289.474 268.421 236.842 L 268.421 184.211 300.000 184.211 L 331.579 184.211 331.579 102.632 L 331.579 21.053 365.789 21.053 C 396.491 21.053,400.000 19.973,400.000 10.526 C 400.000 0.185,396.491 0.000,200.000 0.000 C 3.509 0.000,0.000 0.185,0.000 10.526 M310.526 34.211 L 310.526 47.368 200.000 47.368 L 89.474 47.368 89.474 34.211 L 89.474 21.053 200.000 21.053 L 310.526 21.053 310.526 34.211 M310.526 115.789 L 310.526 163.158 200.000 163.158 L 89.474 163.158 89.474 115.789 L 89.474 68.421 200.000 68.421 L 310.526 68.421 310.526 115.789 M137.046 104.882 C 126.932 123.780,144.323 141.720,165.048 133.767 C 176.310 129.445,176.546 102.225,165.359 97.932 C 150.912 92.388,142.647 94.416,137.046 104.882 M226.501 104.917 C 219.455 118.083,219.539 118.787,229.323 128.571 C 242.236 141.484,268.421 132.923,268.421 115.789 C 268.421 97.233,235.222 88.622,226.501 104.917 M242.105 226.316 L 242.105 268.421 197.368 268.421 L 152.632 268.421 152.632 226.316 L 152.632 184.211 197.368 184.211 L 242.105 184.211 242.105 226.316 M100.000 226.316 C 100.000 254.386,101.170 257.895,110.526 257.895 C 119.883 257.895,121.053 254.386,121.053 226.316 C 121.053 198.246,119.883 194.737,110.526 194.737 C 101.170 194.737,100.000 198.246,100.000 226.316 M278.947 226.316 C 278.947 254.386,280.117 257.895,289.474 257.895 C 298.830 257.895,300.000 254.386,300.000 226.316 C 300.000 198.246,298.830 194.737,289.474 194.737 C 280.117 194.737,278.947 198.246,278.947 226.316 ",li=["m471.13 63.785c-0.11328 0.054688-0.28125 0.16797-0.39062 0.22266h-0.44922c0.27734-0.054687 0.55859-0.11328 0.83984-0.22266z","m593.15 192.98c4.5352 13.273 5.9375 27.441 6.2734 41.551 0.33594 15.289-1.1211 30.465-4.7031 45.305-2.3516 9.8555-5.4883 19.543-8.7344 29.176-2.4648 7.2812-5.0977 14.617-8.625 21.336-4.9297 9.3516-10.414 18.48-16.352 27.273-5.8789 8.625-12.098 17.078-19.039 24.863-7.7266 8.6797-16.129 16.855-24.754 24.695-7.8398 7.1133-16.184 13.777-24.754 20.105-7.4492 5.4883-15.457 10.305-23.297 15.289-6.3828 4.0312-12.938 7.8945-19.488 11.648-3.4727 1.9609-7 3.7539-10.695 5.2656-12.32 5.207-24.641 10.414-36.961 15.566-9.1289 3.8086-18.258 7.5586-27.441 11.199-7.7266 3.0781-15.961 4.9844-24.137 6.6094-12.152 2.4062-24.414 4.3672-36.68 5.9375-4.8711 0.61719-10.137 0.44922-14.895-0.72656-6.2148-1.5664-11.199-5.4336-15.008-10.922-7-10.137-6.3828-20.551-1.9023-31.191 0.054687-0.16797 0.11328-0.28125 0.22266-0.44922 0.67188-1.5117 1.457-2.9102 2.2969-4.2578 1.0078-1.5664 2.1836-3.0234 3.4727-4.4258 2.3516-2.6328 5.0977-4.9297 7.8945-7.1133 8.9609-6.832 18.199-13.383 27.328-20.047 14.391-10.473 28.895-20.832 43.121-31.473 6.0469-4.4805 12.039-9.0156 18.031-13.551 6.5508-4.9844 13.105-10.137 19.434-15.344 10.863-8.9609 21.504-18.199 31.414-28.168 14.281-14.391 26.879-30.297 36.625-48.16 5.6562-10.359 11.367-20.832 15.512-31.809 6.1055-16.238 11.648-32.762 13.832-50.176 1.5117-12.32 2.4648-24.586 0.054688-36.902-1.0078-5.3203-2.3516-10.586-3.6953-15.848-0.16797-0.61719-0.28125-1.2305-0.44922-1.793-1.2305-4.8164-1.9609-9.9102-4.2578-14.223-4.0312-7.6172-7.5039-15.68-14.281-21.672-2.1836-1.9609-4.5352-3.6953-6.8867-5.3203-3.9766-2.6328-8.1758-4.7617-12.711-6.4961-4.4258-1.6797-6.5508-6.0469-5.0977-10.473 2.8555-8.793 7.6719-16.406 14.672-22.512 0.72656-0.67188 1.5664-1.2305 2.4062-1.7344 0.11328-0.054688 0.22266-0.16797 0.39062-0.22266 1.457-0.89453 3.0234-1.793 4.8164-2.9102 0.67188 5.0391 0.89453 9.4062 1.9023 13.609 0.054688 0.28125 0.16797 0.61719 0.22266 0.89453 0.89453 3.3047 2.1289 6.7188 4.0898 9.4062 0.78516 1.0625 1.625 2.1836 2.4062 3.2461 6.2148 8.3438 12.656 16.52 19.266 24.586 5.4336 6.6094 11.703 12.32 20.945 12.434 4.3125 0.054687 8.625-1.0078 12.992-1.2891 10.078-0.55859 18.258 4.0898 24.473 11.258 5.6562 6.6094 10.809 13.887 14.785 21.617 5.9414 11.809 11.707 23.848 15.965 36.336z"],ci=["m203.56 376.99c-5.3203 2.2383-11.816 5.4336-17.246 10.809-1.9023-0.22266-3.8086-0.44922-5.7695-0.72656-8.2305-1.0625-16.406-3.3594-24.359-5.9375-11.816-3.7539-23.465-8.0078-35-12.543-4.5352-1.793-9.0703-4.5352-12.656-7.8398-4.6484-4.3672-7.168-10.137-7.8398-16.855-1.2305-12.266 4.3672-21.055 13.441-28.223 5.7695-4.5938 12.824-6.4414 19.992-7.4492 11.145-1.625 22.398-2.9102 33.602-4.3125 17.695-2.2383 35.336-4.2578 52.977-6.6641 15.625-2.1289 31.305-4.3125 46.816-7.168 13.832-2.5742 27.609-5.4883 41.105-9.4648 19.434-5.7109 38.191-13.496 55.383-24.414 9.9688-6.3281 19.992-12.711 28.953-20.328 13.215-11.258 26.039-23.016 36.398-37.238 7.2812-10.023 14.055-20.328 17.922-32.258 1.8477-5.7695 3.3594-11.594 4.8711-17.473 1.2305-4.8164 3.0781-9.6328 3.1914-14.504 0.16797-8.625 1.0078-17.359-2.0156-25.871-0.054688-0.22266-0.16797-0.39062-0.22266-0.61719 2.2969 2.3516 4.3672 4.8711 6.1602 7.5586 3.4727 5.1523 4.9297 11.48 6.3828 18.199 0.28125 1.2305 0.55859 2.5195 0.83984 3.7539 0.61719 2.5195 0.50391 5.7109 0.39062 9.0703-0.054688 1.2891-0.054688 2.6328-0.054688 3.9766v0.16797c0 5.7695 0 11.762-0.33594 17.473-0.72656 11.594-4.6484 22.848-8.7344 33.32-6.2734 15.848-15.734 30.297-25.031 43.512-6.3281 9.0156-14.281 17.473-21.895 25.703l-0.39062 0.39062c-12.488 13.383-27.441 25.145-45.809 36.062-10.191 6.1055-21.504 11.984-36.734 19.039-8.0625 3.7539-16.801 7.5586-28.223 12.375-4.7617 1.9609-9.3516 3.8633-14.895 6.1602-11.145 4.5938-22.566 9.0703-33.656 13.383-5.207 2.0703-10.641 4.1445-15.902 6.2734-2.8008 1.1211-5.6562 2.2383-8.457 3.3594-7 2.7422-14.223 5.6016-21.336 8.5664z","m488.43 144.48c0.28125 1.2891 0.55859 2.5742 0.89453 3.8633l0.054687 0.16797c1.457 5.6016 2.9102 11.367 4.0312 17.023 2.1836 11.367 1.2305 23.297-0.16797 34.441-2.0703 16.91-7.6719 33.266-13.383 48.383-3.9219 10.305-9.4648 20.496-14.785 30.352l-0.28125 0.44922c-8.7344 16.07-20.328 31.246-35.336 46.367-8.3438 8.457-17.863 16.969-30.801 27.609-12.152 10.023-24.863 19.543-37.184 28.672-0.28125 0.16797-0.50391 0.39062-0.78516 0.55859-9.4062 7-19.098 14-28.449 20.777-4.5352 3.3047-9.2383 6.6641-13.832 10.023-2.4648 1.793-4.9297 3.5859-7.3906 5.375-6.6094 4.7617-13.441 9.7422-20.047 14.785-4.5938 3.5273-10.078 8.1758-14 14.785-1.9023 0.22266-3.8633 0.50391-5.7695 0.72656-8.2305 1.0078-16.688 0.83984-25.031 0.33594-12.375-0.72656-24.754-1.8477-37.016-3.4141-4.8711-0.61719-9.9102-2.1289-14.223-4.4258-5.6016-3.0781-9.4648-8.0078-11.816-14.336-4.2578-11.594-1.0078-21.504 5.9375-30.633 2.2383-2.9688 5.0391-5.375 8.0625-7.3359 2.9688-1.9609 6.1602-3.5273 9.4648-4.8711l1.7344-0.72656c9.8555-4.0898 19.77-7.8945 29.68-11.816 16.52-6.5508 33.152-12.938 49.617-19.711 4.9844-2.0703 9.9688-4.0898 14.953-6.1602 9.5742-3.9766 19.152-8.0625 28.559-12.488 12.711-5.9375 25.367-12.266 37.465-19.434 17.414-10.359 33.602-22.625 47.488-37.465 8.0625-8.625 16.184-17.305 22.961-26.938 9.9688-14.168 19.488-28.84 25.93-45.137 4.5352-11.535 8.5117-23.238 9.2969-35.672 0.39062-6.0469 0.39062-12.098 0.39062-18.145 0-4.9297 0.55859-10.078-0.55859-14.785-1.9609-8.3984-3.3594-17.078-8.3984-24.527-0.11328-0.16797-0.22266-0.33594-0.39062-0.50391 2.8008 1.6797 5.4336 3.6406 7.8945 5.8242 0.054687 0.054688 0.11328 0.11328 0.16797 0.16797 4.5352 4.0898 7.4492 9.8008 10.527 15.848 0.61719 1.1758 1.1758 2.2969 1.793 3.4727 1.2852 2.1875 2.0117 5.2656 2.7422 8.5156z","m471.13 63.785c-0.11328 0.054688-0.28125 0.16797-0.39062 0.22266h-0.44922c0.27734-0.054687 0.55859-0.11328 0.83984-0.22266z","m593.15 192.98c4.5352 13.273 5.9375 27.441 6.2734 41.551 0.33594 15.289-1.1211 30.465-4.7031 45.305-2.3516 9.8555-5.4883 19.543-8.7344 29.176-2.4648 7.2812-5.0977 14.617-8.625 21.336-4.9297 9.3516-10.414 18.48-16.352 27.273-5.8789 8.625-12.098 17.078-19.039 24.863-7.7266 8.6797-16.129 16.855-24.754 24.695-7.8398 7.1133-16.184 13.777-24.754 20.105-7.4492 5.4883-15.457 10.305-23.297 15.289-6.3828 4.0312-12.938 7.8945-19.488 11.648-3.4727 1.9609-7 3.7539-10.695 5.2656-12.32 5.207-24.641 10.414-36.961 15.566-9.1289 3.8086-18.258 7.5586-27.441 11.199-7.7266 3.0781-15.961 4.9844-24.137 6.6094-12.152 2.4062-24.414 4.3672-36.68 5.9375-4.8711 0.61719-10.137 0.44922-14.895-0.72656-6.2148-1.5664-11.199-5.4336-15.008-10.922-7-10.137-6.3828-20.551-1.9023-31.191 0.054687-0.16797 0.11328-0.28125 0.22266-0.44922 0.67188-1.5117 1.457-2.9102 2.2969-4.2578 1.0078-1.5664 2.1836-3.0234 3.4727-4.4258 2.3516-2.6328 5.0977-4.9297 7.8945-7.1133 8.9609-6.832 18.199-13.383 27.328-20.047 14.391-10.473 28.895-20.832 43.121-31.473 6.0469-4.4805 12.039-9.0156 18.031-13.551 6.5508-4.9844 13.105-10.137 19.434-15.344 10.863-8.9609 21.504-18.199 31.414-28.168 14.281-14.391 26.879-30.297 36.625-48.16 5.6562-10.359 11.367-20.832 15.512-31.809 6.1055-16.238 11.648-32.762 13.832-50.176 1.5117-12.32 2.4648-24.586 0.054688-36.902-1.0078-5.3203-2.3516-10.586-3.6953-15.848-0.16797-0.61719-0.28125-1.2305-0.44922-1.793-1.2305-4.8164-1.9609-9.9102-4.2578-14.223-4.0312-7.6172-7.5039-15.68-14.281-21.672-2.1836-1.9609-4.5352-3.6953-6.8867-5.3203-3.9766-2.6328-8.1758-4.7617-12.711-6.4961-4.4258-1.6797-6.5508-6.0469-5.0977-10.473 2.8555-8.793 7.6719-16.406 14.672-22.512 0.72656-0.67188 1.5664-1.2305 2.4062-1.7344 0.11328-0.054688 0.22266-0.16797 0.39062-0.22266 1.457-0.89453 3.0234-1.793 4.8164-2.9102 0.67188 5.0391 0.89453 9.4062 1.9023 13.609 0.054688 0.28125 0.16797 0.61719 0.22266 0.89453 0.89453 3.3047 2.1289 6.7188 4.0898 9.4062 0.78516 1.0625 1.625 2.1836 2.4062 3.2461 6.2148 8.3438 12.656 16.52 19.266 24.586 5.4336 6.6094 11.703 12.32 20.945 12.434 4.3125 0.054687 8.625-1.0078 12.992-1.2891 10.078-0.55859 18.258 4.0898 24.473 11.258 5.6562 6.6094 10.809 13.887 14.785 21.617 5.9414 11.809 11.707 23.848 15.965 36.336z"];function hi(t,e,n){const r=t.slice();return r[14]=e[n],r}function fi(t,e,n){const r=t.slice();return r[14]=e[n],r}function di(t,e,n){const r=t.slice();return r[19]=e[n],r}function pi(t,e,n){const r=t.slice();return r[19]=e[n],r}function gi(t,e,n){const r=t.slice();return r[24]=e[n],r}function mi(t){let e,n;return{c(){e=E("g"),B(e,"transform",n="translate("+t[3](t[24])+", "+t[2](0)+")")},m(t,n){w(t,e,n)},p(t,r){12&r&&n!==(n="translate("+t[3](t[24])+", "+t[2](0)+")")&&B(e,"transform",n)},d(t){t&&x(e)}}}function Di(t){let e;return{c(){e=E("path"),B(e,"class","bananaPath svelte-1zvjfd"),B(e,"d",t[19]),$(e,"transform","scale("+t[9]+")")},m(t,n){w(t,e,n)},p(t,n){512&n&&$(e,"transform","scale("+t[9]+")")},d(t){t&&x(e)}}}function vi(t){let e;return{c(){e=E("path"),B(e,"class","bananaPath svelte-1zvjfd"),B(e,"d",t[19]),$(e,"transform","scale("+t[9]+")")},m(t,n){w(t,e,n)},p(t,n){512&n&&$(e,"transform","scale("+t[9]+")")},d(t){t&&x(e)}}}function yi(t){let e,n;return{c(){e=E("path"),B(e,"d",t[14]),B(e,"class",l("arrow-left arrow")+" svelte-1zvjfd"),B(e,"stroke-width",0),B(e,"transform",n=`rotate(${t[12].left}) scale(${t[10]})`)},m(t,n){w(t,e,n)},p(t,r){1024&r&&n!==(n=`rotate(${t[12].left}) scale(${t[10]})`)&&B(e,"transform",n)},d(t){t&&x(e)}}}function wi(t){let e,n;return{c(){e=E("path"),B(e,"d",t[14]),B(e,"class",l("arrow-right arrow")+" svelte-1zvjfd"),B(e,"stroke-width",0),B(e,"transform",n=`rotate(${t[12].right}) scale(${t[10]})`)},m(t,n){w(t,e,n)},p(t,r){1024&r&&n!==(n=`rotate(${t[12].right}) scale(${t[10]})`)&&B(e,"transform",n)},d(t){t&&x(e)}}}function xi(e){let n,r,i,o,u,a,s,l,c,h,f,d,p=[...Array(bi).keys()],g=[];for(let t=0;t<p.length;t+=1)g[t]=mi(gi(e,p,t));let m=li,v=[];for(let t=0;t<m.length;t+=1)v[t]=Di(pi(e,m,t));let y=ci,A=[];for(let t=0;t<y.length;t+=1)A[t]=vi(di(e,y,t));let F=ai,C=[];for(let t=0;t<F.length;t+=1)C[t]=yi(fi(e,F,t));let _=ai,M=[];for(let t=0;t<_.length;t+=1)M[t]=wi(hi(e,_,t));return{c(){n=E("svg");for(let t=0;t<g.length;t+=1)g[t].c();r=E("g");for(let t=0;t<v.length;t+=1)v[t].c();o=E("g");for(let t=0;t<A.length;t+=1)A[t].c();a=E("g");for(let t=0;t<C.length;t+=1)C[t].c();l=E("g");for(let t=0;t<M.length;t+=1)M[t].c();h=E("g"),f=E("path"),B(r,"id","reward-1-bandit"),B(r,"transform",i="translate("+(e[3](0)-e[6].width)+", "+(e[2](0)-e[6].height/2-7.5)+")"),B(o,"id","reward-3-bandit"),B(o,"transform",u="translate("+(e[3](bi-1)-e[5].width/2-10)+", "+(e[2](0)-e[5].height/2-7.5)+")"),B(a,"transform",s="translate("+(e[3](e[11].left)+e[4].height/2+5.5)+", "+(e[2](0)-e[4].width/2-5)+")"),B(l,"transform",c="translate("+(e[3](e[11].right)-e[4].height/2)+", "+(e[2](0)+e[4].width/2+5)+")"),B(f,"d",si),$(f,"transform","scale(0.22)"),B(f,"stroke","white"),B(f,"stroke-width","1"),B(f,"fill","black"),B(h,"id","agent-g-bandit"),B(h,"transform",d="translate("+(e[3](4)-e[8]/2+5)+", "+(e[2](0)-e[7]/2)+")"),B(n,"width",e[1]),B(n,"height",e[0]),B(n,"class","svelte-1zvjfd")},m(t,e){w(t,n,e);for(let t=0;t<g.length;t+=1)g[t].m(n,null);D(n,r);for(let t=0;t<v.length;t+=1)v[t].m(r,null);D(n,o);for(let t=0;t<A.length;t+=1)A[t].m(o,null);D(n,a);for(let t=0;t<C.length;t+=1)C[t].m(a,null);D(n,l);for(let t=0;t<M.length;t+=1)M[t].m(l,null);D(n,h),D(h,f)},p(t,[e]){if(12&e){let i;for(p=[...Array(bi).keys()],i=0;i<p.length;i+=1){const o=gi(t,p,i);g[i]?g[i].p(o,e):(g[i]=mi(o),g[i].c(),g[i].m(n,r))}for(;i<g.length;i+=1)g[i].d(1);g.length=p.length}if(512&e){let n;for(m=li,n=0;n<m.length;n+=1){const i=pi(t,m,n);v[n]?v[n].p(i,e):(v[n]=Di(i),v[n].c(),v[n].m(r,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}if(76&e&&i!==(i="translate("+(t[3](0)-t[6].width)+", "+(t[2](0)-t[6].height/2-7.5)+")")&&B(r,"transform",i),512&e){let n;for(y=ci,n=0;n<y.length;n+=1){const r=di(t,y,n);A[n]?A[n].p(r,e):(A[n]=vi(r),A[n].c(),A[n].m(o,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=y.length}if(44&e&&u!==(u="translate("+(t[3](bi-1)-t[5].width/2-10)+", "+(t[2](0)-t[5].height/2-7.5)+")")&&B(o,"transform",u),5120&e){let n;for(F=ai,n=0;n<F.length;n+=1){const r=fi(t,F,n);C[n]?C[n].p(r,e):(C[n]=yi(r),C[n].c(),C[n].m(a,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=F.length}if(28&e&&s!==(s="translate("+(t[3](t[11].left)+t[4].height/2+5.5)+", "+(t[2](0)-t[4].width/2-5)+")")&&B(a,"transform",s),5120&e){let n;for(_=ai,n=0;n<_.length;n+=1){const r=hi(t,_,n);M[n]?M[n].p(r,e):(M[n]=wi(r),M[n].c(),M[n].m(l,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=_.length}28&e&&c!==(c="translate("+(t[3](t[11].right)-t[4].height/2)+", "+(t[2](0)+t[4].width/2+5)+")")&&B(l,"transform",c),396&e&&d!==(d="translate("+(t[3](4)-t[8]/2+5)+", "+(t[2](0)-t[7]/2)+")")&&B(h,"transform",d),2&e&&B(n,"width",t[1]),1&e&&B(n,"height",t[0])},i:t,o:t,d(t){t&&x(n),b(g,t),b(v,t),b(A,t),b(C,t),b(M,t)}}}let bi=9;function Ai(t,e,n){let r,i,o,u,a,l,c,h,f,d,p;s(t,En,(t=>n(0,h=t))),s(t,An,(t=>n(1,f=t))),s(t,Cn,(t=>n(9,d=t))),s(t,_n,(t=>n(10,p=t)));return I((()=>{const t=oi("#agent-g-bandit").node().getBoundingClientRect();n(8,u=t.width),n(7,a=t.height),n(6,i=oi("#reward-1-bandit").node().getBoundingClientRect()),n(5,o=oi("#reward-3-bandit").node().getBoundingClientRect()),n(4,r=oi("path.arrow-left").node().getBoundingClientRect()),oi("path.arrow-right").node().getBoundingClientRect()})),t.$$.update=()=>{2&t.$$.dirty&&n(3,l=an().domain([-1,bi]).range([0,f])),1&t.$$.dirty&&n(2,c=an().domain([-1,2]).range([0,h]))},n(4,r={height:0,width:0,x:105,y:0}),n(6,i={height:0,width:0,x:0,y:0}),n(5,o={height:30,width:0,x:0,y:0}),n(8,u=20),n(7,a=20),[h,f,c,l,r,o,i,a,u,d,p,{left:2,right:6},{left:90,right:270}]}class Ei extends ft{constructor(t){super(),ht(this,t,Ai,xi,a,{})}}function Fi(){return Fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fi.apply(this,arguments)}var Ci={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function _i(t){return"number"==typeof t}function Mi(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function Bi(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ni(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function $i(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Si(t){return"string"==typeof t}var Ti=Array.isArray;function zi(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function ki(t){return Array.isArray(t)||zi(t)}function Oi(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function qi(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ii(t){return t&&!0===t.constructor.prototype.isRange||!1}function ji(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Pi(t){return"boolean"==typeof t}function Ri(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function Li(t){return t&&!0===t.constructor.prototype.isHelp||!1}function Wi(t){return"function"==typeof t}function Vi(t){return t instanceof Date}function Hi(t){return t instanceof RegExp}function Ui(t){return!(!t||"object"!=typeof t||t.constructor!==Object||Bi(t)||Ni(t))}function Zi(t){return null===t}function Yi(t){return void 0===t}function Xi(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function Qi(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function Ji(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Gi(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function Ki(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function to(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function eo(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function no(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function ro(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function io(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function oo(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function uo(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function ao(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function so(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function lo(t){return t&&!0===t.isRelationalNode&&!0===t.constructor.prototype.isNode||!1}function co(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function ho(t){return t&&!0===t.constructor.prototype.isChain||!1}function fo(t){var e=typeof t;return"object"===e?null===t?"null":Mi(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function po(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return po(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Mi(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,e){var n={};for(var r in t)mo(t,r)&&(n[r]=e(t[r]));return n}(t,po)}function go(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!go(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!go(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}return t===e}function mo(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Do=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Ci)};Fi(Do,Ci,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yo(t){var e={exports:{}};return t(e,e.exports),e.exports}var wo=yo((function(t,e){t.exports=function(){function t(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=e(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,u=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw u}}}}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){return!0}function o(){return!1}function u(){}var a="Argument is not a typed-function.";function s(){function e(t){return"object"===r(t)&&null!==t&&t.constructor===Object}var n,l,c=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],h={name:"any",test:i,isAny:!0},f=0,d={createCount:0};function p(e){var r=n.get(e);if(r)return r;var i,o,u='Unknown type "'+e+'"',a=e.toLowerCase(),s=t(l);try{for(s.s();!(o=s.n()).done;)if((i=o.value).toLowerCase()===a){u+='. Did you mean "'+i+'" ?';break}}catch(t){s.e(t)}finally{s.f()}throw new TypeError(u)}function g(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",r=e?p(e).index:l.length,i=[],o=0;o<t.length;++o){if(!t[o]||"string"!=typeof t[o].name||"function"!=typeof t[o].test)throw new TypeError("Object with properties {name: string, test: function} expected");var u=t[o].name;if(n.has(u))throw new TypeError('Duplicate type name "'+u+'"');i.push(u),n.set(u,{name:u,test:t[o].test,isAny:t[o].isAny,index:r+o,conversionsTo:[]})}var a=l.slice(r);l=l.slice(0,r).concat(i).concat(a);for(var s=r+i.length;s<l.length;++s)n.get(l[s]).index=s}function m(){n=new Map,l=[],f=0,g([h],!1)}function D(){var e,r,i=t(l);try{for(i.s();!(r=i.n()).done;)e=r.value,n.get(e).conversionsTo=[]}catch(t){i.e(t)}finally{i.f()}f=0}function v(t){var e=l.filter((function(e){var r=n.get(e);return!r.isAny&&r.test(t)}));return e.length?e:["any"]}function y(t){return t&&"function"==typeof t&&"_typedFunctionData"in t}function w(e,n,r){if(!y(e))throw new TypeError(a);var i=r&&r.exact,o=_(Array.isArray(n)?n.join(","):n),u=A(o);if(!i||u in e.signatures){var s=e._typedFunctionData.signatureMap.get(u);if(s)return s}var l,c,h,f=o.length;if(i)for(c in l=[],e.signatures)l.push(e._typedFunctionData.signatureMap.get(c));else l=e._typedFunctionData.signatures;for(var d=0;d<f;++d){var p,g=o[d],m=[],D=void 0,v=t(l);try{for(v.s();!(p=v.n()).done;){var w=$((D=p.value).params,d);if(w&&(!g.restParam||w.restParam)){if(!w.hasAny&&"continue"===function(){var t=C(w);if(g.types.some((function(e){return!t.has(e.name)})))return"continue"}())continue;m.push(D)}}}catch(t){v.e(t)}finally{v.f()}if(0===(l=m).length)break}var x,b=t(l);try{for(b.s();!(x=b.n()).done;)if((h=x.value).params.length<=f)return h}catch(t){b.e(t)}finally{b.f()}throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+A(o,", ")+"))")}function x(t,e,n){return w(t,e,n).implementation}function b(t,e){var n=p(e);if(n.test(t))return t;var r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+e+" defined.");for(var i=0;i<r.length;i++)if(p(r[i].from).test(t))return r[i].convert(t);throw new Error("Cannot convert "+t+" to "+e)}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.map((function(t){return t.name})).join(e)}function E(t){var e=0===t.indexOf("..."),n=(e?t.length>3?t.slice(3):"any":t).split("|").map((function(t){return p(t.trim())})),r=!1,i=e?"...":"";return{types:n.map((function(t){return r=t.isAny||r,i+=t.name+"|",{name:t.name,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:null,conversionIndex:-1}})),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:e}}function F(t){var e=P(t.types.map((function(t){return t.name}))),n=t.hasAny,r=t.name,i=e.map((function(t){var e=p(t.from);return n=e.isAny||n,r+="|"+t.from,{name:t.from,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:t,conversionIndex:t.index}}));return{types:t.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:t.restParam}}function C(t){return t.typeSet||(t.typeSet=new Set,t.types.forEach((function(e){return t.typeSet.add(e.name)}))),t.typeSet}function _(t){var e=[];if("string"!=typeof t)throw new TypeError("Signatures must be strings");var n=t.trim();if(""===n)return e;for(var r=n.split(","),i=0;i<r.length;++i){var o=E(r[i].trim());if(o.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===o.types.length)return null;e.push(o)}return e}function M(t){var e=G(t);return!!e&&e.restParam}function B(t){if(t&&0!==t.types.length){if(1===t.types.length)return p(t.types[0].name).test;if(2===t.types.length){var e=p(t.types[0].name).test,n=p(t.types[1].name).test;return function(t){return e(t)||n(t)}}var r=t.types.map((function(t){return p(t.name).test}));return function(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}}return i}function N(t){var e,n,r;if(M(t)){var i=(e=J(t).map(B)).length,o=B(G(t)),u=function(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0};return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return u(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=B(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=B(t[0]),r=B(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(B),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function $(t,e){return e<t.length?t[e]:M(t)?G(t):null}function S(t,e){var n=$(t,e);return n?C(n):new Set}function T(t){return null===t.conversion||void 0===t.conversion}function z(e,n){var r=new Set;return e.forEach((function(e){var i,o,u=t(S(e.params,n));try{for(u.s();!(o=u.n()).done;)i=o.value,r.add(i)}catch(t){u.e(t)}finally{u.f()}})),r.has("any")?["any"]:Array.from(r)}function k(t,e,n){var i,o,u,a=t||"unnamed",s=n,l=function(){var t=[];if(s.forEach((function(n){var r=B($(n.params,u));(u<n.params.length||M(n.params))&&r(e[u])&&t.push(n)})),0===t.length){if((o=z(s,u)).length>0){var n=v(e[u]);return(i=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+n.join(" | ")+", index: "+u+")")).data={category:"wrongType",fn:a,index:u,actual:n,expected:o},{v:i}}}else s=t};for(u=0;u<e.length;u++){var c=l();if("object"===r(c))return c.v}var h=s.map((function(t){return M(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,h))return o=z(s,u),(i=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},i;var f=Math.max.apply(null,h);if(e.length>f)return(i=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},i;for(var d=[],p=0;p<e.length;++p)d.push(v(e[p]).join("|"));return(i=new TypeError('Arguments of type "'+d.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:d},i}function O(t){for(var e=l.length+1,n=0;n<t.types.length;n++)T(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function q(t){for(var e=f+1,n=0;n<t.types.length;n++)T(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function I(t,e){if(t.hasAny){if(!e.hasAny)return 1}else if(e.hasAny)return-1;if(t.restParam){if(!e.restParam)return 1}else if(e.restParam)return-1;if(t.hasConversion){if(!e.hasConversion)return 1}else if(e.hasConversion)return-1;var n=O(t)-O(e);if(n<0)return-1;if(n>0)return 1;var r=q(t)-q(e);return r<0?-1:r>0?1:0}function j(e,n){var r=e.params,i=n.params,o=G(r),u=G(i),a=M(r),s=M(i);if(a&&o.hasAny){if(!s||!u.hasAny)return 1}else if(s&&u.hasAny)return-1;var l,c,h=0,f=0,d=t(r);try{for(d.s();!(c=d.n()).done;)(l=c.value).hasAny&&++h,l.hasConversion&&++f}catch(t){d.e(t)}finally{d.f()}var p,g=0,m=0,D=t(i);try{for(D.s();!(p=D.n()).done;)(l=p.value).hasAny&&++g,l.hasConversion&&++m}catch(t){D.e(t)}finally{D.f()}if(h!==g)return h-g;if(a&&o.hasConversion){if(!s||!u.hasConversion)return 1}else if(s&&u.hasConversion)return-1;if(f!==m)return f-m;if(a){if(!s)return 1}else if(s)return-1;var v=(r.length-i.length)*(a?-1:1);if(0!==v)return v;for(var y,w=[],x=0,b=0;b<r.length;++b){var A=I(r[b],i[b]);w.push(A),x+=A}if(0!==x)return x;for(var E=0,F=w;E<F.length;E++)if(0!==(y=F[E]))return y;return 0}function P(e){if(0===e.length)return[];var n=e.map(p);e.length>1&&n.sort((function(t,e){return t.index-e.index}));var r=n[0].conversionsTo;if(1===e.length)return r;r=r.concat([]);for(var i=new Set(e),o=1;o<n.length;++o){var u,a=void 0,s=t(n[o].conversionsTo);try{for(s.s();!(u=s.n()).done;)a=u.value,i.has(a.from)||(r.push(a),i.add(a.from))}catch(t){s.e(t)}finally{s.f()}}return r}function R(t,e){var n=e;if(t.some((function(t){return t.hasConversion}))){var r=M(t),i=t.map(L);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var o=n;if(M(t)){var u=t.length-1;o=function(){return n.apply(this,K(arguments,0,u).concat([K(arguments,u)]))}}return o}function L(t){var e,n,r,i,o=[],u=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(p(t.conversion.from).test),u.push(t.conversion.convert))})),u.length){case 0:return function(t){return t};case 1:return e=o[0],r=u[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=u[0],i=u[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<u.length;e++)if(o[e](t))return u[e](t);return t}}}function W(t){function e(t,n,r){if(n<t.length){var i=t[n],o=[];if(i.restParam){var u=i.types.filter(T);u.length<i.types.length&&o.push({types:u,name:"..."+u.map((function(t){return t.name})).join("|"),hasAny:u.some((function(t){return t.isAny})),hasConversion:!1,restParam:!0}),o.push(i)}else o=i.types.map((function(t){return{types:[t],name:t.name,hasAny:t.isAny,hasConversion:t.conversion,restParam:!1}}));return et(o,(function(i){return e(t,n+1,r.concat([i]))}))}return[r]}return e(t,0,[])}function V(e,n){for(var r=Math.max(e.length,n.length),i=0;i<r;i++){var o,u=S(e,i),a=!1,s=void 0,l=t(S(n,i));try{for(l.s();!(o=l.n()).done;)if(s=o.value,u.has(s)){a=!0;break}}catch(t){l.e(t)}finally{l.f()}if(!a)return!1}var c=e.length,h=n.length,f=M(e),d=M(n);return f?d?c===h:h>=c:d?c>=h:c===h}function H(t){return t.map((function(t){return ut(t)?it(t.referToSelf.callback):ot(t)?rt(t.referTo.references,t.referTo.callback):t}))}function U(e,n,r){var i,o,u=[],a=t(e);try{for(a.s();!(o=a.n()).done;){var s=r[i=o.value];if("number"!=typeof s)throw new TypeError('No definition for referenced signature "'+i+'"');if("function"!=typeof(s=n[s]))return!1;u.push(s)}}catch(t){a.e(t)}finally{a.f()}return u}function Z(t,e,n){for(var r=H(t),i=new Array(r.length).fill(!1),o=!0;o;){o=!1;for(var u=!0,a=0;a<r.length;++a)if(!i[a]){var s=r[a];if(ut(s))r[a]=s.referToSelf.callback(n),r[a].referToSelf=s.referToSelf,i[a]=!0,u=!1;else if(ot(s)){var l=U(s.referTo.references,r,e);l?(r[a]=s.referTo.callback.apply(this,l),r[a].referTo=s.referTo,i[a]=!0,u=!1):o=!0}}if(u&&o)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function Y(t){var e=/\bthis(\(|\.signatures\b)/;Object.keys(t).forEach((function(n){var r=t[n];if(e.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function X(e,n){if(d.createCount++,0===Object.keys(n).length)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&Y(n);var r,i=[],a=[],s={},l=[],c=function(){if(!Object.prototype.hasOwnProperty.call(n,r))return"continue";var e=_(r);if(!e)return"continue";i.forEach((function(t){if(V(t,e))throw new TypeError('Conflicting signatures "'+A(t)+'" and "'+A(e)+'".')})),i.push(e);var o=a.length;a.push(n[r]);var u,c=void 0,h=t(W(e.map(F)));try{for(h.s();!(u=h.n()).done;){var f=A(c=u.value);l.push({params:c,name:f,fn:o}),c.every((function(t){return!t.hasConversion}))&&(s[f]=o)}}catch(t){h.e(t)}finally{h.f()}};for(r in n)c();l.sort(j);var h,f=Z(a,s,pt);for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(s[h]=f[s[h]]);for(var p=[],g=new Map,m=0,D=l;m<D.length;m++)h=D[m],g.has(h.name)||(h.fn=f[h.fn],p.push(h),g.set(h.name,h));for(var v=p[0]&&p[0].params.length<=2&&!M(p[0].params),y=p[1]&&p[1].params.length<=2&&!M(p[1].params),w=p[2]&&p[2].params.length<=2&&!M(p[2].params),x=p[3]&&p[3].params.length<=2&&!M(p[3].params),b=p[4]&&p[4].params.length<=2&&!M(p[4].params),E=p[5]&&p[5].params.length<=2&&!M(p[5].params),C=v&&y&&w&&x&&b&&E,$=0;$<p.length;++$)p[$].test=N(p[$].params);for(var S=v?B(p[0].params[0]):o,T=y?B(p[1].params[0]):o,z=w?B(p[2].params[0]):o,k=x?B(p[3].params[0]):o,O=b?B(p[4].params[0]):o,q=E?B(p[5].params[0]):o,I=v?B(p[0].params[1]):o,P=y?B(p[1].params[1]):o,L=w?B(p[2].params[1]):o,H=x?B(p[3].params[1]):o,U=b?B(p[4].params[1]):o,X=E?B(p[5].params[1]):o,Q=0;Q<p.length;++Q)p[Q].implementation=R(p[Q].params,p[Q].fn);var J=v?p[0].implementation:u,G=y?p[1].implementation:u,K=w?p[2].implementation:u,tt=x?p[3].implementation:u,et=b?p[4].implementation:u,nt=E?p[5].implementation:u,rt=v?p[0].params.length:-1,it=y?p[1].params.length:-1,ot=w?p[2].params.length:-1,ut=x?p[3].params.length:-1,at=b?p[4].params.length:-1,st=E?p[5].params.length:-1,lt=C?6:0,ct=p.length,ht=p.map((function(t){return t.test})),ft=p.map((function(t){return t.implementation})),dt=function(){for(var t=lt;t<ct;t++)if(ht[t](arguments))return ft[t].apply(this,arguments);return d.onMismatch(e,arguments,p)};function pt(t,e){return arguments.length===rt&&S(t)&&I(e)?J.apply(this,arguments):arguments.length===it&&T(t)&&P(e)?G.apply(this,arguments):arguments.length===ot&&z(t)&&L(e)?K.apply(this,arguments):arguments.length===ut&&k(t)&&H(e)?tt.apply(this,arguments):arguments.length===at&&O(t)&&U(e)?et.apply(this,arguments):arguments.length===st&&q(t)&&X(e)?nt.apply(this,arguments):dt.apply(this,arguments)}try{Object.defineProperty(pt,"name",{value:e})}catch(t){}return pt.signatures=s,pt._typedFunctionData={signatures:p,signatureMap:g},pt}function Q(t,e,n){throw k(t,e,n)}function J(t){return K(t,0,t.length-1)}function G(t){return t[t.length-1]}function K(t,e,n){return Array.prototype.slice.call(t,e,n)}function tt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function et(t,e){return Array.prototype.concat.apply([],t.map(e))}function nt(){var t=J(arguments).map((function(t){return A(_(t))})),e=G(arguments);if("function"!=typeof e)throw new TypeError("Callback function expected as last argument");return rt(t,e)}function rt(t,e){return{referTo:{references:t,callback:e}}}function it(t){if("function"!=typeof t)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:t}}}function ot(t){return t&&"object"===r(t.referTo)&&Array.isArray(t.referTo.references)&&"function"==typeof t.referTo.callback}function ut(t){return t&&"object"===r(t.referToSelf)&&"function"==typeof t.referToSelf.callback}function at(t,e){if(!t)return e;if(e&&e!==t){var n=new Error("Function names do not match (expected: "+t+", actual: "+e+")");throw n.data={actual:e,expected:t},n}return t}function st(t){var e;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y(t[n])||"string"==typeof t[n].signature)&&(e=at(e,t[n].name));return e}function lt(t,e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n in t&&e[n]!==t[n]){var r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:e[n],destFunction:t[n]},r}t[n]=e[n]}}m(),g(c);var ct=d;function ht(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(t.to===t.from)throw new SyntaxError('Illegal to define conversion from "'+t.from+'" to itself.')}return d=function(t){for(var n="string"==typeof t,r=n?t:"",i={},o=n?1:0;o<arguments.length;++o){var u=arguments[o],a={},s=void 0;if("function"==typeof u?(s=u.name,"string"==typeof u.signature?a[u.signature]=u:y(u)&&(a=u.signatures)):e(u)&&(a=u,n||(s=st(u))),0===Object.keys(a).length){var l=new TypeError("Argument to 'typed' at index "+o+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw l.data={index:o,argument:u},l}n||(r=at(r,s)),lt(i,a)}return X(r||"",i)},d.create=s,d.createCount=ct.createCount,d.onMismatch=Q,d.throwMismatchError=Q,d.createError=k,d.clear=m,d.clearConversions=D,d.addTypes=g,d._findType=p,d.referTo=nt,d.referToSelf=it,d.convert=b,d.findSignature=w,d.find=x,d.isTypedFunction=y,d.warnAgainstDeprecatedThis=!0,d.addType=function(t,e){var r="any";!1!==e&&n.has("Object")&&(r="Object"),d.addTypes([t],r)},d.addConversion=function(t){ht(t);var e=p(t.to);if(!e.conversionsTo.every((function(e){return e.from!==t.from})))throw new Error('There is already a conversion from "'+t.from+'" to "'+e.name+'"');e.conversionsTo.push({from:t.from,convert:t.convert,index:f++})},d.addConversions=function(t){t.forEach(d.addConversion)},d.removeConversion=function(t){ht(t);var e=p(t.to),n=tt(e.conversionsTo,(function(e){return e.from===t.from}));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+t.from+" to "+t.to);if(n.convert!==t.convert)throw new Error("Conversion to remove does not match existing conversion");var r=e.conversionsTo.indexOf(n);e.conversionsTo.splice(r,1)},d.resolve=function(t,e){if(!y(t))throw new TypeError(a);for(var n=t._typedFunctionData.signatures,r=0;r<n.length;++r)if(n[r].test(e))return n[r];return null},d}return s()}()}));function xo(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}function bo(t,e,n){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xo(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!xo(t))throw new Error("Value must be an integer");t<0&&(t+=2**n),i="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(r).concat(t.toString(e)).concat(i)}function Ao(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r,i="auto";if(e&&(e.notation&&(i=e.notation),_i(e)?n=e:_i(e.precision)&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Eo(t),r="number"==typeof e?Co(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,u=o+(e||0);i.length<u&&(i=i.concat(_o(u-i.length)));o<0&&(i=_o(1-o).concat(i),o=1);o<i.length&&i.splice(o,0,0===o?"0.":".");return r.sign+i.join("")}(t,n);case"exponential":return Fo(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Co(Eo(t),e),r=n.exponent,i=n.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(_i(e))for(;e>i.length||r-o+1>i.length;)i.push(0);else for(var u=Math.abs(r-o)-(i.length-1),a=0;a<u;a++)i.push(0);var s=Math.abs(r-o),l=1;for(;s>0;)l++,s--;var c=i.slice(l).join(""),h=_i(e)&&c.length||c.match(/[1-9]/)?"."+c:"",f=i.slice(0,l).join("")+h+"e"+(r>=0?"+":"")+o.toString();return n.sign+f}(t,n);case"bin":return bo(t,2,r);case"oct":return bo(t,8,r);case"hex":return bo(t,16,r);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=Eo(t),u=e?Co(o,e):o;if(u.exponent<r||u.exponent>=i)return Fo(t,e);var a=u.coefficients,s=u.exponent;a.length<e&&(a=a.concat(_o(e-a.length))),a=a.concat(_o(s-a.length+1+(a.length<e?e-a.length:0)));var l=s>0?s:0;return l<(a=_o(-s).concat(a)).length-1&&a.splice(l+1,0,"."),u.sign+a.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Eo(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var u=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===u.length&&(u.push(0),i++),{sign:n,coefficients:u,exponent:i}}function Fo(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Eo(t),r=e?Co(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(_o(e-i.length)));var u=i.shift();return r.sign+u+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Co(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function _o(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var Mo=Number.EPSILON||2220446049250313e-31;function Bo(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<Mo||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}function No(t,e,n){var r=new(0,t.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!xo(n))throw new Error("size must be an integer");if(t.greaterThan(r.pow(n-1).sub(1))||t.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(r.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function $o(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return So(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"bin":return No(t,2,r);case"oct":return No(t,8,r);case"hex":return No(t,16,r);case"auto":var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,u=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var a=t.toSignificantDigits(n),s=a.e;return(s>=o&&s<u?a.toFixed():So(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function So(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function To(t,e){var n=function(t,e){if("number"==typeof t)return Ao(t,e);if(Mi(t))return $o(t,e);if(function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return zo(t,e);if(Si(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){return"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((n=>'"'+n+'": '+To(t[n],e))).join(", ")+"}"}return String(t)}(t,e);return e&&"object"==typeof e&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function zo(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=zo(t[i],e);return n+="]"}return To(t,e)}function ko(t,e,n){if(!(this instanceof ko))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function Oo(t,e,n){if(!(this instanceof Oo))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function qo(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Io(t,e,n){var r,i=t.length;if(i!==e[n])throw new ko(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var u=t[r];if(!Array.isArray(u))throw new ko(e.length-1,e.length,"<");Io(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new ko(e.length+1,e.length,">")}function jo(t,e){if(0===e.length){if(Array.isArray(t))throw new ko(t.length,0)}else Io(t,e,0)}function Po(t,e){if(!_i(t)||!xo(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Oo(t,e)}function Ro(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!_i(t)||!xo(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+To(e)+")")})),Lo(t,e,0,void 0!==n?n:0),t}function Lo(t,e,n,r){var i,o,u=t.length,a=e[n],s=Math.min(u,a);if(t.length=a,n<e.length-1){var l=n+1;for(i=0;i<s;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),Lo(o,e,l,r);for(i=s;i<a;i++)o=[],t[i]=o,Lo(o,e,l,r)}else{for(i=0;i<s;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=s;i<a;i++)t[i]=r}}function Wo(t,e){var n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new ko(0,r,"!=");var i=Ho(e=Vo(e,r));if(r!==i)throw new ko(i,r,"!=");try{return function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var u=r.length/o,a=0;a<u;a++)n.push(r.slice(a*o,(a+1)*o));r=n}return r}(n,e)}catch(t){if(t instanceof ko)throw new ko(i,r,"!=");throw t}}function Vo(t,e){var n=Ho(t),r=t.slice(),i=t.indexOf(-1);if(t.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(e%n==0))throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);r[i]=-e/n}return r}function Ho(t){return t.reduce(((t,e)=>t*e),1)}function Uo(t,e,n,r){var i=r||qo(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=Zo(t,e,0);i.length<e;)i.push(1);return t}function Zo(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=Zo(t[r],e,o)}else for(var u=n;u<e;u++)t=[t];return t}function Yo(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],u=Array.isArray(o);if(0===i&&u&&(r=o.length),u&&o.length!==r)return;var a=u?Yo(o,e):e(o);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function Xo(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(Qo));return function(t,e,n){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==n[t]))){var r=e.filter((t=>void 0===n[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Qo(t){return t&&"?"===t[0]?t.slice(1):t}function Jo(t,e){if(Ko(t)&&Go(t,e))return t[e];if("function"==typeof t[e]&&function(t,e){if(null==t||"function"!=typeof t[e])return!1;if(mo(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))return!1;if(mo(eu,e))return!0;if(e in Object.prototype)return!1;if(e in Function.prototype)return!1;return!0}(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function Go(t,e){return!(!t||"object"!=typeof t)&&(!!mo(tu,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function Ko(t){return"object"==typeof t&&t&&t.constructor===Object}ko.prototype=new RangeError,ko.prototype.constructor=RangeError,ko.prototype.name="DimensionError",ko.prototype.isDimensionError=!0,Oo.prototype=new RangeError,Oo.prototype.constructor=RangeError,Oo.prototype.name="IndexError",Oo.prototype.isIndexError=!0;var tu={length:!0,name:!0},eu={toString:!0,valueOf:!0,toLocaleString:!0};class nu{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Jo(this.wrappedObject,t)}set(t,e){return function(t,e,n){if(Ko(t)&&Go(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}(this.wrappedObject,t,e),this}has(t){return function(t,e){return e in t}(this.wrappedObject,t)}}function ru(t){return!!t&&(t instanceof Map||t instanceof nu||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var iu=function(){return iu=wo.create,wo},ou=Xo("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:n,DenseMatrix:r,Fraction:i}=t,o=iu();return o.clear(),o.addTypes([{name:"number",test:_i},{name:"Complex",test:Bi},{name:"BigNumber",test:Mi},{name:"Fraction",test:Ni},{name:"Unit",test:$i},{name:"identifier",test:t=>Si&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(t)},{name:"string",test:Si},{name:"Chain",test:ho},{name:"Array",test:Ti},{name:"Matrix",test:zi},{name:"DenseMatrix",test:Oi},{name:"SparseMatrix",test:qi},{name:"Range",test:Ii},{name:"Index",test:ji},{name:"boolean",test:Pi},{name:"ResultSet",test:Ri},{name:"Help",test:Li},{name:"function",test:Wi},{name:"Date",test:Vi},{name:"RegExp",test:Hi},{name:"null",test:Zi},{name:"undefined",test:Yi},{name:"AccessorNode",test:Xi},{name:"ArrayNode",test:Qi},{name:"AssignmentNode",test:Ji},{name:"BlockNode",test:Gi},{name:"ConditionalNode",test:Ki},{name:"ConstantNode",test:to},{name:"FunctionNode",test:no},{name:"FunctionAssignmentNode",test:eo},{name:"IndexNode",test:ro},{name:"Node",test:io},{name:"ObjectNode",test:oo},{name:"OperatorNode",test:uo},{name:"ParenthesisNode",test:ao},{name:"RangeNode",test:so},{name:"RelationalNode",test:lo},{name:"SymbolNode",test:co},{name:"Map",test:ru},{name:"Object",test:Ui}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(t){if(e||uu(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||au(t),new n(t,0)}},{from:"BigNumber",to:"Complex",convert:function(t){return n||au(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||au(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||su(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||uu(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||su(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||au(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||uu(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||su(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}]),o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&ki(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&ki(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o}));function uu(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function au(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function su(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}
/*!
     *  decimal.js v10.4.2
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     */var lu,cu,hu=9e15,fu=1e9,du="0123456789abcdef",pu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",gu="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",mu={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-hu,maxE:hu,crypto:!1},Du=!0,vu="[DecimalError] ",yu=vu+"Invalid argument: ",wu=vu+"Precision limit exceeded",xu=vu+"crypto unavailable",bu="[object Decimal]",Au=Math.floor,Eu=Math.pow,Fu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_u=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Mu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bu=1e7,Nu=pu.length-1,$u=gu.length-1,Su={toStringTag:bu};function Tu(t){var e,n,r,i=t.length-1,o="",u=t[0];if(i>0){for(o+=u,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(o+=Vu(n)),o+=r;(n=7-(r=(u=t[e])+"").length)&&(o+=Vu(n))}else if(0===u)return"0";for(;u%10==0;)u/=10;return o+u}function zu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yu+t)}function ku(t,e,n,r){var i,o,u,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=Eu(10,7-e),a=t[i]%o|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),u=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):u=(n<4&&a+1==o||n>3&&a+1==o/2)&&(t[i+1]/o/100|0)==Eu(10,e-2)-1||(a==o/2||0==a)&&0==(t[i+1]/o/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),u=(r||n<4)&&9999==a||!r&&n>3&&4999==a):u=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==Eu(10,e-3)-1,u}function Ou(t,e,n){for(var r,i,o=[0],u=0,a=t.length;u<a;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=du.indexOf(t.charAt(u++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}Su.absoluteValue=Su.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Iu(t)},Su.ceil=function(){return Iu(new this.constructor(this),this.e+1,2)},Su.clampedTo=Su.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(yu+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},Su.comparedTo=Su.cmp=function(t){var e,n,r,i,o=this,u=o.d,a=(t=new o.constructor(t)).d,s=o.s,l=t.s;if(!u||!a)return s&&l?s!==l?s:u===a?0:!u^s<0?1:-1:NaN;if(!u[0]||!a[0])return u[0]?s:a[0]?-l:0;if(s!==l)return s;if(o.e!==t.e)return o.e>t.e^s<0?1:-1;for(e=0,n=(r=u.length)<(i=a.length)?r:i;e<n;++e)if(u[e]!==a[e])return u[e]>a[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1},Su.cosine=Su.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/ta(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");t.precision+=n,e=Ku(t,1,e.times(i),new t(1));for(var o=n;o--;){var u=e.times(e);e=u.times(u).minus(u).times(8).plus(1)}return t.precision-=n,e}(r,ea(r,n)),r.precision=t,r.rounding=e,Iu(2==cu||3==cu?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Su.cubeRoot=Su.cbrt=function(){var t,e,n,r,i,o,u,a,s,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(Du=!1,(o=c.s*Eu(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=Tu(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Eu(n,1/3),t=Au((t+1)/3)-(t%3==(t<0?-1:2)),(r=new h(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),u=(t=h.precision)+3;;)if(l=(s=(a=r).times(a).times(a)).plus(c),r=qu(l.plus(c).times(a),l.plus(s),u+2,1),Tu(a.d).slice(0,u)===(n=Tu(r.d)).slice(0,u)){if("9999"!=(n=n.slice(u-3,u+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Iu(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(Iu(a,t+1,0),a.times(a).times(a).eq(c))){r=a;break}u+=4,i=1}return Du=!0,Iu(r,t,h.rounding,e)},Su.decimalPlaces=Su.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-Au(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Su.dividedBy=Su.div=function(t){return qu(this,new this.constructor(t))},Su.dividedToIntegerBy=Su.divToInt=function(t){var e=this.constructor;return Iu(qu(this,new e(t),0,1,1),e.precision,e.rounding)},Su.equals=Su.eq=function(t){return 0===this.cmp(t)},Su.floor=function(){return Iu(new this.constructor(this),this.e+1,3)},Su.greaterThan=Su.gt=function(t){return this.cmp(t)>0},Su.greaterThanOrEqualTo=Su.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Su.hyperbolicCosine=Su.cosh=function(){var t,e,n,r,i,o=this,u=o.constructor,a=new u(1);if(!o.isFinite())return new u(o.s?1/0:NaN);if(o.isZero())return a;n=u.precision,r=u.rounding,u.precision=n+Math.max(o.e,o.sd())+4,u.rounding=1,(i=o.d.length)<32?e=(1/ta(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=Ku(u,1,o.times(e),new u(1),!0);for(var s,l=t,c=new u(8);l--;)s=o.times(o),o=a.minus(s.times(c.minus(s.times(c))));return Iu(o,u.precision=n,u.rounding=r,!0)},Su.hyperbolicSine=Su.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Ku(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=Ku(o,2,i=i.times(1/ta(5,t)),i,!0);for(var u,a=new o(5),s=new o(16),l=new o(20);t--;)u=i.times(i),i=i.times(a.plus(u.times(s.times(u).plus(l))))}return o.precision=e,o.rounding=n,Iu(i,e,n,!0)},Su.hyperbolicTangent=Su.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,qu(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Su.inverseCosine=Su.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?Lu(n,i,o):new n(0):new n(NaN):e.isZero()?Lu(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=Lu(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Su.inverseHyperbolicCosine=Su.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Du=!1,n=n.times(n).minus(1).sqrt().plus(n),Du=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Su.inverseHyperbolicSine=Su.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Du=!1,n=n.times(n).plus(1).sqrt().plus(n),Du=!0,r.precision=t,r.rounding=e,n.ln())},Su.inverseHyperbolicTangent=Su.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Iu(new o(i),t,e,!0):(o.precision=n=r-i.e,i=qu(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Su.inverseSine=Su.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=Lu(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Su.inverseTangent=Su.atan=function(){var t,e,n,r,i,o,u,a,s,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=$u)return(u=Lu(c,h+4,f).times(.25)).s=l.s,u}else{if(!l.s)return new c(NaN);if(h+4<=$u)return(u=Lu(c,h+4,f).times(.5)).s=l.s,u}for(c.precision=a=h+10,c.rounding=1,t=n=Math.min(28,a/7+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Du=!1,e=Math.ceil(a/7),r=1,s=l.times(l),u=new c(l),i=l;-1!==t;)if(i=i.times(s),o=u.minus(i.div(r+=2)),i=i.times(s),void 0!==(u=o.plus(i.div(r+=2))).d[e])for(t=e;u.d[t]===o.d[t]&&t--;);return n&&(u=u.times(2<<n-1)),Du=!0,Iu(u,c.precision=h,c.rounding=f,!0)},Su.isFinite=function(){return!!this.d},Su.isInteger=Su.isInt=function(){return!!this.d&&Au(this.e/7)>this.d.length-2},Su.isNaN=function(){return!this.s},Su.isNegative=Su.isNeg=function(){return this.s<0},Su.isPositive=Su.isPos=function(){return this.s>0},Su.isZero=function(){return!!this.d&&0===this.d[0]},Su.lessThan=Su.lt=function(t){return this.cmp(t)<0},Su.lessThanOrEqualTo=Su.lte=function(t){return this.cmp(t)<1},Su.logarithm=Su.log=function(t){var e,n,r,i,o,u,a,s,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(Du=!1,u=Xu(l,a=h+5),r=e?Ru(c,a+10):Xu(t,a),ku((s=qu(u,r,a,1)).d,i=h,f))do{if(u=Xu(l,a+=10),r=e?Ru(c,a+10):Xu(t,a),s=qu(u,r,a,1),!o){+Tu(s.d).slice(i+1,i+15)+1==1e14&&(s=Iu(s,h+1,0));break}}while(ku(s.d,i+=10,f));return Du=!0,Iu(s,h,f)},Su.minus=Su.sub=function(t){var e,n,r,i,o,u,a,s,l,c,h,f,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN):t=new p(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(l=d.d,f=t.d,a=p.precision,s=p.rounding,!l[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!l[0])return new p(3===s?-0:0);t=new p(d)}return Du?Iu(t,a,s):t}if(n=Au(t.e/7),c=Au(d.e/7),l=l.slice(),o=c-n){for((h=o<0)?(e=l,o=-o,u=f.length):(e=f,n=c,u=l.length),o>(r=Math.max(Math.ceil(a/7),u)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((h=(r=l.length)<(u=f.length))&&(u=r),r=0;r<u;r++)if(l[r]!=f[r]){h=l[r]<f[r];break}o=0}for(h&&(e=l,l=f,f=e,t.s=-t.s),u=l.length,r=f.length-u;r>0;--r)l[u++]=0;for(r=f.length;r>o;){if(l[--r]<f[r]){for(i=r;i&&0===l[--i];)l[i]=Bu-1;--l[i],l[r]+=Bu}l[r]-=f[r]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=Pu(l,n),Du?Iu(t,a,s):t):new p(3===s?-0:0)},Su.modulo=Su.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Iu(new r(n),r.precision,r.rounding):(Du=!1,9==r.modulo?(e=qu(n,t.abs(),0,3,1)).s*=t.s:e=qu(n,t,0,r.modulo,1),e=e.times(t),Du=!0,n.minus(e))},Su.naturalExponential=Su.exp=function(){return Yu(this)},Su.naturalLogarithm=Su.ln=function(){return Xu(this)},Su.negated=Su.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Iu(t)},Su.plus=Su.add=function(t){var e,n,r,i,o,u,a,s,l,c,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new f(t.d||h.s===t.s?h:NaN)):t=new f(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(l=h.d,c=t.d,a=f.precision,s=f.rounding,!l[0]||!c[0])return c[0]||(t=new f(h)),Du?Iu(t,a,s):t;if(o=Au(h.e/7),r=Au(t.e/7),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,u=c.length):(n=c,r=o,u=l.length),i>(u=(o=Math.ceil(a/7))>u?o+1:u+1)&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((u=l.length)-(i=c.length)<0&&(i=u,n=c,c=l,l=n),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/Bu|0,l[i]%=Bu;for(e&&(l.unshift(e),++r),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=Pu(l,r),Du?Iu(t,a,s):t},Su.precision=Su.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(yu+t);return n.d?(e=Wu(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Su.round=function(){var t=this,e=t.constructor;return Iu(new e(t),t.e+1,e.rounding)},Su.sine=Su.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Ku(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/ta(5,n)),e=Ku(t,2,e,e);for(var i,o=new t(5),u=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(u.times(i).minus(a))));return e}(r,ea(r,n)),r.precision=t,r.rounding=e,Iu(cu>2?n.neg():n,t,e,!0)):new r(NaN)},Su.squareRoot=Su.sqrt=function(){var t,e,n,r,i,o,u=this,a=u.d,s=u.e,l=u.s,c=u.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?u:1/0);for(Du=!1,0==(l=Math.sqrt(+u))||l==1/0?(((e=Tu(a)).length+s)%2==0&&(e+="0"),l=Math.sqrt(e),s=Au((s+1)/2)-(s<0||s%2),r=new c(e=l==1/0?"5e"+s:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+s)):r=new c(l.toString()),n=(s=c.precision)+3;;)if(r=(o=r).plus(qu(u,o,n+2,1)).times(.5),Tu(o.d).slice(0,n)===(e=Tu(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Iu(r,s+1,1),t=!r.times(r).eq(u));break}if(!i&&(Iu(o,s+1,0),o.times(o).eq(u))){r=o;break}n+=4,i=1}return Du=!0,Iu(r,s,c.rounding,t)},Su.tangent=Su.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=qu(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Iu(2==cu||4==cu?n.neg():n,t,e,!0)):new r(NaN)},Su.times=Su.mul=function(t){var e,n,r,i,o,u,a,s,l,c=this,h=c.constructor,f=c.d,d=(t=new h(t)).d;if(t.s*=c.s,!(f&&f[0]&&d&&d[0]))return new h(!t.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*t.s:t.s/0);for(n=Au(c.e/7)+Au(t.e/7),(s=f.length)<(l=d.length)&&(o=f,f=d,d=o,u=s,s=l,l=u),o=[],r=u=s+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=s+r;i>r;)a=o[i]+d[r]*f[i-r-1]+e,o[i--]=a%Bu|0,e=a/Bu|0;o[i]=(o[i]+e)%Bu|0}for(;!o[--u];)o.pop();return e?++n:o.shift(),t.d=o,t.e=Pu(o,n),Du?Iu(t,h.precision,h.rounding):t},Su.toBinary=function(t,e){return na(this,2,t,e)},Su.toDecimalPlaces=Su.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(zu(t,0,fu),void 0===e?e=r.rounding:zu(e,0,8),Iu(n,t+n.e+1,e))},Su.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=ju(r,!0):(zu(t,0,fu),void 0===e?e=i.rounding:zu(e,0,8),n=ju(r=Iu(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Su.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=ju(i):(zu(t,0,fu),void 0===e?e=o.rounding:zu(e,0,8),n=ju(r=Iu(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Su.toFraction=function(t){var e,n,r,i,o,u,a,s,l,c,h,f,d=this,p=d.d,g=d.constructor;if(!p)return new g(d);if(l=n=new g(1),r=s=new g(0),u=(o=(e=new g(r)).e=Wu(p)-d.e-1)%7,e.d[0]=Eu(10,u<0?7+u:u),null==t)t=o>0?e:l;else{if(!(a=new g(t)).isInt()||a.lt(l))throw Error(yu+a);t=a.gt(e)?o>0?e:l:a}for(Du=!1,a=new g(Tu(p)),c=g.precision,g.precision=o=7*p.length*2;h=qu(a,e,0,1,1),1!=(i=n.plus(h.times(r))).cmp(t);)n=r,r=i,i=l,l=s.plus(h.times(i)),s=i,i=e,e=a.minus(h.times(i)),a=i;return i=qu(t.minus(n),r,0,1,1),s=s.plus(i.times(l)),n=n.plus(i.times(r)),s.s=l.s=d.s,f=qu(l,r,o,1).minus(d).abs().cmp(qu(s,n,o,1).minus(d).abs())<1?[l,r]:[s,n],g.precision=c,Du=!0,f},Su.toHexadecimal=Su.toHex=function(t,e){return na(this,16,t,e)},Su.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:zu(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(Du=!1,n=qu(n,t,0,e,1).times(t),Du=!0,Iu(n)):(t.s=n.s,n=t),n},Su.toNumber=function(){return+this},Su.toOctal=function(t,e){return na(this,8,t,e)},Su.toPower=Su.pow=function(t){var e,n,r,i,o,u,a=this,s=a.constructor,l=+(t=new s(t));if(!(a.d&&t.d&&a.d[0]&&t.d[0]))return new s(Eu(+a,l));if((a=new s(a)).eq(1))return a;if(r=s.precision,o=s.rounding,t.eq(1))return Iu(a,r,o);if((e=Au(t.e/7))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=Hu(s,a,n,r),t.s<0?new s(1).div(i):Iu(i,r,o);if((u=a.s)<0){if(e<t.d.length-1)return new s(NaN);if(0==(1&t.d[e])&&(u=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=u,a}return(e=0!=(n=Eu(+a,l))&&isFinite(n)?new s(n+"").e:Au(l*(Math.log("0."+Tu(a.d))/Math.LN10+a.e+1)))>s.maxE+1||e<s.minE-1?new s(e>0?u/0:0):(Du=!1,s.rounding=a.s=1,n=Math.min(12,(e+"").length),(i=Yu(t.times(Xu(a,r+n)),r)).d&&ku((i=Iu(i,r+5,1)).d,r,o)&&(e=r+10,+Tu((i=Iu(Yu(t.times(Xu(a,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Iu(i,r+1,0))),i.s=u,Du=!0,s.rounding=o,Iu(i,r,o))},Su.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=ju(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(zu(t,1,fu),void 0===e?e=i.rounding:zu(e,0,8),n=ju(r=Iu(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Su.toSignificantDigits=Su.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(zu(t,1,fu),void 0===e?e=n.rounding:zu(e,0,8)),Iu(new n(this),t,e)},Su.toString=function(){var t=this,e=t.constructor,n=ju(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Su.truncated=Su.trunc=function(){return Iu(new this.constructor(this),this.e+1,1)},Su.valueOf=Su.toJSON=function(){var t=this,e=t.constructor,n=ju(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var qu=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,u,a,s){var l,c,h,f,d,p,g,m,D,v,y,w,x,b,A,E,F,C,_,M,B=r.constructor,N=r.s==i.s?1:-1,$=r.d,S=i.d;if(!($&&$[0]&&S&&S[0]))return new B(r.s&&i.s&&($?!S||$[0]!=S[0]:S)?$&&0==$[0]||!S?0*N:N/0:NaN);for(s?(d=1,c=r.e-i.e):(s=Bu,d=7,c=Au(r.e/d)-Au(i.e/d)),_=S.length,F=$.length,v=(D=new B(N)).d=[],h=0;S[h]==($[h]||0);h++);if(S[h]>($[h]||0)&&c--,null==o?(b=o=B.precision,u=B.rounding):b=a?o+(r.e-i.e)+1:o,b<0)v.push(1),p=!0;else{if(b=b/d+2|0,h=0,1==_){for(f=0,S=S[0],b++;(h<F||f)&&b--;h++)A=f*s+($[h]||0),v[h]=A/S|0,f=A%S|0;p=f||h<F}else{for((f=s/(S[0]+1)|0)>1&&(S=t(S,f,s),$=t($,f,s),_=S.length,F=$.length),E=_,w=(y=$.slice(0,_)).length;w<_;)y[w++]=0;(M=S.slice()).unshift(0),C=S[0],S[1]>=s/2&&++C;do{f=0,(l=e(S,y,_,w))<0?(x=y[0],_!=w&&(x=x*s+(y[1]||0)),(f=x/C|0)>1?(f>=s&&(f=s-1),1==(l=e(g=t(S,f,s),y,m=g.length,w=y.length))&&(f--,n(g,_<m?M:S,m,s))):(0==f&&(l=f=1),g=S.slice()),(m=g.length)<w&&g.unshift(0),n(y,g,w,s),-1==l&&(l=e(S,y,_,w=y.length))<1&&(f++,n(y,_<w?M:S,w,s)),w=y.length):0===l&&(f++,y=[0]),v[h++]=f,l&&y[0]?y[w++]=$[E]||0:(y=[$[E]],w=1)}while((E++<F||void 0!==y[0])&&b--);p=void 0!==y[0]}v[0]||v.shift()}if(1==d)D.e=c,lu=p;else{for(h=1,f=v[0];f>=10;f/=10)h++;D.e=h+c*d-1,Iu(D,a?o+D.e+1:o,u,p)}return D}}();function Iu(t,e,n,r){var i,o,u,a,s,l,c,h,f,d=t.constructor;t:if(null!=e){if(!(h=t.d))return t;for(i=1,a=h[0];a>=10;a/=10)i++;if((o=e-i)<0)o+=7,u=e,s=(c=h[f=0])/Eu(10,i-u-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(a=h.length)){if(!r)break t;for(;a++<=f;)h.push(0);c=s=0,i=1,u=(o%=7)-7+1}else{for(c=a=h[f],i=1;a>=10;a/=10)i++;s=(u=(o%=7)-7+i)<0?0:c/Eu(10,i-u-1)%10|0}if(r=r||e<0||void 0!==h[f+1]||(u<0?c:c%Eu(10,i-u-1)),l=n<4?(s||r)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(o>0?u>0?c/Eu(10,i-u):0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,l?(e-=t.e+1,h[0]=Eu(10,(7-e%7)%7),t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=f,a=1,f--):(h.length=f+1,a=Eu(10,7-o),h[f]=u>0?(c/Eu(10,i-u)%Eu(10,u)|0)*a:0),l)for(;;){if(0==f){for(o=1,u=h[0];u>=10;u/=10)o++;for(u=h[0]+=a,a=1;u>=10;u/=10)a++;o!=a&&(t.e++,h[0]==Bu&&(h[0]=1));break}if(h[f]+=a,h[f]!=Bu)break;h[f--]=0,a=1}for(o=h.length;0===h[--o];)h.pop()}return Du&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function ju(t,e,n){if(!t.isFinite())return Qu(t);var r,i=t.e,o=Tu(t.d),u=o.length;return e?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+Vu(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+Vu(-i-1)+o,n&&(r=n-u)>0&&(o+=Vu(r))):i>=u?(o+=Vu(i+1-u),n&&(r=n-i-1)>0&&(o=o+"."+Vu(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(o+="."),o+=Vu(r))),o}function Pu(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function Ru(t,e,n){if(e>Nu)throw Du=!0,n&&(t.precision=n),Error(wu);return Iu(new t(pu),e,1,!0)}function Lu(t,e,n){if(e>$u)throw Error(wu);return Iu(new t(gu),e,n,!0)}function Wu(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function Vu(t){for(var e="";t--;)e+="0";return e}function Hu(t,e,n,r){var i,o=new t(1),u=Math.ceil(r/7+4);for(Du=!1;;){if(n%2&&ra((o=o.times(e)).d,u)&&(i=!0),0===(n=Au(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}ra((e=e.times(e)).d,u)}return Du=!0,o}function Uu(t){return 1&t.d[t.d.length-1]}function Zu(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function Yu(t,e){var n,r,i,o,u,a,s,l=0,c=0,h=0,f=t.constructor,d=f.rounding,p=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Du=!1,s=p):s=e,a=new f(.03125);t.e>-2;)t=t.times(a),h+=5;for(s+=r=Math.log(Eu(2,h))/Math.LN10*2+5|0,n=o=u=new f(1),f.precision=s;;){if(o=Iu(o.times(t),s,1),n=n.times(++c),Tu((a=u.plus(qu(o,n,s,1))).d).slice(0,s)===Tu(u.d).slice(0,s)){for(i=h;i--;)u=Iu(u.times(u),s,1);if(null!=e)return f.precision=p,u;if(!(l<3&&ku(u.d,s-r,d,l)))return Iu(u,f.precision=p,d,Du=!0);f.precision=s+=10,n=o=a=new f(1),c=0,l++}u=a}}function Xu(t,e){var n,r,i,o,u,a,s,l,c,h,f,d=1,p=t,g=p.d,m=p.constructor,D=m.rounding,v=m.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(null==e?(Du=!1,c=v):c=e,m.precision=c+=10,r=(n=Tu(g)).charAt(0),!(Math.abs(o=p.e)<15e14))return l=Ru(m,c+2,v).times(o+""),p=Xu(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=v,null==e?Iu(p,v,D,Du=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Tu((p=p.times(t)).d)).charAt(0),d++;for(o=p.e,r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1)),h=p,s=u=p=qu(p.minus(1),p.plus(1),c,1),f=Iu(p.times(p),c,1),i=3;;){if(u=Iu(u.times(f),c,1),Tu((l=s.plus(qu(u,new m(i),c,1))).d).slice(0,c)===Tu(s.d).slice(0,c)){if(s=s.times(2),0!==o&&(s=s.plus(Ru(m,c+2,v).times(o+""))),s=qu(s,new m(d),c,1),null!=e)return m.precision=v,s;if(!ku(s.d,c-10,D,a))return Iu(s,m.precision=v,D,Du=!0);m.precision=c+=10,l=u=p=qu(h.minus(1),h.plus(1),c,1),f=Iu(p.times(p),c,1),i=a=1}s=l,i+=2}}function Qu(t){return String(t.s*t.s/0)}function Ju(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";t.d.push(+e),Du&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Gu(t,e){var n,r,i,o,u,a,s,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Mu.test(e))return Ju(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Cu.test(e))n=16,e=e.toLowerCase();else if(Fu.test(e))n=2;else{if(!_u.test(e))throw Error(yu+e);n=8}for((o=e.search(/p/i))>0?(s=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),u=(o=e.indexOf("."))>=0,r=t.constructor,u&&(o=(a=(e=e.replace(".","")).length)-o,i=Hu(r,new r(n),o,2*o)),o=c=(l=Ou(e,n,Bu)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=Pu(l,c),t.d=l,Du=!1,u&&(t=qu(t,i,4*a)),s&&(t=t.times(Math.abs(s)<54?Eu(2,s):Va.pow(2,s))),Du=!0,t)}function Ku(t,e,n,r,i){var o,u,a,s,l=t.precision,c=Math.ceil(l/7);for(Du=!1,s=n.times(n),a=new t(r);;){if(u=qu(a.times(s),new t(e++*e++),l,1),a=i?r.plus(u):r.minus(u),r=qu(u.times(s),new t(e++*e++),l,1),void 0!==(u=a.plus(r)).d[c]){for(o=c;u.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=u,u=o}return Du=!0,u.d.length=c+1,u}function ta(t,e){for(var n=t;--e;)n*=t;return n}function ea(t,e){var n,r=e.s<0,i=Lu(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return cu=r?4:1,e;if((n=e.divToInt(i)).isZero())cu=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return cu=Uu(n)?r?2:3:r?4:1,e;cu=Uu(n)?r?1:4:r?3:2}return e.minus(i).abs()}function na(t,e,n,r){var i,o,u,a,s,l,c,h,f,d=t.constructor,p=void 0!==n;if(p?(zu(n,1,fu),void 0===r?r=d.rounding:zu(r,0,8)):(n=d.precision,r=d.rounding),t.isFinite()){for(p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(u=(c=ju(t)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new d(1)).e=c.length-u,f.d=Ou(ju(f),10,i),f.e=f.d.length),o=s=(h=Ou(c,10,i)).length;0==h[--s];)h.pop();if(h[0]){if(u<0?o--:((t=new d(t)).d=h,t.e=o,h=(t=qu(t,f,n,r,0,i)).d,o=t.e,l=lu),u=h[n],a=i/2,l=l||void 0!==h[n+1],l=r<4?(void 0!==u||l)&&(0===r||r===(t.s<0?3:2)):u>a||u===a&&(4===r||l||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,l)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(s=h.length;!h[s-1];--s);for(u=0,c="";u<s;u++)c+=du.charAt(h[u]);if(p){if(s>1)if(16==e||8==e){for(u=16==e?4:3,--s;s%u;s++)c+="0";for(s=(h=Ou(c,i,e)).length;!h[s-1];--s);for(u=1,c="1.";u<s;u++)c+=du.charAt(h[u])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>s)for(o-=s;o--;)c+="0";else o<s&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c}else c=Qu(t);return t.s<0?"-"+c:c}function ra(t,e){if(t.length>e)return t.length=e,!0}function ia(t){return new this(t).abs()}function oa(t){return new this(t).acos()}function ua(t){return new this(t).acosh()}function aa(t,e){return new this(t).plus(e)}function sa(t){return new this(t).asin()}function la(t){return new this(t).asinh()}function ca(t){return new this(t).atan()}function ha(t){return new this(t).atanh()}function fa(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?Lu(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=Lu(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(qu(t,e,o,1)),e=Lu(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(qu(t,e,o,1)):(n=Lu(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function da(t){return new this(t).cbrt()}function pa(t){return Iu(t=new this(t),t.e+1,2)}function ga(t,e,n){return new this(t).clamp(e,n)}function ma(t){if(!t||"object"!=typeof t)throw Error(vu+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,fu,"rounding",0,8,"toExpNeg",-hu,0,"toExpPos",0,hu,"maxE",0,hu,"minE",-hu,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=mu[n]),void 0!==(r=t[n])){if(!(Au(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(yu+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=mu[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(yu+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(xu);this[n]=!0}else this[n]=!1}return this}function Da(t){return new this(t).cos()}function va(t){return new this(t).cosh()}function ya(t,e){return new this(t).div(e)}function wa(t){return new this(t).exp()}function xa(t){return Iu(t=new this(t),t.e+1,3)}function ba(){var t,e,n=new this(0);for(Du=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return Du=!0,new this(1/0);n=e}return Du=!0,n.sqrt()}function Aa(t){return t instanceof Va||t&&t.toStringTag===bu||!1}function Ea(t){return new this(t).ln()}function Fa(t,e){return new this(t).log(e)}function Ca(t){return new this(t).log(2)}function _a(t){return new this(t).log(10)}function Ma(){return Zu(this,arguments,"lt")}function Ba(){return Zu(this,arguments,"gt")}function Na(t,e){return new this(t).mod(e)}function $a(t,e){return new this(t).mul(e)}function Sa(t,e){return new this(t).pow(e)}function Ta(t){var e,n,r,i,o=0,u=new this(1),a=[];if(void 0===t?t=this.precision:zu(t,1,fu),r=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(xu);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(t%=7,(r=a[--o])&&t&&(i=Eu(10,7-t),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return u.e=n,u.d=a,u}function za(t){return Iu(t=new this(t),t.e+1,this.rounding)}function ka(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Oa(t){return new this(t).sin()}function qa(t){return new this(t).sinh()}function Ia(t){return new this(t).sqrt()}function ja(t,e){return new this(t).sub(e)}function Pa(){var t=0,e=arguments,n=new this(e[t]);for(Du=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return Du=!0,Iu(n,this.precision,this.rounding)}function Ra(t){return new this(t).tan()}function La(t){return new this(t).tanh()}function Wa(t){return Iu(t=new this(t),t.e+1,1)}Su[Symbol.for("nodejs.util.inspect.custom")]=Su.toString,Su[Symbol.toStringTag]="Decimal";var Va=Su.constructor=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,Aa(t))return i.s=t.s,void(Du?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(Du?e>o.maxE?(i.e=NaN,i.d=null):e<o.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):Ju(i,t.toString())}if("string"!==r)throw Error(yu+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),Mu.test(t)?Ju(i,t):Gu(i,t)}if(o.prototype=Su,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ma,o.clone=t,o.isDecimal=Aa,o.abs=ia,o.acos=oa,o.acosh=ua,o.add=aa,o.asin=sa,o.asinh=la,o.atan=ca,o.atanh=ha,o.atan2=fa,o.cbrt=da,o.ceil=pa,o.clamp=ga,o.cos=Da,o.cosh=va,o.div=ya,o.exp=wa,o.floor=xa,o.hypot=ba,o.ln=Ea,o.log=Fa,o.log10=_a,o.log2=Ca,o.max=Ma,o.min=Ba,o.mod=Na,o.mul=$a,o.pow=Sa,o.random=Ta,o.round=za,o.sign=ka,o.sin=Oa,o.sinh=qa,o.sqrt=Ia,o.sub=ja,o.sum=Pa,o.tan=Ra,o.tanh=La,o.trunc=Wa,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(mu);pu=new Va(pu),gu=new Va(gu);var Ha=Xo("BigNumber",["?on","config"],(t=>{var{on:e,config:n}=t,r=Va.clone({precision:n.precision,modulo:Va.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),Ua=yo((function(t,e){!function(e){var n=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},r=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},i=function(){throw SyntaxError("Invalid Param")};function o(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function u(t,e){if(!(this instanceof u))return new u(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):i();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===r&&i();for(var s=0;s<r.length;s++){var l=r[s];" "===l||"\t"===l||"\n"===l||("+"===l?o++:"-"===l?a++:"i"===l||"I"===l?(o+a===0&&i()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+r[s+1]),s++),o=a=0):((o+a===0||isNaN(l))&&i(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((a%2?"-":"")+l),s++):n.re+=parseFloat((a%2?"-":"")+l),o=a=0))}o+a>0&&i();break;case"number":n.im=0,n.re=t;break;default:i()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new u(t/o,e/o):Math.abs(o)<Math.abs(a)?new u((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new u((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function(t,e){var n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&t>0)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return u.ZERO;var r=Math.atan2(e,t),i=o(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new u(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new u(o(t,e),Math.atan2(e,t))},abs:function(){return function(t,e){var n=Math.abs(t),r=Math.abs(e);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*n(e),Math.cos(t)*r(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*n(e),-Math.sin(t)*r(e))},tan:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)+n(e);return new u(Math.sin(t)/i,r(e)/i)},cot:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)-n(e);return new u(-Math.sin(t)/i,r(e)/i)},sec:function(){var t=this.re,e=this.im,i=.5*n(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*n(e)/i,Math.sin(t)*r(e)/i)},csc:function(){var t=this.re,e=this.im,i=.5*n(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*n(e)/i,-Math.cos(t)*r(e)/i)},asin:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new u(r(t)*Math.cos(e),n(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(n(t)*Math.cos(e),r(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,i=n(t)+Math.cos(e);return new u(r(t)/i,Math.sin(e)/i)},coth:function(){var t=2*this.re,e=2*this.im,i=n(t)-Math.cos(e);return new u(r(t)/i,-Math.sin(e)/i)},csch:function(){var t=this.re,e=this.im,i=Math.cos(2*e)-n(2*t);return new u(-2*r(t)*Math.cos(e)/i,2*n(t)*Math.sin(e)/i)},sech:function(){var t=this.re,e=this.im,i=Math.cos(2*e)+n(2*t);return new u(2*n(t)*Math.cos(e)/i,-2*r(t)*Math.sin(e)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,a=r*r+e*e,s=0!==a?new u((i*r-e*e)/a,(e*r+i*e)/a):new u(-1!==t?t/0:0,0!==e?e/0:0),l=s.re;return s.re=o(s.re,s.im)/2,s.im=Math.atan2(s.im,l)/2,n&&(s.im=-s.im),s},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return u.INFINITY;var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new u(t,e);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<u.EPSILON&&(t=0),Math.abs(e)<u.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,t.exports=u}()})),Za=vo(Ua),Ya=Xo("Complex",[],(()=>(Object.defineProperty(Za,"name",{value:"Complex"}),Za.prototype.constructor=Za,Za.prototype.type="Complex",Za.prototype.isComplex=!0,Za.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Za.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Za.prototype.format=function(t){var e=this.im,n=this.re,r=Ao(this.re,t),i=Ao(this.im,t),o=_i(t)?t:t?t.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(n/e)<u&&(n=0),Math.abs(e/n)<u&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},Za.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Za(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(_i(n)){if($i(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),_i(r))return new Za({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Za.prototype.valueOf=Za.prototype.toString,Za.fromJSON=function(t){return new Za(t)},Za.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Za)),{isClass:!0}),Xa=yo((function(t,e){!function(e){var n={s:1,n:0,d:1};function r(t,e){if(isNaN(t=parseInt(t,10)))throw s.InvalidParameter;return t*e}function i(t,e){if(0===e)throw s.DivisionByZero;var n=Object.create(s.prototype);n.s=t<0?-1:1;var r=a(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function o(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var u=function(t,e){var i,o=0,u=1,a=1,l=0,c=0,h=0,f=1,d=1,p=0,g=1,m=1,D=1,v=1e7;if(null==t);else if(void 0!==e){if(a=(o=t)*(u=e),o%1!=0||u%1!=0)throw s.NonIntegerParameter}else switch(typeof t){case"object":if("d"in t&&"n"in t)o=t.n,u=t.d,"s"in t&&(o*=t.s);else{if(!(0 in t))throw s.InvalidParameter;o=t[0],1 in t&&(u=t[1])}a=o*u;break;case"number":if(t<0&&(a=t,t=-t),t%1==0)o=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));g<=v&&D<=v;){if(t===(i=(p+m)/(g+D))){g+D<=v?(o=p+m,u=g+D):D>g?(o=m,u=D):(o=p,u=g);break}t>i?(p+=m,g+=D):(m+=p,D+=g),g>v?(o=m,u=D):(o=p,u=g)}o*=d}else(isNaN(t)||isNaN(e))&&(u=o=NaN);break;case"string":if(null===(g=t.match(/\d+|./g)))throw s.InvalidParameter;if("-"===g[p]?(a=-1,p++):"+"===g[p]&&p++,g.length===p+1?c=r(g[p++],a):"."===g[p+1]||"."===g[p]?("."!==g[p]&&(l=r(g[p++],a)),(++p+1===g.length||"("===g[p+1]&&")"===g[p+3]||"'"===g[p+1]&&"'"===g[p+3])&&(c=r(g[p],a),f=Math.pow(10,g[p].length),p++),("("===g[p]&&")"===g[p+2]||"'"===g[p]&&"'"===g[p+2])&&(h=r(g[p+1],a),d=Math.pow(10,g[p+1].length)-1,p+=3)):"/"===g[p+1]||":"===g[p+1]?(c=r(g[p],a),f=r(g[p+2],1),p+=3):"/"===g[p+3]&&" "===g[p+1]&&(l=r(g[p],a),c=r(g[p+2],a),f=r(g[p+4],1),p+=5),g.length<=p){a=o=h+(u=f*d)*l+d*c;break}default:throw s.InvalidParameter}if(0===u)throw s.DivisionByZero;n.s=a<0?-1:1,n.n=Math.abs(o),n.d=Math.abs(u)};function a(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function s(t,e){if(u(t,e),!(this instanceof s))return i(n.s*n.n,n.d);t=a(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t}s.DivisionByZero=new Error("Division by Zero"),s.InvalidParameter=new Error("Invalid argument"),s.NonIntegerParameter=new Error("Parameters must be integer"),s.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(t,e){return u(t,e),i(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return u(t,e),i(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return u(t,e),i(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return u(t,e),i(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===t)return i(this.s*this.n%this.d,1);if(u(t,e),0===n.n&&0===this.d)throw s.DivisionByZero;return i(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,e){return u(t,e),i(a(n.n,this.n)*a(n.d,this.d),n.d*this.d)},lcm:function(t,e){return u(t,e),0===n.n&&0===this.n?i(0,1):i(n.n*this.n,a(n.n,this.n)*a(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(t,e){if(u(t,e),1===n.d)return n.s<0?i(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):i(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=o(this.n),a=o(this.d),s=1,l=1;for(var c in r)if("1"!==c){if("0"===c){s=0;break}if(r[c]*=n.n,r[c]%n.d!=0)return null;r[c]/=n.d,s*=Math.pow(c,r[c])}for(var c in a)if("1"!==c){if(a[c]*=n.n,a[c]%n.d!=0)return null;a[c]/=n.d,l*=Math.pow(c,a[c])}return n.s<0?i(l,s):i(s,l)},equals:function(t,e){return u(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){u(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var o=i(n[r-1],1),u=r-2;u>=0;u--)o=o.inverse().add(n[u]);if(o.sub(e).abs().valueOf()<t)return o.mul(this.s)}return this},divisible:function(t,e){return u(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,n,r),o=this.s<0?"-":"";if(o+=e/n|0,e%=n,(e*=10)&&(o+="."),r){for(var u=i;u--;)o+=e/n|0,e%=n,e*=10;o+="(";for(u=r;u--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(u=t;e&&u--;)o+=e/n|0,e%=n,e*=10;return o}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,t.exports=s}()})),Qa=vo(Xa),Ja=Xo("Fraction",[],(()=>(Object.defineProperty(Qa,"name",{value:"Fraction"}),Qa.prototype.constructor=Qa,Qa.prototype.type="Fraction",Qa.prototype.isFraction=!0,Qa.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qa.fromJSON=function(t){return new Qa(t)},Qa)),{isClass:!0}),Ga=Xo("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});function Ka(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)}),-1)}var ts=Xo("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Si(e))throw new Error("Invalid datatype: "+e);if(zi(t))"DenseMatrix"===t.type?(this._data=po(t._data),this._size=po(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Ti(t.data)&&Ti(t.size))this._data=t.data,this._size=t.size,jo(this._data,this._size),this._datatype=e||t.datatype;else if(Ti(t))this._data=l(t),this._size=qo(this._data),jo(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+fo(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e){if(!ji(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new ko(r.length,t._size.length);for(var o=e.min(),u=e.max(),a=0,s=t._size.length;a<s;a++)Po(o[a],t._size[a]),Po(u[a],t._size[a]);return new n(i(t._data,e,r.length,0),t._datatype)}function i(t,e,n,r){var o=r===n-1,u=e.dimension(r);return o?u.map((function(e){return Po(e,t.length),t[e]})).valueOf():u.map((function(o){return Po(o,t.length),i(t[o],e,n,r+1)})).valueOf()}function o(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(zi(n)?(i=n.size(),n=n.valueOf()):i=qo(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(o.length<t._size.length)throw new ko(o.length,t._size.length,"<");if(i.length<o.length){for(var l=0,c=0;1===o[l]&&1===i[l];)l++;for(;1===o[l];)c++,l++;n=Uo(n,o.length,c,i)}if(!go(o,i))throw new ko(o,i,">");var h=e.max().map((function(t){return t+1}));s(t,h,r);var f=o.length;u(t._data,e,n,f,0)}return t}function u(t,e,n,r,i){var o=i===r-1,a=e.dimension(i);o?a.forEach((function(e,r){Po(e),t[e]=n[r[0]]})):a.forEach((function(o,a){Po(o),u(t[o],e,n[a[0]],r,i+1)}))}function a(t,e,n){if(0===e.length){for(var r=t._data;Ti(r);)r=r[0];return r}return t._size=e.slice(0),t._data=Ro(t._data,t._size,n),t}function s(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,u=e.length;o<u;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&a(t,r,n)}function l(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];Ti(r)?t[e]=l(r):r&&!0===r.isMatrix&&(t[e]=l(r.valueOf()))}return t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Yo(this._data,fo)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return r(this,t);case 2:case 3:return o(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!Ti(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new ko(t.length,this._size.length);for(var e=0;e<t.length;e++)Po(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var o=t[r];Po(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!Ti(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new ko(t.length,this._size.length,"<");var r,i,o,u=t.map((function(t){return t+1}));s(this,u,n);var a=this._data;for(r=0,i=t.length-1;r<i;r++)Po(o=t[r],a.length),a=a[o];return Po(o=t[t.length-1],a.length),a[o]=e,this},n.prototype.resize=function(t,e,n){if(!ki(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return a(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;n._data=Wo(n._data,t);var r=n._size.reduce(((t,e)=>t*e));return n._size=Vo(t,r),n},n.prototype.clone=function(){return new n({data:po(this._data),size:po(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=Ka(t),i=function n(i,o){return Ti(i)?i.map((function(t,e){return n(t,o.concat(e))})):1===r?t(i):2===r?t(i,o):t(i,o,e)}(this._data,[]);return new n(i,void 0!==this._datatype?Yo(i,fo):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){Ti(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*t(e,n){if(Ti(e))for(var r=0;r<e.length;r++)yield*t(e[r],n.concat(r));else yield{value:e,index:n}}(this._data,[])},n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var e=this._data;for(var r of e)t.push(new n([r],this._datatype));return t},n.prototype.columns=function(){var t=this,e=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,o=function(r){var o=i.map((t=>[t[r]]));e.push(new n(o,t._datatype))},u=0;u<r[1];u++)o(u);return e},n.prototype.toArray=function(){return po(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return To(this._data,t)},n.prototype.toString=function(){return To(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(Mi(t)&&(t=t.toNumber()),!_i(t)||!xo(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],u=Math.min(i-r,o-e),a=[],s=0;s<u;s++)a[s]=this._data[s+r][s+e];return new n({data:a,size:[u],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!Ti(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Mi(t)&&(t=t.toNumber()),!_i(t)||!xo(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(Mi(r)&&(r=r.toNumber()),!_i(r)||!xo(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,u=r>0?r:0,a=r<0?-r:0,s=t[0],l=t[1],c=Math.min(s-a,l-u);if(Ti(e)){if(e.length!==c)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(zi(e)){var h=e.size();if(1!==h.length||h[0]!==c)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i||(i=Mi(o(0))?o(0).mul(0):0);var f=[];if(t.length>0){f=Ro(f,t,i);for(var d=0;d<c;d++)f[d+a][d+u]=o(d)}return new n({data:f,size:[s,l]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(_i(t)&&xo(t)&&_i(e)&&xo(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Po(t,this._size[0]),Po(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0});function es(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return es(t,e)})):e(t)}var ns="isInteger",rs=Xo(ns,["typed"],(t=>{var{typed:e}=t;return e(ns,{number:xo,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":e.referToSelf((t=>e=>es(e,t)))})})),is="number, number";function os(t,e){return t+e}function us(t,e){return t*e}os.signature=is,us.signature=is;var as=Xo("compareUnits",["typed"],(t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),r.valueType()])(n.value,r.value)}))}})),ss="equalScalar",ls=Xo(ss,["typed","config"],(t=>{var{typed:e,config:n}=t,r=as({typed:e});return e(ss,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Bo(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return Bo(t.re,e.re,n)&&Bo(t.im,e.im,n)}(t,e,n.epsilon)}},r)}));Xo(ss,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(ss,{"number, number":function(t,e){return Bo(t,e,n.epsilon)}})}));var cs=Xo("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Si(e))throw new Error("Invalid datatype: "+e);if(zi(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?po(e._values):void 0,t._index=po(e._index),t._ptr=po(e._ptr),t._size=po(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&Ti(t.index)&&Ti(t.ptr)&&Ti(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Ti(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+fo(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var o=r.length,u=0,a=n,s=0;if(Si(i)&&(a=e.find(n,[i,i])||n,s=e.convert(0,i)),o>0){var l=0;do{t._ptr.push(t._index.length);for(var c=0;c<o;c++){var h=r[c];if(Ti(h)){if(0===l&&u<h.length&&(u=h.length),l<h.length){var f=h[l];a(f,s)||(t._values.push(f),t._index.push(c))}}else 0===l&&u<1&&(u=1),a(h,s)||(t._values.push(h),t._index.push(c))}l++}while(l<u)}t._ptr.push(t._index.length),t._size=[o,u]}function u(t,e){if(!ji(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,o,u,a=e.size();if(a.length!==t._size.length)throw new ko(a.length,t._size.length);var s=e.min(),l=e.max();for(n=0,r=t._size.length;n<r;n++)Po(s[n],t._size[n]),Po(l[n],t._size[n]);var c=t._values,h=t._index,f=t._ptr,d=e.dimension(0),p=e.dimension(1),g=[],m=[];d.forEach((function(t,e){m[t]=e[0],g[t]=!0}));var D=c?[]:void 0,v=[],y=[];return p.forEach((function(t){for(y.push(v.length),o=f[t],u=f[t+1];o<u;o++)n=h[o],!0===g[n]&&(v.push(m[n]),D&&D.push(c[o]))})),y.push(v.length),new i({values:D,index:v,ptr:y,size:a,datatype:t._datatype})}function a(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),u=e.isScalar();if(zi(n)?(i=n.size(),n=n.toArray()):i=qo(n),u){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new ko(o.length,t._size.length,"<");if(i.length<o.length){for(var a=0,s=0;1===o[a]&&1===i[a];)a++;for(;1===o[a];)s++,a++;n=Uo(n,o.length,s,i)}if(!go(o,i))throw new ko(o,i,">");if(1===o.length){e.dimension(0).forEach((function(e,i){Po(e),t.set([e,0],n[i[0]],r)}))}else{var l=e.dimension(0),c=e.dimension(1);l.forEach((function(e,i){Po(e),c.forEach((function(o,u){Po(o),t.set([e,o],n[i[0]][u[0]],r)}))}))}}return t}function s(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function l(t,e,n,r,i,o,u){i.splice(t,0,r),o.splice(t,0,e);for(var a=n+1;a<u.length;a++)u[a]++}function c(t,r,i,o){var u=o||0,a=n,s=0;Si(t._datatype)&&(a=e.find(n,[t._datatype,t._datatype])||n,s=e.convert(0,t._datatype),u=e.convert(u,t._datatype));var l,c,h,f=!a(u,s),d=t._size[0],p=t._size[1];if(i>p){for(c=p;c<i;c++)if(t._ptr[c]=t._values.length,f)for(l=0;l<d;l++)t._values.push(u),t._index.push(l);t._ptr[i]=t._values.length}else i<p&&(t._ptr.splice(i+1,p-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(p=i,r>d){if(f){var g=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]+g,h=t._ptr[c+1]+g;var m=0;for(l=d;l<r;l++,m++)t._values.splice(h+m,0,u),t._index.splice(h+m,0,l),g++}t._ptr[p]=t._values.length}}else if(r<d){var D=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]-D;var v=t._ptr[c],y=t._ptr[c+1]-D;for(h=v;h<y;h++)(l=t._index[h])>r-1&&(t._values.splice(h,1),t._index.splice(h,1),D++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function h(t,e,n,r,i){var o,u,a=r[0],s=r[1],l=[];for(o=0;o<a;o++)for(l[o]=[],u=0;u<s;u++)l[o][u]=0;for(u=0;u<s;u++)for(var c=n[u],h=n[u+1],f=c;f<h;f++)l[o=e[f]][u]=t?i?po(t[f]):t[f]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Yo(this._values,fo)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,t);case 2:case 3:return a(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Ti(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new ko(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Po(e,this._size[0]),Po(n,this._size[1]);var r=s(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!Ti(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new ko(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],u=t[1],a=this._size[0],h=this._size[1],f=n,d=0;Si(this._datatype)&&(f=e.find(n,[this._datatype,this._datatype])||n,d=e.convert(0,this._datatype)),(o>a-1||u>h-1)&&(c(this,Math.max(o+1,a),Math.max(u+1,h),i),a=this._size[0],h=this._size[1]),Po(o,a),Po(u,h);var p=s(o,this._ptr[u],this._ptr[u+1],this._index);return p<this._ptr[u+1]&&this._index[p]===o?f(r,d)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(p,u,this._values,this._index,this._ptr):this._values[p]=r:l(p,o,u,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!ki(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!_i(t)||!xo(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+To(r)+")")})),c(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!Ti(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");t.forEach((function(e){if(!_i(e)||!xo(e)||e<=-2||0===e)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+To(t)+")")}));var n=this._size[0]*this._size[1];if(n!==(t=Vo(t,n))[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],o=0;o<r._ptr.length;o++)for(var u=0;u<r._ptr[o+1]-r._ptr[o];u++)i.push(o);for(var a=r._values.slice(),c=r._index.slice(),h=0;h<r._index.length;h++){var f=c[h],d=i[h],p=f*r._size[1]+d;i[h]=p%t[1],c[h]=Math.floor(p/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var g=0;g<r._ptr.length;g++)r._ptr[g]=0;for(var m=0;m<a.length;m++){var D=c[m],v=i[m],y=a[m];l(s(D,r._ptr[v],r._ptr[v+1],r._index),D,v,y,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?po(this._values):void 0,index:po(this._index),ptr:po(this._ptr),size:po(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this,u=this._size[0],a=this._size[1],s=Ka(t);return function(t,r,o,u,a,s,l){var c=[],h=[],f=[],d=n,p=0;Si(t._datatype)&&(d=e.find(n,[t._datatype,t._datatype])||n,p=e.convert(0,t._datatype));for(var g=function(t,e,n){t=s(t,e,n),d(t,p)||(c.push(t),h.push(e))},m=u;m<=a;m++){f.push(c.length);var D=t._ptr[m],v=t._ptr[m+1];if(l)for(var y=D;y<v;y++){var w=t._index[y];w>=r&&w<=o&&g(t._values[y],w-r,m-u)}else{for(var x={},b=D;b<v;b++){x[t._index[b]]=t._values[b]}for(var A=r;A<=o;A++){g(A in x?x[A]:0,A-r,m-u)}}}return f.push(c.length),new i({values:c,index:h,ptr:f,size:[o-r+1,a-u+1]})}(this,0,u-1,0,a-1,(function(e,n,r){return 1===s?t(e):2===s?t(e,[n,r]):t(e,[n,r],o)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],u=this._ptr[i+1];if(e)for(var a=o;a<u;a++){var s=this._index[a];t(this._values[a],[s,i],this)}else{for(var l={},c=o;c<u;c++){l[this._index[c]]=this._values[c]}for(var h=0;h<n;h++){t(h in l?l[h]:0,[h,i],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var t=this._size[1],e=0;e<t;e++)for(var n=this._ptr[e],r=this._ptr[e+1],i=n;i<r;i++){var o=this._index[i];yield{value:this._values[i],index:[o,e]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+To(e,t)+" x "+To(n,t)+"] density: "+To(r,t)+"\n",o=0;o<n;o++)for(var u=this._ptr[o],a=this._ptr[o+1],s=u;s<a;s++){i+="\n    ("+To(this._index[s],t)+", "+To(o,t)+") ==> "+(this._values?To(this._values[s],t):"X")}return i},i.prototype.toString=function(){return To(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Mi(t)&&(t=t.toNumber()),!_i(t)||!xo(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],o=this._size[1],u=Math.min(r-n,o-e),a=[],s=[],l=[];l[0]=0;for(var c=e;c<o&&a.length<u;c++)for(var h=this._ptr[c],f=this._ptr[c+1],d=h;d<f;d++){var p=this._index[d];if(p===c-e+n){a.push(this._values[d]),s[a.length-1]=p-n;break}}return l.push(a.length),new i({values:a,index:s,ptr:l,size:[u,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,o,u,a){if(!Ti(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Mi(t)&&(t=t.toNumber()),!_i(t)||!xo(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(Mi(o)&&(o=o.toNumber()),!_i(o)||!xo(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var s=n,l=0;Si(a)&&(s=e.find(n,[a,a])||n,l=e.convert(0,a));var c,h=o>0?o:0,f=o<0?-o:0,d=t[0],p=t[1],g=Math.min(d-f,p-h);if(Ti(r)){if(r.length!==g)throw new Error("Invalid value array length");c=function(t){return r[t]}}else if(zi(r)){var m=r.size();if(1!==m.length||m[0]!==g)throw new Error("Invalid matrix length");c=function(t){return r.get([t])}}else c=function(){return r};for(var D=[],v=[],y=[],w=0;w<p;w++){y.push(D.length);var x=w-h;if(x>=0&&x<g){var b=c(x);s(b,l)||(v.push(x+f),D.push(b))}}return y.push(D.length),new i({values:D,index:v,ptr:y,size:[d,p]})},i.prototype.swapRows=function(t,e){if(!(_i(t)&&xo(t)&&_i(e)&&xo(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Po(t,this._size[0]),Po(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var o=r[t],u=r[t+1],a=o;a<u;a++)i(n[a],e[a])},i._swapRows=function(t,e,n,r,i,o){for(var u=0;u<n;u++){var a=o[u],l=o[u+1],c=s(t,a,l,i),h=s(e,a,l,i);if(c<l&&h<l&&i[c]===t&&i[h]===e){if(r){var f=r[c];r[c]=r[h],r[h]=f}}else if(c<l&&i[c]===t&&(h>=l||i[h]!==e)){var d=r?r[c]:void 0;i.splice(h,0,e),r&&r.splice(h,0,d),i.splice(h<=c?c+1:c,1),r&&r.splice(h<=c?c+1:c,1)}else if(h<l&&i[h]===e&&(c>=l||i[c]!==t)){var p=r?r[h]:void 0;i.splice(c,0,t),r&&r.splice(c,0,p),i.splice(c<=h?h+1:h,1),r&&r.splice(c<=h?h+1:h,1)}}},i}),{isClass:!0}),hs="matrix",fs=Xo(hs,["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(hs,{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(t,e,n){if("dense"===e||"default"===e||void 0===e)return new r(t,n);if("sparse"===e)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),ds="addScalar",ps=Xo(ds,["typed"],(t=>{var{typed:e}=t;return e(ds,{"number, number":os,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(t,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))})})),gs=Xo("matAlgo11xS0s",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,o){var u=t._values,a=t._index,s=t._ptr,l=t._size,c=t._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=n,g=0,m=i;"string"==typeof c&&(h=c,p=e.find(n,[h,h]),g=e.convert(0,h),r=e.convert(r,h),m=e.find(i,[h,h]));for(var D=[],v=[],y=[],w=0;w<d;w++){y[w]=v.length;for(var x=s[w],b=s[w+1],A=x;A<b;A++){var E=a[A],F=o?m(r,u[A]):m(u[A],r);p(F,g)||(v.push(E),D.push(F))}}return y[d]=v.length,t.createSparseMatrix({values:D,index:v,ptr:y,size:[f,d],datatype:h})}})),ms=Xo("matAlgo14xDs",["typed"],(t=>{var{typed:e}=t;return function(t,r,i,o){var u,a=t._data,s=t._size,l=t._datatype,c=i;"string"==typeof l&&(u=l,r=e.convert(r,u),c=e.find(i,[u,u]));var h=s.length>0?n(c,0,s,s[0],a,r,o):[];return t.createDenseMatrix({data:h,size:po(s),datatype:u})};function n(t,e,r,i,o,u,a){var s=[];if(e===r.length-1)for(var l=0;l<i;l++)s[l]=a?t(u,o[l]):t(o[l],u);else for(var c=0;c<i;c++)s[c]=n(t,e+1,r,r[e+1],o[c],u,a);return s}})),Ds=Xo("matAlgo01xDSid",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var o=t._data,u=t._size,a=t._datatype,s=n._values,l=n._index,c=n._ptr,h=n._size,f=n._datatype;if(u.length!==h.length)throw new ko(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p,g=u[0],m=u[1],D="string"==typeof a&&a===f?a:void 0,v=D?e.find(r,[D,D]):r,y=[];for(d=0;d<g;d++)y[d]=[];var w=[],x=[];for(p=0;p<m;p++){for(var b=p+1,A=c[p],E=c[p+1],F=A;F<E;F++)w[d=l[F]]=i?v(s[F],o[d][p]):v(o[d][p],s[F]),x[d]=b;for(d=0;d<g;d++)x[d]===b?y[d][p]=w[d]:y[d][p]=o[d][p]}return t.createDenseMatrix({data:y,size:[g,m],datatype:D})}})),vs=Xo("matAlgo04xSidSid",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var o=t._values,u=t._index,a=t._ptr,s=t._size,l=t._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(s.length!==d.length)throw new ko(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");var g,m=s[0],D=s[1],v=n,y=0,w=i;"string"==typeof l&&l===p&&(g=l,v=e.find(n,[g,g]),y=e.convert(0,g),w=e.find(i,[g,g]));var x,b,A,E,F,C=o&&c?[]:void 0,_=[],M=[],B=o&&c?[]:void 0,N=o&&c?[]:void 0,$=[],S=[];for(b=0;b<D;b++){M[b]=_.length;var T=b+1;for(E=a[b],F=a[b+1],A=E;A<F;A++)x=u[A],_.push(x),$[x]=T,B&&(B[x]=o[A]);for(E=f[b],F=f[b+1],A=E;A<F;A++)if($[x=h[A]]===T){if(B){var z=w(B[x],c[A]);v(z,y)?$[x]=null:B[x]=z}}else _.push(x),S[x]=T,N&&(N[x]=c[A]);if(B&&N)for(A=M[b];A<_.length;)$[x=_[A]]===T?(C[A]=B[x],A++):S[x]===T?(C[A]=N[x],A++):_.splice(A,1)}return M[D]=_.length,t.createSparseMatrix({values:C,index:_,ptr:M,size:[m,D],datatype:g})}})),ys=Xo("matAlgo10xSids",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,o){var u=t._values,a=t._index,s=t._ptr,l=t._size,c=t._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=i;"string"==typeof c&&(h=c,r=e.convert(r,h),p=e.find(i,[h,h]));for(var g=[],m=[],D=[],v=0;v<d;v++){for(var y=v+1,w=s[v],x=s[v+1],b=w;b<x;b++){var A=a[b];m[A]=u[b],D[A]=y}for(var E=0;E<f;E++)0===v&&(g[E]=[]),D[E]===y?g[E][v]=o?p(r,m[E]):p(m[E],r):g[E][v]=r}return new n({data:g,size:[f,d],datatype:h})}})),ws=Xo("matAlgo13xDD",["typed"],(t=>{var{typed:e}=t;return function(t,r,i){var o,u=t._data,a=t._size,s=t._datatype,l=r._data,c=r._size,h=r._datatype,f=[];if(a.length!==c.length)throw new ko(a.length,c.length);for(var d=0;d<a.length;d++){if(a[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");f[d]=a[d]}var p=i;"string"==typeof s&&s===h&&(o=s,p=e.find(i,[o,o]));var g=f.length>0?n(p,0,f,f[0],u,l):[];return t.createDenseMatrix({data:g,size:f,datatype:o})};function n(t,e,r,i,o,u){var a=[];if(e===r.length-1)for(var s=0;s<i;s++)a[s]=t(o[s],u[s]);else for(var l=0;l<i;l++)a[l]=n(t,e+1,r,r[e+1],o[l],u[l]);return a}})),xs=Xo("matrixAlgorithmSuite",["typed","matrix"],(t=>{var{typed:e,matrix:n}=t,r=ws({typed:e}),i=ms({typed:e});return function(t){var o,u=t.elop,a=t.SD||t.DS;u?(o={"DenseMatrix, DenseMatrix":(t,e)=>r(t,e,u),"Array, Array":(t,e)=>r(n(t),n(e),u).valueOf(),"Array, DenseMatrix":(t,e)=>r(n(t),e,u),"DenseMatrix, Array":(t,e)=>r(t,n(e),u)},t.SS&&(o["SparseMatrix, SparseMatrix"]=(e,n)=>t.SS(e,n,u,!1)),t.DS&&(o["DenseMatrix, SparseMatrix"]=(e,n)=>t.DS(e,n,u,!1),o["Array, SparseMatrix"]=(e,r)=>t.DS(n(e),r,u,!1)),a&&(o["SparseMatrix, DenseMatrix"]=(t,e)=>a(e,t,u,!0),o["SparseMatrix, Array"]=(t,e)=>a(n(e),t,u,!0))):(o={"DenseMatrix, DenseMatrix":e.referToSelf((t=>(e,n)=>r(e,n,t))),"Array, Array":e.referToSelf((t=>(e,i)=>r(n(e),n(i),t).valueOf())),"Array, DenseMatrix":e.referToSelf((t=>(e,i)=>r(n(e),i,t))),"DenseMatrix, Array":e.referToSelf((t=>(e,i)=>r(e,n(i),t)))},t.SS&&(o["SparseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.SS(n,r,e,!1)))),t.DS&&(o["DenseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.DS(n,r,e,!1))),o["Array, SparseMatrix"]=e.referToSelf((e=>(r,i)=>t.DS(n(r),i,e,!1)))),a&&(o["SparseMatrix, DenseMatrix"]=e.referToSelf((t=>(e,n)=>a(n,e,t,!0))),o["SparseMatrix, Array"]=e.referToSelf((t=>(e,r)=>a(n(r),e,t,!0)))));var s=t.scalar||"any";(t.Ds||t.Ss)&&(u?(o["DenseMatrix,"+s]=(t,e)=>i(t,e,u,!1),o[s+", DenseMatrix"]=(t,e)=>i(e,t,u,!0),o["Array,"+s]=(t,e)=>i(n(t),e,u,!1).valueOf(),o[s+", Array"]=(t,e)=>i(n(e),t,u,!0).valueOf()):(o["DenseMatrix,"+s]=e.referToSelf((t=>(e,n)=>i(e,n,t,!1))),o[s+", DenseMatrix"]=e.referToSelf((t=>(e,n)=>i(n,e,t,!0))),o["Array,"+s]=e.referToSelf((t=>(e,r)=>i(n(e),r,t,!1).valueOf())),o[s+", Array"]=e.referToSelf((t=>(e,r)=>i(n(r),e,t,!0).valueOf()))));var l=void 0!==t.sS?t.sS:t.Ss;return u?(t.Ss&&(o["SparseMatrix,"+s]=(e,n)=>t.Ss(e,n,u,!1)),l&&(o[s+", SparseMatrix"]=(t,e)=>l(e,t,u,!0))):(t.Ss&&(o["SparseMatrix,"+s]=e.referToSelf((e=>(n,r)=>t.Ss(n,r,e,!1)))),l&&(o[s+", SparseMatrix"]=e.referToSelf((t=>(e,n)=>l(n,e,t,!0))))),u&&u.signatures&&function(t,e){for(var n in e)mo(e,n)&&(t[n]=e[n])}(o,u.signatures),o}})),bs=Xo("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":us,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":(t,e)=>e.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,e)=>t.multiply(e)})})),As="multiply",Es=Xo(As,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:u}=t,a=gs({typed:e,equalScalar:o}),s=ms({typed:e});function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._size,h=n._datatype,f=a[0],d=c[1],p=r,g=i;s&&h&&s===h&&"string"==typeof s&&(o=s,p=e.find(r,[o,o]),g=e.find(i,[o,o]));for(var m=[],D=0;D<d;D++){for(var v=g(u[0],l[0][D]),y=1;y<f;y++)v=p(v,g(u[y],l[y][D]));m[D]=v}return t.createDenseMatrix({data:m,size:[d],datatype:o})}(t,n)}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._datatype,h=a[0],f=a[1],d=r,p=i;s&&c&&s===c&&"string"==typeof s&&(o=s,d=e.find(r,[o,o]),p=e.find(i,[o,o]));for(var g=[],m=0;m<h;m++){for(var D=u[m],v=p(D[0],l[0]),y=1;y<f;y++)v=d(v,p(D[y],l[y]));g[m]=v}return t.createDenseMatrix({data:g,size:[h],datatype:o})},"SparseMatrix, any":function(t,n){var u=t._values,a=t._index,s=t._ptr,l=t._datatype;if(!u)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=t._size[0],p=n._size[0],g=[],m=[],D=[],v=r,y=i,w=o,x=0;l&&f&&l===f&&"string"==typeof l&&(c=l,v=e.find(r,[c,c]),y=e.find(i,[c,c]),w=e.find(o,[c,c]),x=e.convert(0,c));var b=[],A=[];D[0]=0;for(var E=0;E<p;E++){var F=h[E];if(!w(F,x))for(var C=s[E],_=s[E+1],M=C;M<_;M++){var B=a[M];A[B]?b[B]=v(b[B],y(F,u[M])):(A[B]=!0,m.push(B),b[B]=y(F,u[M]))}}for(var N=m.length,$=0;$<N;$++){var S=m[$];g[$]=b[S]}return D[1]=m.length,t.createSparseMatrix({values:g,index:m,ptr:D,size:[d,1],datatype:c})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._size,h=n._datatype,f=a[0],d=a[1],p=c[1],g=r,m=i;s&&h&&s===h&&"string"==typeof s&&(o=s,g=e.find(r,[o,o]),m=e.find(i,[o,o]));for(var D=[],v=0;v<f;v++){var y=u[v];D[v]=[];for(var w=0;w<p;w++){for(var x=m(y[0],l[0][w]),b=1;b<d;b++)x=g(x,m(y[b],l[b][w]));D[v][w]=x}}return t.createDenseMatrix({data:D,size:[f,p],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var u=t._data,a=t._size,s=t._datatype,l=n._values,c=n._index,h=n._ptr,f=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,g=a[0],m=f[1],D=r,v=i,y=o,w=0;s&&d&&s===d&&"string"==typeof s&&(p=s,D=e.find(r,[p,p]),v=e.find(i,[p,p]),y=e.find(o,[p,p]),w=e.convert(0,p));for(var x=[],b=[],A=[],E=n.createSparseMatrix({values:x,index:b,ptr:A,size:[g,m],datatype:p}),F=0;F<m;F++){A[F]=b.length;var C=h[F],_=h[F+1];if(_>C)for(var M=0,B=0;B<g;B++){for(var N=B+1,$=void 0,S=C;S<_;S++){var T=c[S];M!==N?($=v(u[B][T],l[S]),M=N):$=D($,v(u[B][T],l[S]))}M!==N||y($,w)||(b.push(B),x.push($))}}return A[m]=b.length,E},"SparseMatrix, DenseMatrix":function(t,n){var u=t._values,a=t._index,s=t._ptr,l=t._datatype;if(!u)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=t._size[0],p=n._size[0],g=n._size[1],m=r,D=i,v=o,y=0;l&&f&&l===f&&"string"==typeof l&&(c=l,m=e.find(r,[c,c]),D=e.find(i,[c,c]),v=e.find(o,[c,c]),y=e.convert(0,c));for(var w=[],x=[],b=[],A=t.createSparseMatrix({values:w,index:x,ptr:b,size:[d,g],datatype:c}),E=[],F=[],C=0;C<g;C++){b[C]=x.length;for(var _=C+1,M=0;M<p;M++){var B=h[M][C];if(!v(B,y))for(var N=s[M],$=s[M+1],S=N;S<$;S++){var T=a[S];F[T]!==_?(F[T]=_,x.push(T),E[T]=D(B,u[S])):E[T]=m(E[T],D(B,u[S]))}}for(var z=b[C],k=x.length,O=z;O<k;O++){var q=x[O];w[O]=E[q]}}return b[g]=x.length,A},"SparseMatrix, SparseMatrix":function(t,n){var o,u=t._values,a=t._index,s=t._ptr,l=t._datatype,c=n._values,h=n._index,f=n._ptr,d=n._datatype,p=t._size[0],g=n._size[1],m=u&&c,D=r,v=i;l&&d&&l===d&&"string"==typeof l&&(o=l,D=e.find(r,[o,o]),v=e.find(i,[o,o]));for(var y,w,x,b,A,E,F,C,_=m?[]:void 0,M=[],B=[],N=t.createSparseMatrix({values:_,index:M,ptr:B,size:[p,g],datatype:o}),$=m?[]:void 0,S=[],T=0;T<g;T++){B[T]=M.length;var z=T+1;for(A=f[T],E=f[T+1],b=A;b<E;b++)if(C=h[b],m)for(w=s[C],x=s[C+1],y=w;y<x;y++)F=a[y],S[F]!==z?(S[F]=z,M.push(F),$[F]=v(c[b],u[y])):$[F]=D($[F],v(c[b],u[y]));else for(w=s[C],x=s[C+1],y=w;y<x;y++)F=a[y],S[F]!==z&&(S[F]=z,M.push(F));if(m)for(var k=B[T],O=M.length,q=k;q<O;q++){var I=M[q];_[q]=$[I]}}return B[g]=M.length,N}});return e(As,i,{"Array, Array":e.referTo("Matrix, Matrix",(t=>(e,r)=>{l(qo(e),qo(r));var i=t(n(e),n(r));return zi(i)?i.valueOf():i})),"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return l(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return u(t,e)}(t,e,n[0]):c(t,e):1===r.length?h(t,e):f(t,e)},"Matrix, Array":e.referTo("Matrix,Matrix",(t=>(e,r)=>t(e,n(r)))),"Array, Matrix":e.referToSelf((t=>(e,r)=>t(n(e,r.storage()),r))),"SparseMatrix, any":function(t,e){return a(t,e,i,!1)},"DenseMatrix, any":function(t,e){return s(t,e,i,!1)},"any, SparseMatrix":function(t,e){return a(e,t,i,!0)},"any, DenseMatrix":function(t,e){return s(e,t,i,!0)},"Array, any":function(t,e){return s(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return s(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))})})),Fs="conj",Cs=Xo(Fs,["typed"],(t=>{var{typed:e}=t;return e(Fs,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf((t=>e=>es(e,t)))})}));var _s="reshape",Ms=Xo(_s,["typed","isInteger","matrix"],(t=>{var{typed:e,isInteger:n}=t;return e(_s,{"Matrix, Array":function(t,e){return t.reshape(e)},"Array, Array":function(t,e){return e.forEach((function(t){if(!n(t))throw new TypeError("Invalid size for dimension: "+t)})),Wo(t,e)}})})),Bs="size",Ns=Xo(Bs,["typed","config","?matrix"],(t=>{var{typed:e,config:n,matrix:r}=t;return e(Bs,{Matrix:function(t){return t.create(t.size())},Array:qo,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):function(){throw new Error('No "matrix" implementation available')}()}})})),$s=Xo("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:u}=t,a=Ds({typed:e}),s=vs({typed:e,equalScalar:i}),l=ys({typed:e,DenseMatrix:o}),c=xs({typed:e,matrix:n});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))},c({elop:r,DS:a,SS:s,Ss:l}))})),Ss=Xo("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:o}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,o){var s=u(t,o),l=zi(t)?t._data:t,c=zi(t)?t._datatype:void 0,h=zi(o)?o._data:o,f=zi(o)?o._datatype:void 0,d=2===a(t).length,p=2===a(o).length,g=n,m=r;if(c&&f&&c===f&&"string"==typeof c){var D=c;g=e.find(n,[D,D]),m=e.find(r,[D,D])}if(!d&&!p){for(var v=m(i(l[0]),h[0]),y=1;y<s;y++)v=g(v,m(i(l[y]),h[y]));return v}if(!d&&p){for(var w=m(i(l[0]),h[0][0]),x=1;x<s;x++)w=g(w,m(i(l[x]),h[x][0]));return w}if(d&&!p){for(var b=m(i(l[0][0]),h[0]),A=1;A<s;A++)b=g(b,m(i(l[A][0]),h[A]));return b}if(d&&p){for(var E=m(i(l[0][0]),h[0][0]),F=1;F<s;F++)E=g(E,m(i(l[F][0]),h[F][0]));return E}},"SparseMatrix, SparseMatrix":function(t,e){u(t,e);var i=t._index,o=t._values,a=e._index,s=e._values,l=0,c=n,h=r,f=0,d=0;for(;f<i.length&&d<a.length;){var p=i[f],g=a[d];p<g?f++:p>g?d++:p===g&&(l=c(l,h(o[f],s[d])),f++,d++)}return l}});function u(t,e){var n,r,i=a(t),o=a(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function a(t){return zi(t)?t.size():o(t)}})),Ts=Ha({config:Do}),zs=Ya({}),ks=Ja({}),Os=Ga({}),qs=ts({Matrix:Os}),Is=ou({BigNumber:Ts,Complex:zs,DenseMatrix:qs,Fraction:ks}),js=ps({typed:Is}),Ps=Cs({typed:Is}),Rs=ls({config:Do,typed:Is}),Ls=rs({typed:Is}),Ws=bs({typed:Is}),Vs=cs({Matrix:Os,equalScalar:Rs,typed:Is}),Hs=fs({DenseMatrix:qs,Matrix:Os,SparseMatrix:Vs,typed:Is}),Us=Ms({isInteger:Ls,matrix:Hs,typed:Is}),Zs=Ns({matrix:Hs,config:Do,typed:Is}),Ys=$s({DenseMatrix:qs,SparseMatrix:Vs,addScalar:js,equalScalar:Rs,matrix:Hs,typed:Is}),Xs=Es({addScalar:js,dot:Ss({addScalar:js,conj:Ps,multiplyScalar:Ws,size:Zs,typed:Is}),equalScalar:Rs,matrix:Hs,multiplyScalar:Ws,typed:Is});function Qs(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}class Js{constructor(t=[2,5],e=[1,1],n=.2,r=.1){this.armsMeans=t,this.armsStds=e,this.epsilon=n,this.alpha=r,this.qValues=new Array(this.armsMeans);for(let t=0;t<this.armsMeans.length;t++)this.qValues[t]=0;if(this.armsMeans.length!=this.armsStds.length)throw"armsMeans and armsStd need to have the same length"}resetQValues(){this.qValues=new Array(this.armsMeans);for(let t=0;t<this.armsMeans.length;t++)this.qValues[t]=0}updateQValues(t,e){this.qValues[e]+=this.alpha*(t-this.qValues[e])}pullBanditArm(t){return function(t=0,e=1){let n=1-Math.random(),r=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r)*e+t}(this.armsMeans[t],this.armsStds[t])}runTrial(){let t;t=Math.random()<this.epsilon?Math.floor(Math.random()*this.armsMeans.length):Qs(this.qValues);let e=this.pullBanditArm(t);return this.updateQValues(e,t),this.qValues}runTrials(t=100){episodicValues=new Array(this.armsMeans).fill(new Array(t).fill(0));for(var e=0;e<t;e+=1)Math.random()<this.epsilon?bandit_index=Math.floor(Math.random()*this.armsMeans.length):bandit_index=Qs(this.qValues),reward=this.pullBanditArm(bandit_index),this.updateQValues(reward,bandit_index);return episodicValues}}function Gs(e){let n,r,i,u,a,s,l,c,h,f,d,p,g,m,v,y,b,E,F,_,N,$,S,T,z,k,O,q,I,j,P,R;return F=new Ei({}),$=new Yn({}),{c(){n=A("h2"),n.textContent="Choosing Between Two Trees",r=C(),i=A("p"),i.textContent="In pursuit of finding bananas, the robot can pick either Tree A or Tree B.\n  Tree A produces on average 3 bananas, with a standard deviation of 1 banana,\n  and Tree B produces on average 6 bananas, with a standard deviation of 2\n  bananas. The goal is to maximize the number of bananas found, however, the\n  robot does not know which tree produces more bananas. Since the robot does not\n  know which action will lead to greater reward, it must make choices and\n  observe the outcomes directly.",u=C(),a=A("br"),s=A("br"),l=C(),c=A("p"),c.innerHTML='This type of reinforcement learning problem resembles that of the <span class="bold">multi-armed bandit problem</span>. The multi-armed bandit problem is named after a gambler at a row of slot\n  machines, and the gambler must decide, given limited resources, which slot\n  machine to play (i.e. which arm to pull). Here, the trees are the “arms” and\n  the robot must decide how to choose between them.',h=C(),f=A("br"),d=A("br"),p=C(),g=A("p"),g.textContent="Observe how the robot makes choices between the two trees and receives the\n  reward. This reward information is stored in what is called a Q-value, which\n  reflects the expected reward for each action based on the history of\n  experienced rewards. In this case, the robot maintains two Q-values: one for\n  Tree A and one for Tree B.",m=C(),v=A("table"),v.innerHTML='<tr><th class="table-head svelte-7if1im">Agent</th> \n    <th class="table-head svelte-7if1im">Environment</th> \n    <th class="table-head svelte-7if1im">State</th> \n    <th class="table-head svelte-7if1im">Actions</th> \n    <th class="table-head svelte-7if1im">Reward</th></tr> \n  <tr><td class="svelte-7if1im">Robot</td> \n    <td class="svelte-7if1im">Two Options</td> \n    <td class="svelte-7if1im">None</td> \n    <td class="svelte-7if1im">Tree A, Tree B</td> \n    <td class="svelte-7if1im">Number of Bananas</td></tr>',y=C(),b=A("div"),E=A("div"),at(F.$$.fragment),_=C(),N=A("div"),at($.$$.fragment),S=C(),T=A("div"),z=A("button"),z.textContent="Select 10 Action",k=C(),O=A("button"),O.textContent="Select 50 Actions",q=C(),I=A("button"),I.textContent="Reset",B(n,"class","body-secondary-header"),B(i,"class","body-text"),B(c,"class","body-text"),B(g,"class","body-text"),B(v,"class","svelte-7if1im"),B(E,"id","simulation-chart"),B(N,"id","scatter-chart"),B(b,"id","graph-container"),B(b,"class","svelte-7if1im"),B(z,"class","svelte-7if1im"),B(O,"class","svelte-7if1im"),B(I,"class","svelte-7if1im"),B(T,"id","buttons-container"),B(T,"class","svelte-7if1im")},m(t,o){w(t,n,o),w(t,r,o),w(t,i,o),w(t,u,o),w(t,a,o),w(t,s,o),w(t,l,o),w(t,c,o),w(t,h,o),w(t,f,o),w(t,d,o),w(t,p,o),w(t,g,o),w(t,m,o),w(t,v,o),w(t,y,o),w(t,b,o),D(b,E),st(F,E,null),D(b,_),D(b,N),st($,N,null),w(t,S,o),w(t,T,o),D(T,z),D(T,k),D(T,O),D(T,q),D(T,I),j=!0,P||(R=[M(z,"click",e[2]),M(O,"click",e[3]),M(I,"click",e[4])],P=!0)},p:t,i(t){j||(nt(F.$$.fragment,t),nt($.$$.fragment,t),j=!0)},o(t){rt(F.$$.fragment,t),rt($.$$.fragment,t),j=!1},d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(u),t&&x(a),t&&x(s),t&&x(l),t&&x(c),t&&x(h),t&&x(f),t&&x(d),t&&x(p),t&&x(g),t&&x(m),t&&x(v),t&&x(y),t&&x(b),lt(F),lt($),t&&x(S),t&&x(T),P=!1,o(R)}}}function Ks(t,e,n){let r,i;s(t,kn,(t=>n(5,r=t))),s(t,gn,(t=>n(6,i=t)));const o=new Js([2,5],[1,1],i,.1);function u(t,e){for(let e=0;e<t;e++){let t,e=o.runTrial();t=e[0]>e[1]?"left":"right";const n=Math.abs(e[0])+Math.abs(e[1]);r[0].episodeNumber.push(r[0].episodeNumber.length+1),r[0].left.push(e[0]),r[0].right.push(e[1]),r[0].maxDirection.push(t),r[0].leftWeight.push(e[0]/n),r[0].rightWeight.push(e[1]/n)}console.log(r)}function a(){o.resetQValues(),kn.set([{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]}]),Mn.set({x:.5,y:.5})}a();return[u,a,()=>u(10),()=>u(50),()=>a()]}class tl extends ft{constructor(t){super(),ht(this,t,Ks,Gs,a,{})}}function el(t,e,n){const r=t.slice();return r[13]=e[n],r}function nl(t,e,n){const r=t.slice();return r[13]=e[n],r}function rl(t){let e,n,r,i,o=(t[13]%2==0?t[8](t[13]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(o),B(n,"class","axis-text svelte-1hu85gw"),B(n,"y","7"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[3](t[13])+0} ${t[0]-t[4].bottom})`)},m(t,i){w(t,e,i),D(e,n),D(n,r)},p(t,n){8&n&&o!==(o=(t[13]%2==0?t[8](t[13]):"")+"")&&N(r,o),25&n&&i!==(i=`translate(${t[3](t[13])+0} ${t[0]-t[4].bottom})`)&&B(e,"transform",i)},d(t){t&&x(e)}}}function il(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,v=(t[13]%2==0?t[8](t[13]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(v),o=C(),u=E("line"),h=C(),f=E("line"),B(n,"class","axis-text svelte-1hu85gw"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[4].left-5} ${t[2](t[13])+0})`),B(u,"class","axis-line"),B(u,"x1",a=t[4].left),B(u,"x2",s=t[4].left),B(u,"y1",l=t[4].top),B(u,"y2",c=t[0]-t[4].bottom),B(u,"stroke","black"),B(f,"class","axis-line"),B(f,"x1",d=t[4].left),B(f,"x2",p=t[1]-t[4].right),B(f,"y1",g=t[0]-t[4].bottom),B(f,"y2",m=t[0]-t[4].bottom),B(f,"stroke","black")},m(t,i){w(t,e,i),D(e,n),D(n,r),w(t,o,i),w(t,u,i),w(t,h,i),w(t,f,i)},p(t,n){4&n&&v!==(v=(t[13]%2==0?t[8](t[13]):"")+"")&&N(r,v),20&n&&i!==(i=`translate(${t[4].left-5} ${t[2](t[13])+0})`)&&B(e,"transform",i),16&n&&a!==(a=t[4].left)&&B(u,"x1",a),16&n&&s!==(s=t[4].left)&&B(u,"x2",s),16&n&&l!==(l=t[4].top)&&B(u,"y1",l),17&n&&c!==(c=t[0]-t[4].bottom)&&B(u,"y2",c),16&n&&d!==(d=t[4].left)&&B(f,"x1",d),18&n&&p!==(p=t[1]-t[4].right)&&B(f,"x2",p),17&n&&g!==(g=t[0]-t[4].bottom)&&B(f,"y1",g),17&n&&m!==(m=t[0]-t[4].bottom)&&B(f,"y2",m)},d(t){t&&x(e),t&&x(o),t&&x(u),t&&x(h),t&&x(f)}}}function ol(e){let n,r,i,o,u,a,s,l=e[3].ticks(),c=[];for(let t=0;t<l.length;t+=1)c[t]=rl(nl(e,l,t));let h=e[2].ticks(),f=[];for(let t=0;t<h.length;t+=1)f[t]=il(el(e,h,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=C();for(let t=0;t<f.length;t+=1)f[t].c();r=C(),i=E("path"),u=C(),a=E("path"),B(i,"class","q-path pathLeft-line svelte-1hu85gw"),B(i,"d",o=e[5](e[7])),B(a,"class","q-path pathRight-line svelte-1hu85gw"),B(a,"d",s=e[5](e[6]))},m(t,e){for(let n=0;n<c.length;n+=1)c[n].m(t,e);w(t,n,e);for(let n=0;n<f.length;n+=1)f[n].m(t,e);w(t,r,e),w(t,i,e),w(t,u,e),w(t,a,e)},p(t,[e]){if(281&e){let r;for(l=t[3].ticks(),r=0;r<l.length;r+=1){const i=nl(t,l,r);c[r]?c[r].p(i,e):(c[r]=rl(i),c[r].c(),c[r].m(n.parentNode,n))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}if(279&e){let n;for(h=t[2].ticks(),n=0;n<h.length;n+=1){const i=el(t,h,n);f[n]?f[n].p(i,e):(f[n]=il(i),f[n].c(),f[n].m(r.parentNode,r))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}160&e&&o!==(o=t[5](t[7]))&&B(i,"d",o),96&e&&s!==(s=t[5](t[6]))&&B(a,"d",s)},i:t,o:t,d(t){b(c,t),t&&x(n),b(f,t),t&&x(r),t&&x(i),t&&x(u),t&&x(a)}}}function ul(t,e,n){let r,i,o,u,a,l,c,h;s(t,On,(t=>n(11,c=t))),s(t,bn,(t=>n(4,h=t)));let{height:f=500}=e,{width:d=500}=e,{index:p=0}=e;const g=Ke(".2d");return t.$$set=t=>{"height"in t&&n(0,f=t.height),"width"in t&&n(1,d=t.width),"index"in t&&n(9,p=t.index)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,r=c[0].left.length),1042&t.$$.dirty&&n(3,i=an().domain([0,r+1]).range([h.left,d-h.right])),17&t.$$.dirty&&n(2,o=an().domain([-5,5]).range([f-h.bottom,h.top])),2560&t.$$.dirty&&n(7,u=c[p].left.map(((t,e)=>({x:e,y:t})))),2560&t.$$.dirty&&n(6,a=c[p].right.map(((t,e)=>({x:e,y:t})))),12&t.$$.dirty&&n(5,l=Tt().x((t=>i(t.x))).y((t=>o(t.y))))},[f,d,o,i,h,l,a,u,g,p,r,c]}class al extends ft{constructor(t){super(),ht(this,t,ul,ol,a,{height:0,width:1,index:9})}}function sl(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function ll(t){let e,n,r,i;return n=new al({props:{index:t[12],width:t[5]-0,height:t[4]-0}}),{c(){e=E("g"),at(n.$$.fragment),B(e,"transform",r="translate("+t[3](t[10].x)+", "+t[2](t[10].y)+")")},m(t,r){w(t,e,r),st(n,e,null),i=!0},p(t,o){const u={};32&o&&(u.width=t[5]-0),16&o&&(u.height=t[4]-0),n.$set(u),(!i||12&o&&r!==(r="translate("+t[3](t[10].x)+", "+t[2](t[10].y)+")"))&&B(e,"transform",r)},i(t){i||(nt(n.$$.fragment,t),i=!0)},o(t){rt(n.$$.fragment,t),i=!1},d(t){t&&x(e),lt(n)}}}function cl(t){let e,n,r=t[6],i=[];for(let e=0;e<r.length;e+=1)i[e]=ll(sl(t,r,e));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=E("svg");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"width",t[1]),B(e,"height",t[0]),B(e,"class","svelte-18h1e5r")},m(t,r){w(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[u]){if(124&u){let n;for(r=t[6],n=0;n<r.length;n+=1){const o=sl(t,r,n);i[n]?(i[n].p(o,u),nt(i[n],1)):(i[n]=ll(o),i[n].c(),nt(i[n],1),i[n].m(e,null))}for(tt(),n=r.length;n<i.length;n+=1)o(n);et()}(!n||2&u)&&B(e,"width",t[1]),(!n||1&u)&&B(e,"height",t[0])},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&x(e),b(i,t)}}}function hl(t,e,n){let r,i,o,u,a,l,c;s(t,xn,(t=>n(9,c=t)));let{numX:h=8}=e,{numY:f=1}=e,d=[];for(let t=0;t<h;t++)for(let e=0;e<f;e++)d.push({x:t,y:e});return t.$$set=t=>{"numX"in t&&n(7,h=t.numX),"numY"in t&&n(8,f=t.numY)},t.$$.update=()=>{512&t.$$.dirty&&n(1,r=8*c),512&t.$$.dirty&&n(0,i=c),130&t.$$.dirty&&n(5,o=r/h),257&t.$$.dirty&&n(4,u=i/f),130&t.$$.dirty&&n(3,a=an().domain([0,h]).range([0,r])),257&t.$$.dirty&&n(2,l=an().domain([0,f]).range([0,i]))},[i,r,l,a,u,o,d,h,f,c]}class fl extends ft{constructor(t){super(),ht(this,t,hl,cl,a,{numX:7,numY:8})}}function dl(t,e,n){const r=t.slice();return r[25]=e[n],r}function pl(t,e,n){const r=t.slice();return r[25]=e[n],r}function gl(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function ml(t,e,n){const r=t.slice();return r[33]=e[n],r}function Dl(t,e,n){const r=t.slice();return r[36]=e[n],r}function vl(t,e,n){const r=t.slice();return r[39]=e[n],r}function yl(t){let e,n,r,i,o,u,a,s,l,c,h,f,d=t[39]+"",p=t[39]+"";return{c(){e=E("g"),n=E("line"),i=E("text"),o=F(d),a=E("g"),s=E("line"),c=E("text"),h=F(p),B(n,"class","grid-line svelte-12fvhy0"),B(n,"x1","0"),B(n,"x2","0"),B(n,"y1","0"),B(n,"y2",r=-t[4]+t[14].bottom+t[14].top),B(i,"class","auc-axis-text"),B(i,"y","15"),B(i,"text-anchor","middle"),B(e,"transform",u=`translate(${t[3](t[39])+0} ${t[4]-t[14].bottom})`),B(s,"class","grid-line svelte-12fvhy0"),B(s,"x1","0"),B(s,"x2",l=t[5]-t[14].right-t[14].left),B(s,"y1","0"),B(s,"y2","0"),B(c,"class","auc-axis-text"),B(c,"y","0"),B(c,"text-anchor","end"),B(c,"dominant-baseline","middle"),B(a,"transform",f=`translate(${t[14].left} ${t[2](t[39])+0})`)},m(t,r){w(t,e,r),D(e,n),D(e,i),D(i,o),w(t,a,r),D(a,s),D(a,c),D(c,h)},p(t,i){16400&i[0]&&r!==(r=-t[4]+t[14].bottom+t[14].top)&&B(n,"y2",r),1&i[0]&&d!==(d=t[39]+"")&&N(o,d),16409&i[0]&&u!==(u=`translate(${t[3](t[39])+0} ${t[4]-t[14].bottom})`)&&B(e,"transform",u),16416&i[0]&&l!==(l=t[5]-t[14].right-t[14].left)&&B(s,"x2",l),1&i[0]&&p!==(p=t[39]+"")&&N(h,p),16389&i[0]&&f!==(f=`translate(${t[14].left} ${t[2](t[39])+0})`)&&B(a,"transform",f)},d(t){t&&x(e),t&&x(a)}}}function wl(t){let e,n,r=console.log("found nothing at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"",i=["left","right"],o=[];for(let e=0;e<2;e+=1)o[e]=Al(ml(t,i,e));return{c(){e=F(r);for(let t=0;t<2;t+=1)o[t].c();n=_()},m(t,r){w(t,e,r);for(let e=0;e<2;e+=1)o[e].m(t,r);w(t,n,r)},p(t,u){if(2&u[0]&&r!==(r=console.log("found nothing at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"")&&N(e,r),164096&u[0]){let e;for(i=["left","right"],e=0;e<2;e+=1){const r=ml(t,i,e);o[e]?o[e].p(r,u):(o[e]=Al(r),o[e].c(),o[e].m(n.parentNode,n))}for(;e<2;e+=1)o[e].d(1)}},d(t){t&&x(e),b(o,t),t&&x(n)}}}function xl(t){let e,n=console.log("found rewards at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"";return{c(){e=F(n)},m(t,n){w(t,e,n)},p(t,r){2&r[0]&&n!==(n=console.log("found rewards at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"")&&N(e,n)},d(t){t&&x(e)}}}function bl(t){let e,n;return{c(){e=E("path"),B(e,"d",t[36]),B(e,"class",l(`arrow-${t[33]} arrow`)+" svelte-12fvhy0"),B(e,"transform",`rotate(${t[17][t[33]]}) scale(0.05)`),B(e,"stroke","black"),B(e,"opacity",n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])},m(t,n){w(t,e,n)},p(t,r){32768&r[0]&&n!==(n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])&&B(e,"opacity",n)},d(t){t&&x(e)}}}function Al(t){let e,n,r=ai,i=[];for(let e=0;e<r.length;e+=1)i[e]=bl(Dl(t,r,e));return{c(){e=E("g");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"transform",n="translate("+t[8][t[33]].x+", "+t[8][t[33]].y+")")},m(t,n){w(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(163840&o[0]){let n;for(r=ai,n=0;n<r.length;n+=1){const u=Dl(t,r,n);i[n]?i[n].p(u,o):(i[n]=bl(u),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}256&o[0]&&n!==(n="translate("+t[8][t[33]].x+", "+t[8][t[33]].y+")")&&B(e,"transform",n)},d(t){t&&x(e),b(i,t)}}}function El(t){let e,n,r;function i(...e){return t[23](t[32],...e)}function o(t,e){return 2&e[0]&&(n=null),null==n&&(n=!!t[20].some(i)),n?xl:wl}let u=o(t,[-1,-1]),a=u(t);return{c(){e=E("g"),a.c(),B(e,"transform",r="translate("+(t[3](Math.floor(t[32]/t[1]))+t[6]/2)+", "+(t[2](t[32]%t[1])+t[9]/2)+")")},m(t,n){w(t,e,n),a.m(e,null)},p(n,i){u===(u=o(t=n,i))&&a?a.p(t,i):(a.d(1),a=u(t),a&&(a.c(),a.m(e,null))),590&i[0]&&r!==(r="translate("+(t[3](Math.floor(t[32]/t[1]))+t[6]/2)+", "+(t[2](t[32]%t[1])+t[9]/2)+")")&&B(e,"transform",r)},d(t){t&&x(e),a.d()}}}function Fl(e){let n;return{c(){n=E("path"),B(n,"class","bananaPath svelte-12fvhy0"),B(n,"d",e[25]),B(n,"transform","scale(0.13)")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function Cl(e){let n;return{c(){n=E("path"),B(n,"class","bananaPath svelte-12fvhy0"),B(n,"d",e[25]),$(n,"transform","scale(0.13)")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function _l(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m=[..."".padEnd(e[0])].map(Ml),v=[];for(let t=0;t<m.length;t+=1)v[t]=yl(vl(e,m,t));let y=e[15],A=[];for(let t=0;t<y.length;t+=1)A[t]=El(gl(e,y,t));let F=li,C=[];for(let t=0;t<F.length;t+=1)C[t]=Fl(pl(e,F,t));let M=ci,N=[];for(let t=0;t<M.length;t+=1)N[t]=Cl(dl(e,M,t));return{c(){n=E("svg");for(let t=0;t<v.length;t+=1)v[t].c();r=_();for(let t=0;t<A.length;t+=1)A[t].c();i=E("path"),u=E("path"),s=E("g");for(let t=0;t<C.length;t+=1)C[t].c();c=E("g");for(let t=0;t<N.length;t+=1)N[t].c();f=E("g"),d=E("rect"),p=E("path"),B(i,"class","agent-line-outline svelte-12fvhy0"),B(i,"d",o=e[7](e[16])),B(u,"class","agent-line svelte-12fvhy0"),B(u,"d",a=e[7](e[16])),B(s,"id","reward-1"),B(s,"transform",l="translate("+e[3](0)+", "+(e[2](0)+e[11].height/2-7.5)+")"),B(c,"id","reward-3"),B(c,"transform",h="translate("+e[3](7)+", "+(e[2](0)+e[10].height/2-7.5)+")"),B(d,"class","agent-rect svelte-12fvhy0"),B(d,"width",e[13]),B(d,"height",e[12]),B(p,"d",si),$(p,"transform","scale(0.1)"),B(p,"stroke","white"),B(p,"stroke-width","1"),B(p,"fill","black"),B(f,"id","agent-g"),B(f,"transform",g="translate("+(e[3](e[18])-e[13]/2)+", "+(e[2](e[19])-e[12]/2)+")"),B(n,"width",e[5]),B(n,"height",e[4]),B(n,"class","svelte-12fvhy0")},m(t,e){w(t,n,e);for(let t=0;t<v.length;t+=1)v[t].m(n,null);D(n,r);for(let t=0;t<A.length;t+=1)A[t].m(n,null);D(n,i),D(n,u),D(n,s);for(let t=0;t<C.length;t+=1)C[t].m(s,null);D(n,c);for(let t=0;t<N.length;t+=1)N[t].m(c,null);D(n,f),D(f,d),D(f,p)},p(t,e){if(16445&e[0]){let i;for(m=[..."".padEnd(t[0])].map(Ml),i=0;i<m.length;i+=1){const o=vl(t,m,i);v[i]?v[i].p(o,e):(v[i]=yl(o),v[i].c(),v[i].m(n,r))}for(;i<v.length;i+=1)v[i].d(1);v.length=m.length}if(1213262&e[0]){let r;for(y=t[15],r=0;r<y.length;r+=1){const o=gl(t,y,r);A[r]?A[r].p(o,e):(A[r]=El(o),A[r].c(),A[r].m(n,i))}for(;r<A.length;r+=1)A[r].d(1);A.length=y.length}if(65664&e[0]&&o!==(o=t[7](t[16]))&&B(i,"d",o),65664&e[0]&&a!==(a=t[7](t[16]))&&B(u,"d",a),0&e){let n;for(F=li,n=0;n<F.length;n+=1){const r=pl(t,F,n);C[n]?C[n].p(r,e):(C[n]=Fl(r),C[n].c(),C[n].m(s,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=F.length}if(2060&e[0]&&l!==(l="translate("+t[3](0)+", "+(t[2](0)+t[11].height/2-7.5)+")")&&B(s,"transform",l),0&e){let n;for(M=ci,n=0;n<M.length;n+=1){const r=dl(t,M,n);N[n]?N[n].p(r,e):(N[n]=Cl(r),N[n].c(),N[n].m(c,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=M.length}1036&e[0]&&h!==(h="translate("+t[3](7)+", "+(t[2](0)+t[10].height/2-7.5)+")")&&B(c,"transform",h),8192&e[0]&&B(d,"width",t[13]),4096&e[0]&&B(d,"height",t[12]),12300&e[0]&&g!==(g="translate("+(t[3](t[18])-t[13]/2)+", "+(t[2](t[19])-t[12]/2)+")")&&B(f,"transform",g),32&e[0]&&B(n,"width",t[5]),16&e[0]&&B(n,"height",t[4])},i:t,o:t,d(t){t&&x(n),b(v,t),b(A,t),b(C,t),b(N,t)}}}const Ml=(t,e)=>e+1;function Bl(t,e,n){let r,i,o,u,a,l,c,h,f,d,p,g,m,D,v,y,w,x;s(t,Bn,(t=>n(24,D=t))),s(t,xn,(t=>n(22,v=t))),s(t,pn,(t=>n(14,y=t))),s(t,On,(t=>n(15,w=t))),s(t,Tn,(t=>n(16,x=t)));let{numX:b=7}=e,{numY:A=1}=e;I((()=>{const t=oi("#agent-g").node().getBoundingClientRect();n(13,r=t.width),n(12,i=t.height),n(11,u=oi("#reward-1").node().getBoundingClientRect()),n(10,a=oi("#reward-3").node().getBoundingClientRect()),n(21,o=oi("path.arrow-up").node().getBoundingClientRect())}));const E=D.x,F=D.y;return t.$$set=t=>{"numX"in t&&n(0,b=t.numX),"numY"in t&&n(1,A=t.numY)},t.$$.update=()=>{4194304&t.$$.dirty[0]&&n(5,l=8*v),4194304&t.$$.dirty[0]&&n(4,c=v),4194304&t.$$.dirty[0]&&console.log("lw",v),33&t.$$.dirty[0]&&n(6,h=l/b),18&t.$$.dirty[0]&&n(9,f=c/A),2097216&t.$$.dirty[0]&&n(8,d={right:{x:h/6,y:o.width/2+5},left:{x:-h/6,y:-o.width/2-5}}),33&t.$$.dirty[0]&&n(3,p=an().domain([0,b]).range([0,l])),18&t.$$.dirty[0]&&n(2,g=an().domain([0,A]).range([0,c])),12&t.$$.dirty[0]&&n(7,m=Tt().x((t=>p(t.x))).y((t=>g(t.y))))},n(13,r=20),n(12,i=20),n(21,o={height:560,width:490,x:105,y:0}),n(11,u={height:0,width:0,x:0,y:0}),n(10,a={height:30,width:0,x:0,y:0}),[b,A,g,p,c,l,h,m,d,f,a,u,i,r,y,w,x,{left:90,right:270},E,F,[[0,0],[7,0]],o,v,(t,e)=>e.length==[t%A,Math.floor(t/A)].length&&e.every(((e,n)=>[Math.floor(t/A),t%A][n]==e))]}class Nl extends ft{constructor(t){super(),ht(this,t,Bl,_l,a,{numX:0,numY:1},null,[-1,-1])}}class $l{constructor(t=[1,3],e=4,n=4,r={[[3,2]]:2,[[0,0]]:3},i={[[2,2]]:-5},o={},u=!0,a=!1,s=.4){if(this.start=t,this.state=t,this.rows=e,this.columns=n,this.board=Array(this.rows).fill(0).map((t=>Array(this.columns).fill(0))),this.exploringStarts=a,this.exploringStartsProb=s,this.deterministic=u,this.wins=r,this.losses=i,this.exploringStarts){this.availableStarts=[];for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++){var l=[t,e];l in this.wins||l in this.losses||this.availableStarts.push([t,e])}}else this.availableStarts=this.start}giveReward(){return this.state in this.wins?this.wins[this.state]:this.state in this.losses?this.losses[this.state]:0}isEndFunc(){return this.state in this.wins||this.state in this.losses}reset(t=!1){return t||(this.exploringStarts&&Math.random()<this.exploringStartsProb?this.state=this.availableStarts[Math.floor(Math.random()*this.availableStarts.length)]:this.availableStarts),[this.start,this.giveReward(),this.isEndFunc()]}step(t){var e;if(this.deterministic)return(e="up"===t?[this.state[0]-1,this.state[1]]:"down"===t?[this.state[0]+1,this.state[1]]:"left"===t?[this.state[0],this.state[1]-1]:[this.state[0],this.state[1]+1])[0]>=0&&e[0]<=this.rows-1&&e[1]>=0&&e[1]<=this.columns-1&&(this.state=e),[this.state,this.giveReward(),this.isEndFunc()]}render(){var t,e;this.board[this.state]=1;for(var n=0,r=this.rows;n<r;n+=1){console.log("-----------------"),t="| ";for(var i=0,o=this.columns;i<o;i+=1)1===this.board[[n,i]]&&(e="*"),-1===this.board[[n,i]]&&(e="z"),0===this.board[[n,i]]&&(e="0"),t+=e+" | ";console.log(t)}console.log("-----------------")}}class Sl{constructor(t,e,n,r,i="sarsa",o=.1,u=.1,a=.9,s=.7){this.actions=t>1?["up","down","left","right"]:["left","right"],this.epsilon=o,this.rows=t,this.columns=e,this.wins=n,this.losses=r,this.tdUpdate=i,this.alpha=u,this.gamma=a,this.lambda=s,this.qValues=Array(),this.resetQValues(),this.traceMatrix=Array(),this.resetTraceMatrix()}resetQValues(){this.qValues=new Array(this.rows).fill(new Array(this.columns).fill(new Array(this.actions.length).fill(0)))}resetTraceMatrix(){this.traceMatrix=new Array(this.rows).fill(new Array(this.columns).fill(new Array(this.actions.length).fill(0)))}chooseAction(t,e=!1){var n;return n=Math.random()<=this.epsilon&&!e?Math.floor(Math.random()*this.actions.length):function(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}(this.qValues[t[0]][t[1]]),[this.actions[n],n]}runEpisodes(t,e=10,n=2e3){for(var r,i,o,u,a=Array(),s=0;s<e;s+=1){a=0==a.length?Us(this.qValues,[1,this.rows,this.columns,this.actions.length]):[...a,this.qValues],[o,i,r]=t.reset();for(var l=0;l<n;l+=1){const[e,n]=this.chooseAction(o),r=this.qValues[o[0]][o[1]][n],[i,a,s]=t.step(e);this.chooseAction(i),"q-learning"==this.tdUpdate?u=a+this.gamma*Math.max.apply(null,this.qValues[i[0]][i[1]])-r:"sarsa"==this.tdUpdate?u=a+this.gamma*this.qValues[i[0]][i[1]][n]-r:print("Please set 'tdUpdate' to either 'sarsa' or 'q-learning'."),this.traceMatrix[o[0]][o[1]][n]+=1;const l=this.alpha*u;this.qValues=Ys(this.qValues,Xs(l,this.traceMatrix));const c=this.gamma*this.lambda;if(this.traceMatrix=Xs(c,this.traceMatrix),o=i,1==s)break}s==e-1&&t.reset(!0)}return a}}function Tl(e){let n,r,i,u,a,s,l,c,h,f,d,p,g,m,v,y,b,E,F,_,N,$,S,T,z,k,O,q,I,j,P,R,L,W,V,H,U,Z,Y,X,Q,J,G,K,tt,et,it,ot,ut,ct,ht,ft,dt;return P=new Nl({props:{numX:e[1],numY:zl}}),W=new fl({}),{c(){n=A("h2"),n.textContent="Navigating in a Line World",r=C(),i=A("p"),i.textContent="Let’s progress to a slightly more complex environment. Now, the robot and\n  trees are located on a line. The robot has to decide which action to take:\n  move left or move right. The main difference from the previous scenario is\n  that the robot’s actions affect its state in the environment, reflected by its\n  location. The robot must now learn how valuable each action is depending on\n  its state, where the state depends on the previous action. This defines a\n  policy that the robot can follow, by learning which action it should take in\n  each state. This is reflected by the arrow in each state, corresponding to the\n  action with the greater Q-value for that particular state.",u=C(),a=A("br"),s=A("br"),l=C(),c=A("p"),c.innerHTML='The robot currently follows a policy where it moves to the tree on the left,\n  having previously discovered that the tree yields bananas. Though the left\n  tree is closer, the right tree actually has a higher mean value, making it\n  more fruitful. If the robot strictly follows its current policy, it will\n  always move to the left tree. This is called exploitation, as the robot\n  exploits its knowledge when deciding how to pursue rewards. The robot needs to\n  explore in order to reduce the uncertainty about the tree on the right, in\n  order to learn that it actually yields greater rewards. This introduces an\n  important concept in reinforcement learning: <text class="bold">the explore-exploit dilemma</text>. Agents must balance exploiting known rewards with exploring the\n  environment, and potentially discovering more rewarding actions.',h=C(),f=A("br"),d=A("br"),p=C(),g=A("p"),g.innerHTML='Constantly performing the action that the agent believes yields the greatest\n  reward is called being greedy. This does not allow the agent to explore at\n  all, and the robot will never discover that the other tree yields greater\n  rewards. To allow for some exploration, the agent can select actions according\n  to <text class="bold">epsilon-greedy action selection</text>. This is a simple\n  way to balance exploration and exploitation, by exploring (i.e. choosing\n  randomly) with probability epsilon and exploiting by greedily following the\n  policy with probability 1-epsilon. Increasing epsilon increases exploration.',m=C(),v=A("br"),y=A("br"),b=C(),E=A("p"),E.textContent="The agent is currently choosing greedily, which is equivalent to epsilon=0.\n  See for yourself how increasing epsilon can change the agent’s behavior,\n  leading to updating the Q-values and policy.",F=C(),_=A("section"),N=A("div"),$=A("div"),$.innerHTML='<div class="step-lineworld svelte-1aqu2db" data-index="0"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">Let&#39;s observe the explore-exploit dilemma in the following\n            simulation. We assign the agent&#39;s initial policy to perpetually\n            suggest going left towards the tree that has already been\n            discovered.</p></div></div> \n      <div class="step-lineworld svelte-1aqu2db" data-index="1"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">The agent has sampled 10 episodes or trials following the\n            epsilon-greedy policy discussed before. You can see the agent still\n            prefers stepping towards the tree on the left for certain states\n            despite the one on the right producing higher rewards. Let&#39;s run\n            some more episodes...</p></div></div> \n      <div class="step-lineworld svelte-1aqu2db" data-index="2"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">The agent has now sampled 500 episodes following the epsilon-greedy\n            policy. You can observe how the agent has updated its policy to\n            prefer stepping towards the tree on the right instead.</p></div></div> \n      <div class="spacer svelte-1aqu2db"></div>',S=C(),T=A("div"),z=A("div"),k=A("div"),O=A("table"),O.innerHTML='<tr><th class="table-head svelte-1aqu2db">Agent</th> \n              <th class="table-head svelte-1aqu2db">Environment</th> \n              <th class="table-head svelte-1aqu2db">State</th> \n              <th class="table-head svelte-1aqu2db">Actions</th> \n              <th class="table-head svelte-1aqu2db">Reward</th></tr> \n            <tr><td class="svelte-1aqu2db">Robot</td> \n              <td class="svelte-1aqu2db">Line World</td> \n              <td class="svelte-1aqu2db">X-Position</td> \n              <td class="svelte-1aqu2db">Move Left, Move Right</td> \n              <td class="svelte-1aqu2db">Number of Bananas</td></tr>',q=C(),I=A("div"),j=A("div"),at(P.$$.fragment),R=C(),L=A("div"),at(W.$$.fragment),V=C(),H=A("div"),U=A("button"),U.textContent="Simulate Episode",Z=C(),Y=A("button"),Y.textContent="Run 25 Episodes",X=C(),Q=A("button"),Q.textContent="Run 50 Episodes",J=C(),G=A("button"),G.textContent="Optimal Policy",K=C(),tt=A("button"),tt.textContent="Reset",et=C(),it=A("br"),ot=A("br"),ut=C(),ct=A("p"),ct.innerHTML="Now that we have a high-level idea of how linear regression works, let&#39;s\n    dive a bit deeper. The remainder of this article will cover how to evaluate\n    regression models, how to find the &quot;best&quot; model, how to interpret different\n    forms of regression models, and the assumptions underpinning correct usage\n    of regression models in statistical settings.\n    <br/><br/> Let&#39;s dive in!",B(n,"class","body-secondary-header"),B(i,"class","body-text"),B(c,"class","body-text"),B(g,"class","body-text"),B(E,"class","body-text"),B($,"class","steps-container svelte-1aqu2db"),B(O,"class","svelte-1aqu2db"),B(j,"id","simulation-chart"),B(j,"class","svelte-1aqu2db"),B(L,"id","scatter-chart"),B(L,"class","svelte-1aqu2db"),B(I,"id","graph-container"),B(I,"class","svelte-1aqu2db"),B(U,"class","svelte-1aqu2db"),B(Y,"class","svelte-1aqu2db"),B(Q,"class","svelte-1aqu2db"),B(G,"class","svelte-1aqu2db"),B(tt,"class","svelte-1aqu2db"),B(H,"id","buttons-container"),B(H,"class","svelte-1aqu2db"),B(z,"class","chart-one svelte-1aqu2db"),B(T,"class","charts-container svelte-1aqu2db"),B(N,"class","scrolly-container svelte-1aqu2db"),B(ct,"class","body-text"),B(_,"id","scrolly"),B(_,"class","svelte-1aqu2db")},m(t,o){w(t,n,o),w(t,r,o),w(t,i,o),w(t,u,o),w(t,a,o),w(t,s,o),w(t,l,o),w(t,c,o),w(t,h,o),w(t,f,o),w(t,d,o),w(t,p,o),w(t,g,o),w(t,m,o),w(t,v,o),w(t,y,o),w(t,b,o),w(t,E,o),w(t,F,o),w(t,_,o),D(_,N),D(N,$),D(N,S),D(N,T),D(T,z),D(z,k),D(k,O),D(k,q),D(k,I),D(I,j),st(P,j,null),D(I,R),D(I,L),st(W,L,null),D(k,V),D(k,H),D(H,U),D(H,Z),D(H,Y),D(H,X),D(H,Q),D(H,J),D(H,G),D(H,K),D(H,tt),D(_,et),D(_,it),D(_,ot),D(_,ut),D(_,ct),ht=!0,ft||(dt=[M(U,"click",e[5]),M(Y,"click",e[6]),M(Q,"click",e[7]),M(G,"click",Il),M(tt,"click",e[8])],ft=!0)},p:t,i(t){ht||(nt(P.$$.fragment,t),nt(W.$$.fragment,t),ht=!0)},o(t){rt(P.$$.fragment,t),rt(W.$$.fragment,t),ht=!1},d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(u),t&&x(a),t&&x(s),t&&x(l),t&&x(c),t&&x(h),t&&x(f),t&&x(d),t&&x(p),t&&x(g),t&&x(m),t&&x(v),t&&x(y),t&&x(b),t&&x(E),t&&x(F),t&&x(_),lt(P),lt(W),ft=!1,o(dt)}}}const zl=1,kl=3.5,Ol=.5;function ql(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}const Il=()=>"";function jl(t,e,n){let r,i,o;s(t,On,(t=>n(11,r=t))),s(t,Tn,(t=>n(12,i=t))),s(t,mn,(t=>n(13,o=t)));i[0].x,i[0].y;const u=new $l([0,3],zl,8,{[[0,0]]:1,[[0,7]]:7},{},!0,!0,.7),a=new Sl(u.rows,u.columns,u.wins,u.losses,"q-learning",o,.1,.7,.5);var l=Array();function h(t,e){let n=a.runEpisodes(u,t);for(let r=0;r<t;r++)e.push(n[r]);p(),Bn.set({x:kl,y:Ol}),Tn.set([{x:kl,y:Ol}]),e=Array()}function f(t=15){Bn.set({x:kl,y:Ol}),Tn.set([{x:kl,y:Ol}]);let e,n,o=3,a=0;for(let l=0;l<t&&(!([a,o]in u.wins)&&!([a,o]in u.losses));l++){let t=r[o];var s="left";t.maxDirection.length&&(s=t.maxDirection[t.maxDirection.length-1]),"left"==s?(e=o-1,n=a):"right"==s&&(e=o+1,n=a),e>=0&&e<=u.columns-1&&(o=e,a=n),Bn.set({x:o+.5,y:a+.5});const l=[...i,{x:o+.5,y:a+.5}];Tn.set(l)}}function d(){Bn.set({x:kl,y:Ol}),a.resetQValues(),a.resetTraceMatrix(),Tn.set([{x:kl,y:Ol}]),On.set([{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]}]),n(0,l=Array()),p()}function p(){if(0!=l.length){for(let t=0;t<l.length;t++){const e=r.map(((e,n)=>{const r=l[t][0][n][0],i=l[t][0][n][1],o=ql([r,i]);let u;0==o?u="left":1==o&&(u="right");const a=Math.abs(r)+Math.abs(i);return{episodeNumber:[...Array(e.left.length+1).keys()],left:[...e.left,l[t][0][n][0]],right:[...e.right,l[t][0][n][1]],maxDirection:[...e.maxDirection,u],leftWeight:[...e.leftWeight,r/a||0],rightWeight:[...e.rightWeight,i/a||0]}}));c(On,r=[...e],r)}n(0,l=Array())}}d();const g={0:()=>{d(),console.log("step 0")},1:()=>{h(10,l),console.log("step 1")},2:()=>{console.log("step 2"),h(500,l)},3:()=>{console.log("step")},4:()=>{console.log("step")},5:()=>{}};I((()=>{ui(".step-lineworld").nodes().forEach((t=>{m.observe(t)}))}));let m=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target.getAttribute("data-index");e in g&&function(t){t in g&&g[t]()}(e)}}))}),{threshold:.7});return[l,8,h,f,d,()=>f(),()=>h(25,l),()=>h(50,l),()=>d()]}class Pl extends ft{constructor(t){super(),ht(this,t,jl,Tl,a,{})}}function Rl(t,{delay:e=0,speed:n,duration:r,easing:i=cn}={}){let o=t.getTotalLength();const u=getComputedStyle(t);return"butt"!==u.strokeLinecap&&(o+=parseInt(u.strokeWidth)),void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function Ll(t,e,n){const r=t.slice();return r[15]=e[n],r}function Wl(t,e,n){const r=t.slice();return r[15]=e[n],r}function Vl(t){let e,n,r,i,o=(t[15]%t[5]==0?t[11](t[15]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(o),B(n,"class","axis-text svelte-1hzhiy1"),B(n,"y","7"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[3](t[15])+0} ${t[0]-t[4].bottom})`)},m(t,i){w(t,e,i),D(e,n),D(n,r)},p(t,n){40&n&&o!==(o=(t[15]%t[5]==0?t[11](t[15]):"")+"")&&N(r,o),25&n&&i!==(i=`translate(${t[3](t[15])+0} ${t[0]-t[4].bottom})`)&&B(e,"transform",i)},d(t){t&&x(e)}}}function Hl(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,v=(t[15]%2==0?t[11](t[15]):"")+"";return{c(){e=E("g"),n=E("text"),r=F(v),o=C(),u=E("line"),h=C(),f=E("line"),B(n,"class","axis-text svelte-1hzhiy1"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[4].left-5} ${t[2](t[15])+0})`),B(u,"class","axis-line"),B(u,"x1",a=t[4].left),B(u,"x2",s=t[4].left),B(u,"y1",l=t[4].top),B(u,"y2",c=t[0]-t[4].bottom),B(u,"stroke","black"),B(f,"class","axis-line"),B(f,"x1",d=t[4].left),B(f,"x2",p=t[1]-t[4].right),B(f,"y1",g=t[0]-t[4].bottom),B(f,"y2",m=t[0]-t[4].bottom),B(f,"stroke","black")},m(t,i){w(t,e,i),D(e,n),D(n,r),w(t,o,i),w(t,u,i),w(t,h,i),w(t,f,i)},p(t,n){4&n&&v!==(v=(t[15]%2==0?t[11](t[15]):"")+"")&&N(r,v),20&n&&i!==(i=`translate(${t[4].left-5} ${t[2](t[15])+0})`)&&B(e,"transform",i),16&n&&a!==(a=t[4].left)&&B(u,"x1",a),16&n&&s!==(s=t[4].left)&&B(u,"x2",s),16&n&&l!==(l=t[4].top)&&B(u,"y1",l),17&n&&c!==(c=t[0]-t[4].bottom)&&B(u,"y2",c),16&n&&d!==(d=t[4].left)&&B(f,"x1",d),18&n&&p!==(p=t[1]-t[4].right)&&B(f,"x2",p),17&n&&g!==(g=t[0]-t[4].bottom)&&B(f,"y1",g),17&n&&m!==(m=t[0]-t[4].bottom)&&B(f,"y2",m)},d(t){t&&x(e),t&&x(o),t&&x(u),t&&x(h),t&&x(f)}}}function Ul(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D,v,y,A=t[3].ticks(),F=[];for(let e=0;e<A.length;e+=1)F[e]=Vl(Wl(t,A,e));let M=t[2].ticks(),N=[];for(let e=0;e<M.length;e+=1)N[e]=Hl(Ll(t,M,e));return{c(){e=E("path"),i=C(),o=E("path"),s=C(),l=E("path"),f=C(),d=E("path"),m=C();for(let t=0;t<F.length;t+=1)F[t].c();D=C();for(let t=0;t<N.length;t+=1)N[t].c();v=_(),B(e,"class","q-path pathUp-line svelte-1hzhiy1"),B(e,"d",n=t[6](t[10])),B(o,"class","q-path pathDown-line svelte-1hzhiy1"),B(o,"d",u=t[6](t[9])),B(l,"class","q-path pathLeft-line svelte-1hzhiy1"),B(l,"d",c=t[6](t[8])),B(d,"class","q-path pathRight-line svelte-1hzhiy1"),B(d,"d",p=t[6](t[7]))},m(t,n){w(t,e,n),w(t,i,n),w(t,o,n),w(t,s,n),w(t,l,n),w(t,f,n),w(t,d,n),w(t,m,n);for(let e=0;e<F.length;e+=1)F[e].m(t,n);w(t,D,n);for(let e=0;e<N.length;e+=1)N[e].m(t,n);w(t,v,n),y=!0},p(t,[r]){if((!y||1088&r&&n!==(n=t[6](t[10])))&&B(e,"d",n),(!y||576&r&&u!==(u=t[6](t[9])))&&B(o,"d",u),(!y||320&r&&c!==(c=t[6](t[8])))&&B(l,"d",c),(!y||192&r&&p!==(p=t[6](t[7])))&&B(d,"d",p),2105&r){let e;for(A=t[3].ticks(),e=0;e<A.length;e+=1){const n=Wl(t,A,e);F[e]?F[e].p(n,r):(F[e]=Vl(n),F[e].c(),F[e].m(D.parentNode,D))}for(;e<F.length;e+=1)F[e].d(1);F.length=A.length}if(2071&r){let e;for(M=t[2].ticks(),e=0;e<M.length;e+=1){const n=Ll(t,M,e);N[e]?N[e].p(n,r):(N[e]=Hl(n),N[e].c(),N[e].m(v.parentNode,v))}for(;e<N.length;e+=1)N[e].d(1);N.length=M.length}},i(t){y||(H((()=>{r||(r=ot(e,Rl,{duration:2e3},!0)),r.run(1)})),H((()=>{a||(a=ot(o,Rl,{duration:2e3},!0)),a.run(1)})),H((()=>{h||(h=ot(l,Rl,{duration:2e3},!0)),h.run(1)})),H((()=>{g||(g=ot(d,Rl,{duration:2e3},!0)),g.run(1)})),y=!0)},o(t){r||(r=ot(e,Rl,{duration:2e3},!1)),r.run(0),a||(a=ot(o,Rl,{duration:2e3},!1)),a.run(0),h||(h=ot(l,Rl,{duration:2e3},!1)),h.run(0),g||(g=ot(d,Rl,{duration:2e3},!1)),g.run(0),y=!1},d(t){t&&x(e),t&&r&&r.end(),t&&x(i),t&&x(o),t&&a&&a.end(),t&&x(s),t&&x(l),t&&h&&h.end(),t&&x(f),t&&x(d),t&&g&&g.end(),t&&x(m),b(F,t),t&&x(D),b(N,t),t&&x(v)}}}function Zl(t,e,n){let r,i,o,u,a,l,c,h,f,d,p;s(t,qn,(t=>n(14,d=t))),s(t,wn,(t=>n(4,p=t)));let{height:g=500}=e,{width:m=500}=e,{index:D=0}=e;const v=Ke(".2d");return t.$$set=t=>{"height"in t&&n(0,g=t.height),"width"in t&&n(1,m=t.width),"index"in t&&n(12,D=t.index)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r=d[0].up.length),8210&t.$$.dirty&&n(3,i=an().domain([0,r+1]).range([p.left,m-p.right])),17&t.$$.dirty&&n(2,o=an().domain([-5,10]).range([g-p.bottom,p.top])),20480&t.$$.dirty&&n(10,u=d[D].up.map(((t,e)=>({x:e,y:t})))),20480&t.$$.dirty&&n(9,a=d[D].down.map(((t,e)=>({x:e,y:t})))),20480&t.$$.dirty&&n(8,l=d[D].left.map(((t,e)=>({x:e,y:t})))),20480&t.$$.dirty&&n(7,c=d[D].right.map(((t,e)=>({x:e,y:t})))),16&t.$$.dirty&&console.log("gm",p.top),12&t.$$.dirty&&n(6,h=Tt().x((t=>i(t.x))).y((t=>o(t.y)))),20480&t.$$.dirty&&n(5,f=d[D].up.length>400?150:d[D].up.length>100?50:10)},[g,m,o,i,p,f,h,c,l,a,u,v,D,r,d]}class Yl extends ft{constructor(t){super(),ht(this,t,Zl,Ul,a,{height:0,width:1,index:12})}}function Xl(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Ql(t){let e,n,r,i;return n=new Yl({props:{index:t[11],width:t[5],height:t[4]}}),{c(){e=E("g"),at(n.$$.fragment),B(e,"transform",r="translate("+t[3](t[9].x)+", "+t[2](t[9].y)+")")},m(t,r){w(t,e,r),st(n,e,null),i=!0},p(t,o){const u={};32&o&&(u.width=t[5]),16&o&&(u.height=t[4]),n.$set(u),(!i||12&o&&r!==(r="translate("+t[3](t[9].x)+", "+t[2](t[9].y)+")"))&&B(e,"transform",r)},i(t){i||(nt(n.$$.fragment,t),i=!0)},o(t){rt(n.$$.fragment,t),i=!1},d(t){t&&x(e),lt(n)}}}function Jl(t){let e,n,r=t[6],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ql(Xl(t,r,e));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=E("svg");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"width",t[1]),B(e,"height",t[0]),B(e,"class","svelte-1w0xqs8")},m(t,r){w(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[u]){if(124&u){let n;for(r=t[6],n=0;n<r.length;n+=1){const o=Xl(t,r,n);i[n]?(i[n].p(o,u),nt(i[n],1)):(i[n]=Ql(o),i[n].c(),nt(i[n],1),i[n].m(e,null))}for(tt(),n=r.length;n<i.length;n+=1)o(n);et()}(!n||2&u)&&B(e,"width",t[1]),(!n||1&u)&&B(e,"height",t[0])},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&x(e),b(i,t)}}}function Gl(t,e,n){let r,i,o,u,a,l;s(t,yn,(t=>n(0,a=t))),s(t,vn,(t=>n(1,l=t)));let{numX:c=4}=e,{numY:h=4}=e,f=[];for(let t=0;t<c;t++)for(let e=0;e<h;e++)f.push({x:t,y:e});return t.$$set=t=>{"numX"in t&&n(7,c=t.numX),"numY"in t&&n(8,h=t.numY)},t.$$.update=()=>{130&t.$$.dirty&&n(5,r=l/c),257&t.$$.dirty&&n(4,i=a/h),130&t.$$.dirty&&n(3,o=an().domain([0,c]).range([0,l])),257&t.$$.dirty&&n(2,u=an().domain([0,h]).range([0,a]))},[a,l,u,o,i,r,f,c,h]}class Kl extends ft{constructor(t){super(),ht(this,t,Gl,Jl,a,{numX:7,numY:8})}}function tc(t,e,n){const r=t.slice();return r[25]=e[n],r}function ec(t,e,n){const r=t.slice();return r[25]=e[n],r}function nc(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function rc(t,e,n){const r=t.slice();return r[33]=e[n],r}function ic(t,e,n){const r=t.slice();return r[36]=e[n],r}function oc(t,e,n){const r=t.slice();return r[39]=e[n],r}function uc(t){let e,n,r,i,o,u,a,s,l,c,h,f,d=t[39]+"",p=t[39]+"";return{c(){e=E("g"),n=E("line"),i=E("text"),o=F(d),a=E("g"),s=E("line"),c=E("text"),h=F(p),B(n,"class","grid-line svelte-dj5nfr"),B(n,"x1","0"),B(n,"x2","0"),B(n,"y1","0"),B(n,"y2",r=-t[5]+t[15].bottom+t[15].top),B(i,"class","auc-axis-text"),B(i,"y","15"),B(i,"text-anchor","middle"),B(e,"transform",u=`translate(${t[1](t[39])+0} ${t[5]-t[15].bottom})`),B(s,"class","grid-line svelte-dj5nfr"),B(s,"x1","0"),B(s,"x2",l=t[6]-t[15].right-t[15].left),B(s,"y1","0"),B(s,"y2","0"),B(c,"class","auc-axis-text"),B(c,"y","0"),B(c,"text-anchor","end"),B(c,"dominant-baseline","middle"),B(a,"transform",f=`translate(${t[15].left} ${t[0](t[39])+0})`)},m(t,r){w(t,e,r),D(e,n),D(e,i),D(i,o),w(t,a,r),D(a,s),D(a,c),D(c,h)},p(t,i){32800&i[0]&&r!==(r=-t[5]+t[15].bottom+t[15].top)&&B(n,"y2",r),32802&i[0]&&u!==(u=`translate(${t[1](t[39])+0} ${t[5]-t[15].bottom})`)&&B(e,"transform",u),32832&i[0]&&l!==(l=t[6]-t[15].right-t[15].left)&&B(s,"x2",l),32769&i[0]&&f!==(f=`translate(${t[15].left} ${t[0](t[39])+0})`)&&B(a,"transform",f)},d(t){t&&x(e),t&&x(a)}}}function ac(t){let e,n=["up","down","left","right"],r=[];for(let e=0;e<4;e+=1)r[e]=cc(rc(t,n,e));return{c(){for(let t=0;t<4;t+=1)r[t].c();e=_()},m(t,n){for(let e=0;e<4;e+=1)r[e].m(t,n);w(t,e,n)},p(t,i){if(328192&i[0]){let o;for(n=["up","down","left","right"],o=0;o<4;o+=1){const u=rc(t,n,o);r[o]?r[o].p(u,i):(r[o]=cc(u),r[o].c(),r[o].m(e.parentNode,e))}for(;o<4;o+=1)r[o].d(1)}},d(t){b(r,t),t&&x(e)}}}function sc(e){let n,r=console.log("skip")+"";return{c(){n=F(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function lc(t){let e,n;return{c(){e=E("path"),B(e,"d",t[36]),B(e,"class",l(`arrow-${t[33]} arrow`)+" svelte-dj5nfr"),B(e,"stroke-width",0),B(e,"transform",`rotate(${t[18][t[33]]}) scale(0.05)`),B(e,"opacity",n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])},m(t,n){w(t,e,n)},p(t,r){65536&r[0]&&n!==(n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])&&B(e,"opacity",n)},d(t){t&&x(e)}}}function cc(t){let e,n,r=ai,i=[];for(let e=0;e<r.length;e+=1)i[e]=lc(ic(t,r,e));return{c(){e=E("g");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"transform",n="translate("+t[9][t[33]].x+", "+t[9][t[33]].y+")")},m(t,n){w(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(327680&o[0]){let n;for(r=ai,n=0;n<r.length;n+=1){const u=ic(t,r,n);i[n]?i[n].p(u,o):(i[n]=lc(u),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}512&o[0]&&n!==(n="translate("+t[9][t[33]].x+", "+t[9][t[33]].y+")")&&B(e,"transform",n)},d(t){t&&x(e),b(i,t)}}}function hc(t){let e,n,r;function i(...e){return t[22](t[32],...e)}function o(t,e){return 128&e[0]&&(n=null),null==n&&(n=!!t[7].some(i)),n?sc:ac}let u=o(t,[-1,-1]),a=u(t);return{c(){e=E("g"),a.c(),B(e,"transform",r="translate("+(t[1](Math.floor(t[32]/mc))+t[2]/2)+", "+(t[0](t[32]%mc)+t[10]/2)+")")},m(t,n){w(t,e,n),a.m(e,null)},p(n,i){u===(u=o(t=n,i))&&a?a.p(t,i):(a.d(1),a=u(t),a&&(a.c(),a.m(e,null))),1031&i[0]&&r!==(r="translate("+(t[1](Math.floor(t[32]/mc))+t[2]/2)+", "+(t[0](t[32]%mc)+t[10]/2)+")")&&B(e,"transform",r)},d(t){t&&x(e),a.d()}}}function fc(e){let n;return{c(){n=E("path"),B(n,"class","bananaPath svelte-dj5nfr"),B(n,"d",e[25]),B(n,"transform","scale(0.13)")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function dc(e){let n;return{c(){n=E("path"),B(n,"class","bananaPath svelte-dj5nfr"),B(n,"d",e[25]),$(n,"transform","scale(0.13)")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function pc(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m=[..."".padEnd(gc)].map(Dc),v=[];for(let t=0;t<m.length;t+=1)v[t]=uc(oc(e,m,t));let y=e[16],A=[];for(let t=0;t<y.length;t+=1)A[t]=hc(nc(e,y,t));let F=li,C=[];for(let t=0;t<F.length;t+=1)C[t]=fc(ec(e,F,t));let M=ci,N=[];for(let t=0;t<M.length;t+=1)N[t]=dc(tc(e,M,t));return{c(){n=E("svg");for(let t=0;t<v.length;t+=1)v[t].c();r=_();for(let t=0;t<A.length;t+=1)A[t].c();i=E("path"),u=E("path"),s=E("g");for(let t=0;t<C.length;t+=1)C[t].c();c=E("g");for(let t=0;t<N.length;t+=1)N[t].c();f=E("g"),d=E("rect"),p=E("path"),B(i,"class","agent-line-outline svelte-dj5nfr"),B(i,"d",o=e[8](e[17])),B(u,"class","agent-line svelte-dj5nfr"),B(u,"d",a=e[8](e[17])),B(s,"id","reward-1"),B(s,"transform",l="translate("+e[1](e[4][0])+", "+(e[0](e[4][1])+e[12].height/2-7.5)+")"),B(c,"id","reward-3"),B(c,"transform",h="translate("+e[1](e[3][0])+", "+(e[0](e[3][1])+e[11].height/2-7.5)+")"),B(d,"class","agent-rect svelte-dj5nfr"),B(d,"width",e[14]),B(d,"height",e[13]),B(p,"d",si),$(p,"transform","scale(0.1)"),B(p,"stroke","white"),B(p,"stroke-width","1"),B(p,"fill","black"),B(f,"id","agent-g"),B(f,"transform",g="translate("+(e[1](e[19])-e[14]/2)+", "+(e[0](e[20])-e[13]/2)+")"),B(n,"width",e[6]),B(n,"height",e[5]),B(n,"class","svelte-dj5nfr")},m(t,e){w(t,n,e);for(let t=0;t<v.length;t+=1)v[t].m(n,null);D(n,r);for(let t=0;t<A.length;t+=1)A[t].m(n,null);D(n,i),D(n,u),D(n,s);for(let t=0;t<C.length;t+=1)C[t].m(s,null);D(n,c);for(let t=0;t<N.length;t+=1)N[t].m(c,null);D(n,f),D(f,d),D(f,p)},p(t,e){if(32867&e[0]){let i;for(m=[..."".padEnd(gc)].map(Dc),i=0;i<m.length;i+=1){const o=oc(t,m,i);v[i]?v[i].p(o,e):(v[i]=uc(o),v[i].c(),v[i].m(n,r))}for(;i<v.length;i+=1)v[i].d(1);v.length=m.length}if(329351&e[0]){let r;for(y=t[16],r=0;r<y.length;r+=1){const o=nc(t,y,r);A[r]?A[r].p(o,e):(A[r]=hc(o),A[r].c(),A[r].m(n,i))}for(;r<A.length;r+=1)A[r].d(1);A.length=y.length}if(131328&e[0]&&o!==(o=t[8](t[17]))&&B(i,"d",o),131328&e[0]&&a!==(a=t[8](t[17]))&&B(u,"d",a),0&e){let n;for(F=li,n=0;n<F.length;n+=1){const r=ec(t,F,n);C[n]?C[n].p(r,e):(C[n]=fc(r),C[n].c(),C[n].m(s,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=F.length}if(4115&e[0]&&l!==(l="translate("+t[1](t[4][0])+", "+(t[0](t[4][1])+t[12].height/2-7.5)+")")&&B(s,"transform",l),0&e){let n;for(M=ci,n=0;n<M.length;n+=1){const r=tc(t,M,n);N[n]?N[n].p(r,e):(N[n]=dc(r),N[n].c(),N[n].m(c,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=M.length}2059&e[0]&&h!==(h="translate("+t[1](t[3][0])+", "+(t[0](t[3][1])+t[11].height/2-7.5)+")")&&B(c,"transform",h),16384&e[0]&&B(d,"width",t[14]),8192&e[0]&&B(d,"height",t[13]),24579&e[0]&&g!==(g="translate("+(t[1](t[19])-t[14]/2)+", "+(t[0](t[20])-t[13]/2)+")")&&B(f,"transform",g),64&e[0]&&B(n,"width",t[6]),32&e[0]&&B(n,"height",t[5])},i:t,o:t,d(t){t&&x(n),b(v,t),b(A,t),b(C,t),b(N,t)}}}let gc=4,mc=4;const Dc=(t,e)=>e+1;function vc(t,e,n){let r,i,o,u,a,l,c,h,f,d,p,g,m,D,v,y,w,x,b,A;s(t,Sn,(t=>n(3,m=t))),s(t,$n,(t=>n(4,D=t))),s(t,yn,(t=>n(5,v=t))),s(t,vn,(t=>n(6,y=t))),s(t,Nn,(t=>n(23,w=t))),s(t,pn,(t=>n(15,x=t))),s(t,qn,(t=>n(16,b=t))),s(t,zn,(t=>n(17,A=t))),I((()=>{const t=oi("#agent-g").node().getBoundingClientRect();n(14,r=t.width),n(13,i=t.height),n(12,u=oi("#reward-1").node().getBoundingClientRect()),n(11,a=oi("#reward-3").node().getBoundingClientRect()),n(21,o=oi("path.arrow-up").node().getBoundingClientRect())}));const E=w.x,F=w.y;return t.$$.update=()=>{64&t.$$.dirty[0]&&n(2,l=y/gc),32&t.$$.dirty[0]&&n(10,c=v/mc),2097156&t.$$.dirty[0]&&n(9,h={up:{x:o.width/2+5,y:-l/6},down:{x:-o.width/2-5,y:l/6},right:{x:l/6,y:o.width/2+5},left:{x:-l/6,y:-o.width/2-5}}),64&t.$$.dirty[0]&&n(1,f=an().domain([0,gc]).range([0,y])),32&t.$$.dirty[0]&&n(0,d=an().domain([0,mc]).range([0,v])),3&t.$$.dirty[0]&&n(8,p=Tt().x((t=>f(t.x))).y((t=>d(t.y)))),24&t.$$.dirty[0]&&n(7,g=[D,m])},n(14,r=20),n(13,i=20),n(21,o={height:0,width:0,x:105,y:0}),n(12,u={height:0,width:0,x:0,y:0}),n(11,a={height:30,width:0,x:0,y:0}),[d,f,l,m,D,v,y,g,p,h,c,a,u,i,r,x,b,A,{up:180,down:0,left:90,right:270},E,F,o,(t,e)=>e.length==[Math.floor(t/mc),t%mc].length&&e.every(((e,n)=>[Math.floor(t/mc),t%mc][n]==e))]}class yc extends ft{constructor(t){super(),ht(this,t,vc,pc,a,{},null,[-1,-1])}}function wc(e){let n,r,i,u,a,s,l,c,h,f,d,p,g,m,v,y,b,E,F,_,N,$,S,T,z,k,O,q,I,j,P,R,L,W,V,H,U,Z,Y,X,Q;return z=new yc({}),O=new Kl({}),{c(){n=A("h2"),n.textContent="Navigating in a Grid World",r=C(),i=A("p"),i.textContent="Now the robot is in a commonly used environment in reinforcement learning: the\n  gridworld. The robot can now move left, right, up, and down. Again, the\n  robot’s actions affect the environment by changing its state in the grid.",u=C(),a=A("br"),s=A("br"),l=C(),c=A("p"),c.textContent="There is an obstacle in the gridworld: a lake. If the robot falls into the\n  lake, it will lose all of its bananas and the episode will end. Therefore, the\n  robot should learn to avoid the obstacle. Instead of learning to move left or\n  right as in the line world, now the robot must learn the path to take.",h=C(),f=A("br"),d=A("br"),p=C(),g=A("p"),g.textContent="See for yourself how increasing epsilon can change the agent’s behavior in\n  this 2-Dimensional environment.",m=C(),v=A("section"),y=A("div"),b=A("div"),b.innerHTML='<div class="step-gridworld svelte-17z3il2" data-index="0"><div class="step-content svelte-17z3il2"><p class="svelte-17z3il2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic ipsam\n            quam impedit, dicta tempore facere minus labore necessitatibus\n            explicabo, iusto incidunt natus tempora doloremque illum eum\n            repellendus, mollitia suscipit dolor vitae! Velit cupiditate quas\n            assumenda mollitia rerum asperiores ullam nostrum corrupti animi\n            perferendis reprehenderit magnam ad autem eligendi, blanditiis\n            tempora?</p></div></div> \n      <div class="step-gridworld svelte-17z3il2" data-index="1"><div class="step-content svelte-17z3il2"><p class="svelte-17z3il2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic ipsam\n            quam impedit, dicta tempore facere minus labore necessitatibus\n            explicabo, iusto incidunt natus tempora doloremque illum eum\n            repellendus, mollitia suscipit dolor vitae! Velit cupiditate quas\n            assumenda mollitia rerum asperiores ullam nostrum corrupti animi\n            perferendis reprehenderit magnam ad autem eligendi, blanditiis\n            tempora?</p></div></div> \n      <div class="spacer svelte-17z3il2"></div>',E=C(),F=A("div"),_=A("div"),N=A("div"),$=A("table"),$.innerHTML='<tr><th class="table-head svelte-17z3il2">Agent</th> \n              <th class="table-head svelte-17z3il2">Environment</th> \n              <th class="table-head svelte-17z3il2">State</th> \n              <th class="table-head svelte-17z3il2">Actions</th> \n              <th class="table-head svelte-17z3il2">Reward</th></tr> \n            <tr><td class="svelte-17z3il2">Robot</td> \n              <td class="svelte-17z3il2">Grid World</td> \n              <td class="svelte-17z3il2">X,Y-Position</td> \n              <td class="svelte-17z3il2">Move Left, Move Right, Move Up, Move Down</td> \n              <td class="svelte-17z3il2">Number of Bananas</td></tr>',S=C(),T=A("div"),at(z.$$.fragment),k=C(),at(O.$$.fragment),q=C(),I=A("div"),j=A("button"),j.textContent="Current Route",P=C(),R=A("button"),R.textContent="Run 25 Episodes",L=C(),W=A("button"),W.textContent="Run 150 Episodes",V=C(),H=A("button"),H.textContent="Optimal Solution",U=C(),Z=A("button"),Z.textContent="Reset",B(n,"class","body-secondary-header"),B(i,"class","body-text"),B(c,"class","body-text"),B(g,"class","body-text"),B(b,"class","steps-container svelte-17z3il2"),B($,"class","svelte-17z3il2"),B(T,"id","graph-container"),B(T,"class","svelte-17z3il2"),B(j,"class","svelte-17z3il2"),B(R,"class","svelte-17z3il2"),B(W,"class","svelte-17z3il2"),B(H,"class","svelte-17z3il2"),B(Z,"class","svelte-17z3il2"),B(I,"id","buttons-container"),B(I,"class","svelte-17z3il2"),B(_,"class","chart-one svelte-17z3il2"),B(F,"class","charts-container svelte-17z3il2"),B(y,"class","scrolly-container svelte-17z3il2"),B(v,"id","scrolly"),B(v,"class","svelte-17z3il2")},m(t,o){w(t,n,o),w(t,r,o),w(t,i,o),w(t,u,o),w(t,a,o),w(t,s,o),w(t,l,o),w(t,c,o),w(t,h,o),w(t,f,o),w(t,d,o),w(t,p,o),w(t,g,o),w(t,m,o),w(t,v,o),D(v,y),D(y,b),D(y,E),D(y,F),D(F,_),D(_,N),D(N,$),D(N,S),D(N,T),st(z,T,null),D(T,k),st(O,T,null),D(N,q),D(N,I),D(I,j),D(I,P),D(I,R),D(I,L),D(I,W),D(I,V),D(I,H),D(I,U),D(I,Z),Y=!0,X||(Q=[M(j,"click",e[4]),M(R,"click",e[5]),M(W,"click",e[6]),M(H,"click",Ec),M(Z,"click",e[7])],X=!0)},p:t,i(t){Y||(nt(z.$$.fragment,t),nt(O.$$.fragment,t),Y=!0)},o(t){rt(z.$$.fragment,t),rt(O.$$.fragment,t),Y=!1},d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(u),t&&x(a),t&&x(s),t&&x(l),t&&x(c),t&&x(h),t&&x(f),t&&x(d),t&&x(p),t&&x(g),t&&x(m),t&&x(v),lt(z),lt(O),X=!1,o(Q)}}}const xc=3.5,bc=1.5;function Ac(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}const Ec=()=>"";function Fc(t,e,n){let r,i,o,u,a;s(t,qn,(t=>n(10,r=t))),s(t,zn,(t=>n(11,i=t))),s(t,Dn,(t=>n(12,o=t))),s(t,$n,(t=>n(13,u=t))),s(t,Sn,(t=>n(14,a=t)));i[0].x,i[0].y;const l=new $l([3,0],4,4,{[a]:10,[u]:2},{[[2,2]]:-5},!0,!0,.9),h=new Sl(l.rows,l.columns,l.wins,l.losses,"q-learning",o,.1,.7,.5);var f=Array();function d(t,e){let n=h.runEpisodes(l,t);for(let r=0;r<t;r++)e.push(n[r]);m(),Nn.set({x:xc,y:bc}),zn.set([{x:xc,y:bc}]),e=Array()}function p(t=15){Nn.set({x:xc,y:bc}),zn.set([{x:xc,y:bc}]);let e,n,o=3,u=1;for(let s=0;s<t&&(!([u,o]in l.wins)&&!([u,o]in l.losses));s++){let t=r[u+4*o];var a="up";t.maxDirection.length&&(a=t.maxDirection[t.maxDirection.length-1]),"up"==a?(e=o,n=u-1):"down"==a?(e=o,n=u+1):"left"==a?(e=o-1,n=u):(e=o+1,n=u),e>=0&&e<=l.rows-1&&n>=0&&n<=l.columns-1&&(o=e,u=n),Nn.set({x:o+.5,y:u+.5});const s=[...i,{x:o+.5,y:u+.5}];zn.set(s)}}function g(){Nn.set({x:xc,y:bc}),h.resetQValues(),h.resetTraceMatrix(),zn.set([{x:xc,y:bc}]),qn.set([{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[],upWeight:[],downWeight:[],leftWeight:[],rightWeight:[]}]),n(0,f=Array()),m()}function m(){if(0!=f.length){for(let t=0;t<f.length;t++){const e=r.map(((e,n)=>{const r=n%4,i=Math.floor(n/4),o=f[t][r][i][0],u=f[t][r][i][1],a=f[t][r][i][2],s=f[t][r][i][3],l=Ac([o,u,a,s]);let c;0==l?c="up":1==l?c="down":2==l?c="left":3==l&&(c="right");const h=Math.abs(o)+Math.abs(u)+Math.abs(a)+Math.abs(s);return{episodeNumber:[...Array(e.up.length+1).keys()],up:[...e.up,o],down:[...e.down,u],left:[...e.left,a],right:[...e.right,s],maxDirection:[...e.maxDirection,c],upWeight:[...e.upWeight,o/h||0],downWeight:[...e.downWeight,u/h||0],leftWeight:[...e.leftWeight,a/h||0],rightWeight:[...e.rightWeight,s/h||0]}}));c(qn,r=[...e],r)}n(0,f=Array())}}g();const D={0:()=>{d(25,f),console.log("step")},1:()=>{console.log("step")},2:()=>{console.log("step")},3:()=>{console.log("step")},4:()=>{console.log("step")},5:()=>{}};I((()=>{ui(".step-gridworld").nodes().forEach((t=>{v.observe(t)}))}));let v=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target.getAttribute("data-index");e in D&&function(t){t in D&&D[t]()}(e)}}))}),{threshold:.7});return[f,d,p,g,()=>p(),()=>d(25,f),()=>d(150,f),()=>g()]}class Cc extends ft{constructor(t){super(),ht(this,t,Fc,wc,a,{})}}function _c(e){let n,r,i,o,u,a,s,l,c,h;return u=new tl({}),s=new Pl({}),c=new Cc({}),{c(){n=A("h1"),n.textContent="Simulation",r=C(),i=A("p"),i.textContent="Let’s see reinforcement learning in action! We’ll walk through a scenario with\n  a robot learning to find bananas.",o=C(),at(u.$$.fragment),a=C(),at(s.$$.fragment),l=C(),at(c.$$.fragment),B(n,"class","body-header"),B(i,"class","body-text")},m(t,e){w(t,n,e),w(t,r,e),w(t,i,e),w(t,o,e),st(u,t,e),w(t,a,e),st(s,t,e),w(t,l,e),st(c,t,e),h=!0},p:t,i(t){h||(nt(u.$$.fragment,t),nt(s.$$.fragment,t),nt(c.$$.fragment,t),h=!0)},o(t){rt(u.$$.fragment,t),rt(s.$$.fragment,t),rt(c.$$.fragment,t),h=!1},d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(o),lt(u,t),t&&x(a),lt(s,t),t&&x(l),lt(c,t)}}}class Mc extends ft{constructor(t){super(),ht(this,t,null,_c,a,{})}}function Bc(e){let n,r,i,o,u,a,s;return{c(){n=A("h1"),n.textContent="Conclusion",r=C(),i=A("p"),i.textContent="In this article, we introduced some of the major concepts in reinforcement\n  learning. We demonstrated how an agent learns from taking actions and\n  observing rewards in a multi-armed bandit problem, as well as when navigating\n  in multi-dimensional environments.",o=C(),u=A("br"),a=C(),s=A("p"),s.innerHTML='Thanks for reading. We hope that the article is insightful no matter where you\n  are along your Machine Learning journey, and that you came away with a better\n  understanding of some of the difficulties of evaluating classification models.\n  <br/><br/>\n  To learn more about Machine Learning, check out our\n  <a class="on-end" href="https://aws.amazon.com/machine-learning/mlu/">self-paced courses</a>, our\n  <a class="on-end" href="https://www.youtube.com/channel/UC12LqyqTQYbXatYS9AA7Nuw">YouTube videos</a>, and the\n  <a class="on-end" href="https://d2l.ai/">Dive into Deep Learning</a>\n  textbook. If you have any comments or ideas related to\n  <a class="on-end" href="https://mlu-explain.github.io/">MLU-Explain articles</a>, feel free to reach out\n  <a class="on-end" href="https://twitter.com/jdwlbr">directly</a>. The code for\n  this article is available\n  <a class="on-end" href="https://github.com/aws-samples/aws-mlu-explain">here</a>. Banana icons provided by leo-graph.com from\n  <a href="https://thenounproject.com/browse/icons/term/bananas/" target="_blank" title="Bananas Icons">Noun Project</a>.',B(n,"class","body-header"),B(i,"class","body-text"),B(s,"class","body-text")},m(t,e){w(t,n,e),w(t,r,e),w(t,i,e),w(t,o,e),w(t,u,e),w(t,a,e),w(t,s,e)},p:t,i:t,o:t,d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(o),t&&x(u),t&&x(a),t&&x(s)}}}class Nc extends ft{constructor(t){super(),ht(this,t,null,Bc,a,{})}}function $c(e){let n,r,i,o,u,a,s;return{c(){n=A("br"),r=C(),i=A("br"),o=C(),u=A("br"),a=C(),s=A("section"),s.innerHTML='<br/> \n  <h3 class="body-header">References + Open Source</h3> \n  <p class="body-text svelte-geidpz">This article is a product of the following resources + the awesome people\n    who made (and contributed to) them:</p> \n  <br/> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="http://incompleteideas.net/book/the-book.html">Reinforcement Learning: An Introduction</a><br/>(Richard Sutton &amp; Andrew Barto, 2018)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://d3js.org/">D3.js</a><br/>(Mike Bostock &amp;\n    Philippe Rivière)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://katex.org/">KaTeX</a>  <br/>(Emily Eisenberg\n    &amp; Sophie Alpert)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://svelte.dev/">Svelte</a><br/>(Rich Harris)</p> \n  <br/> \n  <br/> \n  <br/>',B(s,"id","resources"),B(s,"class","svelte-geidpz")},m(t,e){w(t,n,e),w(t,r,e),w(t,i,e),w(t,o,e),w(t,u,e),w(t,a,e),w(t,s,e)},p:t,i:t,o:t,d(t){t&&x(n),t&&x(r),t&&x(i),t&&x(o),t&&x(u),t&&x(a),t&&x(s)}}}class Sc extends ft{constructor(t){super(),ht(this,t,null,$c,a,{})}}const{window:Tc}=ut;function zc(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D;return n=new gt({}),i=new Dt({}),u=new yt({}),s=new xt({}),c=new Mc({}),f=new Nc({}),p=new Sc({}),{c(){at(n.$$.fragment),r=C(),at(i.$$.fragment),o=C(),at(u.$$.fragment),a=C(),at(s.$$.fragment),l=C(),at(c.$$.fragment),h=C(),at(f.$$.fragment),d=C(),at(p.$$.fragment)},m(t,v){st(n,t,v),w(t,r,v),st(i,t,v),w(t,o,v),st(u,t,v),w(t,a,v),st(s,t,v),w(t,l,v),st(c,t,v),w(t,h,v),st(f,t,v),w(t,d,v),st(p,t,v),g=!0,m||(D=M(Tc,"resize",e[0]),m=!0)},p:t,i(t){g||(nt(n.$$.fragment,t),nt(i.$$.fragment,t),nt(u.$$.fragment,t),nt(s.$$.fragment,t),nt(c.$$.fragment,t),nt(f.$$.fragment,t),nt(p.$$.fragment,t),g=!0)},o(t){rt(n.$$.fragment,t),rt(i.$$.fragment,t),rt(u.$$.fragment,t),rt(s.$$.fragment,t),rt(c.$$.fragment,t),rt(f.$$.fragment,t),rt(p.$$.fragment,t),g=!1},d(t){lt(n,t),t&&x(r),lt(i,t),t&&x(o),lt(u,t),t&&x(a),lt(s,t),t&&x(l),lt(c,t),t&&x(h),lt(f,t),t&&x(d),lt(p,t),m=!1,D()}}}function kc(t,e,n){let r,i,o,u,a,l,h,f,d;function p(){const t=window.innerWidth;t>900&&t<1200?(c(yn,d=400,d),c(vn,f=400,f),c(wn,h={top:8,bottom:20,left:16,right:14},h),c(xn,l=100,l),c(An,a=430,a),c(En,u=200,u),c(Cn,o=.13,o),c(_n,i=.09,i),c(Fn,r=.22,r)):t<900?(console.log("k"),c(yn,d=300,d),c(vn,f=300,f),c(wn,h={top:8,bottom:20,left:16,right:14},h),c(xn,l=70,l),c(An,a=330,a),c(En,u=150,u),c(Cn,o=.1,o),c(_n,i=.07,i),c(Fn,r=.2,r)):(c(yn,d=500,d),c(vn,f=500,f),c(wn,h={top:8,bottom:20,left:16,right:15},h),c(xn,l=125,l),c(An,a=430,a),c(En,u=200,u),c(Cn,o=.13,o),c(_n,i=.09,i),c(Fn,r=.22,r))}return s(t,Fn,(t=>n(1,r=t))),s(t,_n,(t=>n(2,i=t))),s(t,Cn,(t=>n(3,o=t))),s(t,En,(t=>n(4,u=t))),s(t,An,(t=>n(5,a=t))),s(t,xn,(t=>n(6,l=t))),s(t,wn,(t=>n(7,h=t))),s(t,vn,(t=>n(8,f=t))),s(t,yn,(t=>n(9,d=t))),p(),[p]}return new class extends ft{constructor(t){super(),ht(this,t,kc,zc,a,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
